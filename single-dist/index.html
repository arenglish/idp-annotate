{% verbatim %}<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <title>HsiAnnotate</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<style>html,body{height:100vh;width:100vw;margin:0;padding:0}</style><style media="print">
html,body{height:100vh;width:100vw;margin:0;padding:0}

</style><noscript><style>
html,body{height:100vh;width:100vw;margin:0;padding:0}

</style></noscript></head>

<body>
  <app-root></app-root>
<script type="module">
(()=>{"use strict";var e,v={},h={};function a(e){var n=h[e];if(void 0!==n)return n.exports;var r=h[e]={id:e,loaded:!1,exports:{}};return v[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=v,e=[],a.O=(n,r,s,f)=>{if(!r){var o=1/0;for(t=0;t<e.length;t++){for(var[r,s,f]=e[t],u=!0,l=0;l<r.length;l++)(!1&f||o>=f)&&Object.keys(a.O).every(p=>a.O[p](r[l]))?r.splice(l--,1):(u=!1,f<o&&(o=f));if(u){e.splice(t--,1);var c=s();void 0!==c&&(n=c)}}return n}f=f||0;for(var t=e.length;t>0&&e[t-1][2]>f;t--)e[t]=e[t-1];e[t]=[r,s,f]},a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var r in n)a.o(n,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={666:0};a.O.j=s=>0===e[s];var n=(s,f)=>{var l,c,[t,o,u]=f,i=0;if(t.some(d=>0!==e[d])){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(u)var _=u(a)}for(s&&s(f);i<t.length;i++)a.o(e,c=t[i])&&e[c]&&e[c][0](),e[c]=0;return a.O(_)},r=self.webpackChunkhsi_annotate=self.webpackChunkhsi_annotate||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})()})();
</script><script type="module">
"use strict";(self.webpackChunkhsi_annotate=self.webpackChunkhsi_annotate||[]).push([[429],{7435:(ie,Ee,de)=>{de(8583)},8583:()=>{!function(e){const n=e.performance;function i(M){n&&n.mark&&n.mark(M)}function o(M,E){n&&n.measure&&n.measure(M,E)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function a(M){return c+M}const y=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone){if(y||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let d=(()=>{class M{constructor(t,r){this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}static assertZonePatched(){if(e.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=M.current;for(;t.parent;)t=t.parent;return t}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t,r,k=!1){if(oe.hasOwnProperty(t)){if(!k&&y)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const C="Zone:"+t;i(C),oe[t]=r(e,M,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}get(t){const r=this.getZoneWith(t);if(r)return r._properties[t]}getZoneWith(t){let r=this;for(;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const k=this._zoneDelegate.intercept(this,t,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(t,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t,r,k,C)}finally{U=U.parent}}runGuarded(t,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(t,r,k){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");if(t.state===x&&(t.type===Q||t.type===w))return;const C=t.state!=p;C&&t._transitionTo(p,j),t.runCount++;const $=re;re=t,U={parent:U,zone:this};try{t.type==w&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,k)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==x&&t.state!==h&&(t.type==Q||t.data&&t.data.isPeriodic?C&&t._transitionTo(j,p):(t.runCount=0,this._updateTaskCount(t,-1),C&&t._transitionTo(x,p,x))),U=U.parent,re=$}}scheduleTask(t){if(t.zone&&t.zone!==this){let k=this;for(;k;){if(k===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);k=k.parent}}t._transitionTo(X,x);const r=[];t._zoneDelegates=r,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(k){throw t._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return t._zoneDelegates===r&&this._updateTaskCount(t,1),t.state==X&&t._transitionTo(j,X),t}scheduleMicroTask(t,r,k,C){return this.scheduleTask(new m(I,t,r,k,C,void 0))}scheduleMacroTask(t,r,k,C,$){return this.scheduleTask(new m(w,t,r,k,C,$))}scheduleEventTask(t,r,k,C,$){return this.scheduleTask(new m(Q,t,r,k,C,$))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");t._transitionTo(G,j,p);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(x,G),t.runCount=0,t}_updateTaskCount(t,r){const k=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(t.type,r)}}return M.__symbol__=a,M})();const P={name:"",onHasTask:(M,E,t,r)=>M.hasTask(t,r),onScheduleTask:(M,E,t,r)=>M.scheduleTask(t,r),onInvokeTask:(M,E,t,r,k,C)=>M.invokeTask(t,r,k,C),onCancelTask:(M,E,t,r)=>M.cancelTask(t,r)};class v{constructor(E,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=E,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||t&&t._hasTaskZS)&&(this._hasTaskZS=k?r:P,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=E,r.onScheduleTask||(this._scheduleTaskZS=P,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=P,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=P,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(E,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,E,t):new d(E,t)}intercept(E,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,E,t,r):t}invoke(E,t,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,E,t,r,k,C):t.apply(r,k)}handleError(E,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,E,t)}scheduleTask(E,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,E,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");R(t)}return r}invokeTask(E,t,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,E,t,r,k):t.callback.apply(r,k)}cancelTask(E,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,E,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(E,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,E,t)}catch(r){this.handleError(E,r)}}_updateTaskCount(E,t){const r=this._taskCounts,k=r[E],C=r[E]=k+t;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:E})}}class m{constructor(E,t,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=E,this.source=t,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const l=this;this.invoke=E===Q&&k&&k.useG?m.invokeTask:function(){return m.invokeTask.call(e,l,this,arguments)}}static invokeTask(E,t,r){E||(E=this),ee++;try{return E.runCount++,E.zone.runTask(E,t,r)}finally{1==ee&&_(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(E,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${E}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=E,E==x&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const L=a("setTimeout"),Z=a("Promise"),N=a("then");let J,B=[],H=!1;function q(M){if(J||e[Z]&&(J=e[Z].resolve(0)),J){let E=J[N];E||(E=J.then),E.call(J,M)}else e[L](M,0)}function R(M){0===ee&&0===B.length&&q(_),M&&B.push(M)}function _(){if(!H){for(H=!0;B.length;){const M=B;B=[];for(let E=0;E<M.length;E++){const t=M[E];try{t.zone.runTask(t,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const K={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",p="running",G="canceling",h="unknown",I="microTask",w="macroTask",Q="eventTask",oe={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},re=null,ee=0;function W(){}o("Zone","Zone"),e.Zone=d}(typeof window<"u"&&window||typeof self<"u"&&self||global);const ie=Object.getOwnPropertyDescriptor,Ee=Object.defineProperty,de=Object.getPrototypeOf,ge=Object.create,Ve=Array.prototype.slice,Oe="addEventListener",Se="removeEventListener",Ze=Zone.__symbol__(Oe),Ne=Zone.__symbol__(Se),ce="true",ae="false",ke=Zone.__symbol__("");function Ie(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,o,c){return Zone.current.scheduleMacroTask(e,n,i,o,c)}const A=Zone.__symbol__,Pe=typeof window<"u",Te=Pe?window:void 0,Y=Pe&&Te||"object"==typeof self&&self||global;function Le(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Ie(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&typeof e.set>"u")}const Be=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&typeof Y.process<"u"&&"[object process]"==={}.toString.call(Y.process),je=!we&&!Be&&!(!Pe||!Te.HTMLElement),Ue=typeof Y.process<"u"&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!Te.HTMLElement),Re={},We=function(e){if(!(e=e||Y.event))return;let n=Re[e.type];n||(n=Re[e.type]=A("ON_PROPERTY"+e.type));const i=this||e.target||Y,o=i[n];let c;if(je&&i===Te&&"error"===e.type){const a=e;c=o&&o.call(this,a.message,a.filename,a.lineno,a.colno,a.error),!0===c&&e.preventDefault()}else c=o&&o.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function qe(e,n,i){let o=ie(e,n);if(!o&&i&&ie(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete o.writable,delete o.value;const a=o.get,y=o.set,d=n.slice(2);let P=Re[d];P||(P=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let m=this;!m&&e===Y&&(m=Y),m&&("function"==typeof m[P]&&m.removeEventListener(d,We),y&&y.call(m,null),m[P]=v,"function"==typeof v&&m.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&e===Y&&(v=Y),!v)return null;const m=v[P];if(m)return m;if(a){let L=a.call(this);if(L)return o.set.call(this,L),"function"==typeof v.removeAttribute&&v.removeAttribute(n),L}return null},Ee(e,n,o),e[c]=!0}function Xe(e,n,i){if(n)for(let o=0;o<n.length;o++)qe(e,"on"+n[o],i);else{const o=[];for(const c in e)"on"==c.slice(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(e,o[c],i)}}const ne=A("originalInstance");function ve(e){const n=Y[e];if(!n)return;Y[A(e)]=n,Y[e]=function(){const c=Le(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===e&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:Ee(Y[e].prototype,c,{set:function(a){"function"==typeof a?(this[ne][c]=Ie(a,e+"."+c),ue(this[ne][c],a)):this[ne][c]=a},get:function(){return this[ne][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[e][o]=n[o])}function le(e,n,i){let o=e;for(;o&&!o.hasOwnProperty(n);)o=de(o);!o&&e[n]&&(o=e);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&ie(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function lt(e,n,i){let o=null;function c(a){const y=a.data;return y.args[y.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(y.target,y.args),a}o=le(e,n,a=>function(y,d){const P=i(y,d);return P.cbIdx>=0&&"function"==typeof d[P.cbIdx]?Me(P.name,d[P.cbIdx],P,c):a.apply(y,d)})}function ue(e,n){e[A("OriginalDelegate")]=n}let ze=!1,Ae=!1;function ft(){if(ze)return Ae;ze=!0;try{const e=Te.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Ae=!0)}catch{}return Ae}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,y=i.symbol,d=[],P=!0===e[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=y("Promise"),m=y("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const u=l&&l.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;d.length;){const l=d.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(u){N(u)}}};const Z=y("unhandledPromiseRejectionHandler");function N(l){i.onUnhandledError(l);try{const u=n[Z];"function"==typeof u&&u.call(this,l)}catch{}}function B(l){return l&&l.then}function H(l){return l}function J(l){return t.reject(l)}const q=y("state"),R=y("value"),_=y("finally"),K=y("parentPromiseValue"),x=y("parentPromiseState"),j=null,p=!0,G=!1;function I(l,u){return s=>{try{z(l,u,s)}catch(f){z(l,!1,f)}}}const w=function(){let l=!1;return function(s){return function(){l||(l=!0,s.apply(null,arguments))}}},oe=y("currentTaskTrace");function z(l,u,s){const f=w();if(l===s)throw new TypeError("Promise resolved with itself");if(l[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(b){return f(()=>{z(l,!1,b)})(),l}if(u!==G&&s instanceof t&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)re(s),z(l,s[q],s[R]);else if(u!==G&&"function"==typeof g)try{g.call(s,f(I(l,u)),f(I(l,!1)))}catch(b){f(()=>{z(l,!1,b)})()}else{l[q]=u;const b=l[R];if(l[R]=s,l[_]===_&&u===p&&(l[q]=l[x],l[R]=l[K]),u===G&&s instanceof Error){const T=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;T&&c(s,oe,{configurable:!0,enumerable:!1,writable:!0,value:T})}for(let T=0;T<b.length;)ee(l,b[T++],b[T++],b[T++],b[T++]);if(0==b.length&&u==G){l[q]=0;let T=s;try{throw new Error("Uncaught (in promise): "+function a(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(D){T=D}P&&(T.throwOriginal=!0),T.rejection=s,T.promise=l,T.zone=n.current,T.task=n.currentTask,d.push(T),i.scheduleMicroTask()}}}return l}const U=y("rejectionHandledHandler");function re(l){if(0===l[q]){try{const u=n[U];u&&"function"==typeof u&&u.call(this,{rejection:l[R],promise:l})}catch{}l[q]=G;for(let u=0;u<d.length;u++)l===d[u].promise&&d.splice(u,1)}}function ee(l,u,s,f,g){re(l);const b=l[q],T=b?"function"==typeof f?f:H:"function"==typeof g?g:J;u.scheduleMicroTask("Promise.then",()=>{try{const D=l[R],O=!!s&&_===s[_];O&&(s[K]=D,s[x]=b);const S=u.run(T,void 0,O&&T!==J&&T!==H?[]:[D]);z(s,!0,S)}catch(D){z(s,!1,D)}},s)}const M=function(){},E=e.AggregateError;class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u){return z(new this(null),p,u)}static reject(u){return z(new this(null),G,u)}static any(u){if(!u||"function"!=typeof u[Symbol.iterator])return Promise.reject(new E([],"All promises were rejected"));const s=[];let f=0;try{for(let T of u)f++,s.push(t.resolve(T))}catch{return Promise.reject(new E([],"All promises were rejected"))}if(0===f)return Promise.reject(new E([],"All promises were rejected"));let g=!1;const b=[];return new t((T,D)=>{for(let O=0;O<s.length;O++)s[O].then(S=>{g||(g=!0,T(S))},S=>{b.push(S),f--,0===f&&(g=!0,D(new E(b,"All promises were rejected")))})})}static race(u){let s,f,g=new this((D,O)=>{s=D,f=O});function b(D){s(D)}function T(D){f(D)}for(let D of u)B(D)||(D=this.resolve(D)),D.then(b,T);return g}static all(u){return t.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof t?this:t).allWithCallback(u,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(u,s){let f,g,b=new this((S,V)=>{f=S,g=V}),T=2,D=0;const O=[];for(let S of u){B(S)||(S=this.resolve(S));const V=D;try{S.then(F=>{O[V]=s?s.thenCallback(F):F,T--,0===T&&f(O)},F=>{s?(O[V]=s.errorCallback(F),T--,0===T&&f(O)):g(F)})}catch(F){g(F)}T++,D++}return T-=2,0===T&&f(O),b}constructor(u){const s=this;if(!(s instanceof t))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{const f=w();u&&u(f(I(s,p)),f(I(s,G)))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(u,s){var f;let g=null===(f=this.constructor)||void 0===f?void 0:f[Symbol.species];(!g||"function"!=typeof g)&&(g=this.constructor||t);const b=new g(M),T=n.current;return this[q]==j?this[R].push(T,b,u,s):ee(this,T,b,u,s),b}catch(u){return this.then(null,u)}finally(u){var s;let f=null===(s=this.constructor)||void 0===s?void 0:s[Symbol.species];(!f||"function"!=typeof f)&&(f=t);const g=new f(M);g[_]=_;const b=n.current;return this[q]==j?this[R].push(b,g,u,u):ee(this,b,g,u,u),g}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const r=e[v]=e.Promise;e.Promise=t;const k=y("thenPatched");function C(l){const u=l.prototype,s=o(u,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=u.then;u[m]=f,l.prototype.then=function(g,b){return new t((D,O)=>{f.call(this,D,O)}).then(g,b)},l[k]=!0}return i.patchThen=C,r&&(C(r),le(e,"fetch",l=>function $(l){return function(u,s){let f=l.apply(u,s);if(f instanceof t)return f;let g=f.constructor;return g[k]||C(g),f}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const m=e[o];if(m)return n.call(m)}if(this===Error){const m=e[c];if(m)return n.call(m)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const y=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":y.call(this)}});let ye=!1;if(typeof window<"u")try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{ye=!1}const ht={useG:!0},te={},Ye={},$e=new RegExp("^"+ke+"(\\w+)(true|false)$"),Ke=A("propagationStopped");function Je(e,n){const i=(n?n(e):e)+ae,o=(n?n(e):e)+ce,c=ke+i,a=ke+o;te[e]={},te[e][ae]=c,te[e][ce]=a}function dt(e,n,i,o){const c=o&&o.add||Oe,a=o&&o.rm||Se,y=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",P=A(c),v="."+c+":",Z=function(R,_,K){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=p=>x.handleEvent(p),R.originalDelegate=x);try{R.invoke(R,_,[K])}catch(p){X=p}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,K.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,K){if(!(_=_||e.event))return;const x=R||_.target||e,X=x[te[_.type][K?ce:ae]];if(X){const j=[];if(1===X.length){const p=Z(X[0],x,_);p&&j.push(p)}else{const p=X.slice();for(let G=0;G<p.length&&(!_||!0!==_[Ke]);G++){const h=Z(p[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let p=0;p<j.length;p++){const G=j[p];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function J(R,_){if(!R)return!1;let K=!0;_&&void 0!==_.useG&&(K=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let p=R;for(;p&&!p.hasOwnProperty(c);)p=de(p);if(!p&&R[c]&&(p=R),!p||p[P])return!1;const G=_&&_.eventNameToString,h={},I=p[P]=p[c],w=p[A(a)]=p[a],Q=p[A(y)]=p[y],oe=p[A(d)]=p[d];let z;function U(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}_&&_.prepend&&(z=p[A(_.prepend)]=p[_.prepend]);const t=K?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=K?function(s){if(!s.isRemoved){const f=te[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const b=g&&s.target[g];if(b)for(let T=0;T<b.length;T++)if(b[T]===s){b.splice(T,1),s.isRemoved=!0,0===b.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return w.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return w.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],l=e[A("PASSIVE_EVENTS")],u=function(s,f,g,b,T=!1,D=!1){return function(){const O=this||e;let S=arguments[0];_&&_.transferEventName&&(S=_.transferEventName(S));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===S)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,O,arguments))return;const fe=ye&&!!l&&-1!==l.indexOf(S),se=U(arguments[2],fe);if($)for(let _e=0;_e<$.length;_e++)if(S===$[_e])return fe?s.call(O,S,V,se):s.apply(this,arguments);const xe=!!se&&("boolean"==typeof se||se.capture),nt=!(!se||"object"!=typeof se)&&se.once,gt=Zone.current;let Ge=te[S];Ge||(Je(S,G),Ge=te[S]);const rt=Ge[xe?ce:ae];let De,me=O[rt],ot=!1;if(me){if(ot=!0,X)for(let _e=0;_e<me.length;_e++)if(C(me[_e],V))return}else me=O[rt]=[];const st=O.constructor.name,it=Ye[st];it&&(De=it[S]),De||(De=st+f+(G?G(S):S)),h.options=se,nt&&(h.options.once=!1),h.target=O,h.capture=xe,h.eventName=S,h.isExisting=ot;const be=K?ht:void 0;be&&(be.taskData=h);const he=gt.scheduleEventTask(De,V,be,g,b);return h.target=null,be&&(be.taskData=null),nt&&(se.once=!0),!ye&&"boolean"==typeof he.options||(he.options=se),he.target=O,he.capture=xe,he.eventName=S,F&&(he.originalDelegate=V),D?me.unshift(he):me.push(he),T?O:void 0}};return p[c]=u(I,v,t,r,j),z&&(p.prependListener=u(z,".prependListener:",function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),p[a]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],b=!!g&&("boolean"==typeof g||g.capture),T=arguments[1];if(!T)return w.apply(this,arguments);if(x&&!x(w,T,s,arguments))return;const D=te[f];let O;D&&(O=D[b?ce:ae]);const S=O&&s[O];if(S)for(let V=0;V<S.length;V++){const F=S[V];if(C(F,T))return S.splice(V,1),F.isRemoved=!0,0===S.length&&(F.allRemoved=!0,s[O]=null,"string"==typeof f)&&(s[ke+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return w.apply(this,arguments)},p[y]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],b=Qe(s,G?G(f):f);for(let T=0;T<b.length;T++){const D=b[T];g.push(D.originalDelegate?D.originalDelegate:D.callback)}return g},p[d]=function(){const s=this||e;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=te[f];if(g){const D=s[g[ae]],O=s[g[ce]];if(D){const S=D.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(O){const S=O.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let b=0;b<g.length;b++){const D=$e.exec(g[b]);let O=D&&D[1];O&&"removeListener"!==O&&this[d].call(this,O)}this[d].call(this,"removeListener")}if(j)return this},ue(p[c],I),ue(p[a],w),oe&&ue(p[d],oe),Q&&ue(p[y],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=J(i[R],o);return q}function Qe(e,n){if(!n){const a=[];for(let y in e){const d=$e.exec(y);let P=d&&d[1];if(P&&(!n||P===n)){const v=e[y];if(v)for(let m=0;m<v.length;m++)a.push(v[m])}}return a}let i=te[n];i||(Je(n),i=te[n]);const o=e[i[ae]],c=e[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function _t(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Ke]=!0,o&&o.apply(c,a)})}function Et(e,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const y=n[a]=n[o];n[o]=function(d,P,v){return P&&P.prototype&&c.forEach(function(m){const L=`${i}.${o}::`+m,Z=P.prototype;try{if(Z.hasOwnProperty(m)){const N=e.ObjectGetOwnPropertyDescriptor(Z,m);N&&N.value?(N.value=e.wrapWithCurrentZone(N.value,L),e._redefineProperty(P.prototype,m,N)):Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}else Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}catch{}}),y.call(n,d,P,v)},e.attachOriginToPatched(n[o],y)}function et(e,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===e);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(e,n,i,o){e&&Xe(e,et(e,n,i),o)}function He(e){return Object.getOwnPropertyNames(e).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(e,n,i)=>{const o=He(e);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=Le,i.patchMacroTask=lt;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[c]=e[a]),e[c]&&(n[c]=n[a]=e[c]),i.patchEventPrototype=_t,i.patchEventTarget=dt,i.isIEOrEdge=ft,i.ObjectDefineProperty=Ee,i.ObjectGetOwnPropertyDescriptor=ie,i.ObjectCreate=ge,i.ArraySlice=Ve,i.patchClass=ve,i.wrapWithCurrentZone=Ie,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Et,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:te,eventNames:o,isBrowser:je,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Oe,REMOVE_EVENT_LISTENER_STR:Se})});const Ce=A("zoneTask");function pe(e,n,i,o){let c=null,a=null;i+=o;const y={};function d(v){const m=v.data;return m.args[0]=function(){return v.invoke.apply(this,arguments)},m.handleId=c.apply(e,m.args),v}function P(v){return a.call(e,v.data.handleId)}c=le(e,n+=o,v=>function(m,L){if("function"==typeof L[0]){const Z={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?L[1]||0:void 0,args:L},N=L[0];L[0]=function(){try{return N.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete y[Z.handleId]:Z.handleId&&(Z.handleId[Ce]=null))}};const B=Me(n,L[0],Z,d,P);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?y[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(e,L)}),a=le(e,i,v=>function(m,L){const Z=L[0];let N;"number"==typeof Z?N=y[Z]:(N=Z&&Z[Ce],N||(N=Z)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof Z?delete y[Z]:Z&&(Z[Ce]=null),N.zone.cancelTask(N)):v.apply(e,L)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",o=>function(c,a){n.current.scheduleMicroTask("queueMicrotask",a[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";pe(e,n,i,"Timeout"),pe(e,n,i,"Interval"),pe(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{pe(e,"request","cancel","AnimationFrame"),pe(e,"mozRequest","mozCancel","AnimationFrame"),pe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(e,i[o],(a,y,d)=>function(P,v){return n.current.run(a,e,v,d)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function mt(e,n){n.patchEventPrototype(e,n)})(e,i),function pt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:y}=n.getGlobalObjects();for(let P=0;P<i.length;P++){const v=i[P],Z=y+(v+a),N=y+(v+c);o[v]={},o[v][a]=Z,o[v][c]=N}const d=e.EventTarget;d&&d.prototype&&n.patchEventTarget(e,n,[d&&d.prototype])}(e,i);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(e,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function Tt(e,n){if(we&&!Ue||Zone[e.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(je){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ut(){try{const e=Te.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,He(c),i&&i.concat(a),de(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,He(a.prototype),i)}}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function yt(e,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function P(v){const m=v.XMLHttpRequest;if(!m)return;const L=m.prototype;let N=L[Ze],B=L[Ne];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ze],B=I[Ne]}}const H="readystatechange",J="scheduled";function q(h){const I=h.data,w=I.target;w[a]=!1,w[d]=!1;const Q=w[c];N||(N=w[Ze],B=w[Ne]),Q&&B.call(w,H,Q);const oe=w[c]=()=>{if(w.readyState===w.DONE)if(!I.aborted&&w[a]&&h.state===J){const U=w[n.__symbol__("loadfalse")];if(0!==w.status&&U&&U.length>0){const re=h.invoke;h.invoke=function(){const ee=w[n.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h&&ee.splice(W,1);!I.aborted&&h.state===J&&re.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===w[a]&&(w[d]=!0)};return N.call(w,H,oe),w[i]||(w[i]=h),p.apply(w,I.args),w[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const K=le(L,"open",()=>function(h,I){return h[o]=0==I[2],h[y]=I[1],K.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),p=le(L,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return p.apply(h,I);{const w={target:h,url:h[y],isPeriodic:!1,args:I,aborted:!1},Q=Me("XMLHttpRequest.send",R,w,q,_);h&&!0===h[d]&&!w.aborted&&Q.state===J&&Q.invoke()}}),G=le(L,"abort",()=>function(h,I){const w=function Z(h){return h[i]}(h);if(w&&"string"==typeof w.type){if(null==w.cancelFn||w.data&&w.data.aborted)return;w.zone.cancelTask(w)}else if(!0===n.current[X])return G.apply(h,I)})}(e);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),y=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function at(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=e[c];if(a){if(!Fe(ie(e,c)))continue;e[c]=(d=>{const P=function(){return d.apply(this,Le(arguments,i+"."+c))};return ue(P,d),P})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(o){return function(c){Qe(e,o).forEach(y=>{const d=e.PromiseRejectionEvent;if(d){const P=new d(o,{promise:c.promise,reason:c.rejection});y.invoke(P)}})}}e.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))})}},ie=>{ie(ie.s=7435)}]);
</script><script type="module">
(self.webpackChunkhsi_annotate=self.webpackChunkhsi_annotate||[]).push([[179],{5418:($,k,M)=>{"use strict";var o=M(4650);let x=null;function J(){return x}const B=new o.OlP("DocumentToken");let Z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function U(){return(0,o.LFG)(z)}()},providedIn:"platform"}),n})();const Q=new o.OlP("Location Initialized");let z=(()=>{class n extends Z{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(e){const s=J().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=J().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,c){H()?this._history.pushState(e,s,c):this.location.hash=c}replaceState(e,s,c){H()?this._history.replaceState(e,s,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(B))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ce(){return new z((0,o.LFG)(B))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function be(n,r){if(0==n.length)return r;if(0==r.length)return n;let e=0;return n.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?n+r.substring(1):1==e?n+r:n+"/"+r}function ue(n){const r=n.match(/#|\?|$/),e=r&&r.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(We)},providedIn:"root"}),n})();const De=new o.OlP("appBaseHref");let We=(()=>{class n extends me{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(B).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return be(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+He(this._platformLocation.search),c=this._platformLocation.hash;return c&&e?`${s}${c}`:s}pushState(e,s,c,f){const _=this.prepareExternalUrl(c+He(f));this._platformLocation.pushState(e,s,_)}replaceState(e,s,c,f){const _=this.prepareExternalUrl(c+He(f));this._platformLocation.replaceState(e,s,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Z),o.LFG(De,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),it=(()=>{class n extends me{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=be(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,c,f){let _=this.prepareExternalUrl(c+He(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.pushState(e,s,_)}replaceState(e,s,c,f){let _=this.prepareExternalUrl(c+He(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Z),o.LFG(De,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._baseHref=ue(Fe(s)),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+He(s))}normalize(e){return n.stripTrailingSlash(function Re(n,r){return n&&r.startsWith(n)?r.substring(n.length):r}(this._baseHref,Fe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",c=null){this._locationStrategy.pushState(c,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(s)),c)}replaceState(e,s="",c=null){this._locationStrategy.replaceState(c,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(s)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(c=>c(e,s))}subscribe(e,s,c){return this._subject.subscribe({next:e,error:s,complete:c})}}return n.normalizeQueryParams=He,n.joinWithSlash=be,n.stripTrailingSlash=ue,n.\u0275fac=function(e){return new(e||n)(o.LFG(me))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function _e(){return new Se((0,o.LFG)(me))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}function Oa(n,r){r=encodeURIComponent(r);for(const e of n.split(";")){const s=e.indexOf("="),[c,f]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(c.trim()===r)return decodeURIComponent(f)}return null}let Bt=(()=>{class n{constructor(e,s,c,f){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=c,this._renderer=f,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(c=>{s?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ra{constructor(r,e,s,c){this.$implicit=r,this.ngForOf=e,this.index=s,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yi=(()=>{class n{constructor(e,s,c){this._viewContainer=e,this._template=s,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((c,f,_)=>{if(null==c.previousIndex)s.createEmbeddedView(this._template,new Ra(c.item,this._ngForOf,-1,-1),null===_?void 0:_);else if(null==_)s.remove(null===f?void 0:f);else if(null!==f){const C=s.get(f);s.move(C,_),to(C,c)}});for(let c=0,f=s.length;c<f;c++){const C=s.get(c).context;C.index=c,C.count=f,C.ngForOf=this._ngForOf}e.forEachIdentityChange(c=>{to(s.get(c.currentIndex),c)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function to(n,r){n.context.$implicit=r.item}let Ut=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new cd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class cd{constructor(){this.$implicit=null,this.ngIf=null}}function zn(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(r)}'.`)}class Ln{constructor(r,e){this._viewContainerRef=r,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}}let Sr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const s=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),no=(()=>{class n{constructor(e,s,c){this.ngSwitch=c,c._addCase(),this._view=new Ln(e,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Sr,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ss=(()=>{class n{constructor(e,s,c){c._addDefault(new Ln(e,s))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Sr,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),K=(()=>{class n{constructor(e,s,c){this._ngEl=e,this._differs=s,this._renderer=c,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[c,f]=e.split("."),_=-1===c.indexOf("-")?void 0:o.JOm.DashCase;null!=s?this._renderer.setStyle(this._ngEl.nativeElement,c,f?`${s}${f}`:s,_):this._renderer.removeStyle(this._ngEl.nativeElement,c,_)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),re=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const s=this._viewContainerRef;if(this._viewRef&&s.remove(s.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:c,ngTemplateOutletContext:f,ngTemplateOutletInjector:_}=this;this._viewRef=s.createEmbeddedView(c,f,_?{injector:_}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})();class Nt{createSubscription(r,e){return r.subscribe({next:e,error:s=>{throw s}})}dispose(r){r.unsubscribe()}}class On{createSubscription(r,e){return r.then(e,s=>{throw s})}dispose(r){}}const Cn=new On,Vi=new Nt;let Pt=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,o.QGY)(e))return Cn;if((0,o.F4k)(e))return Vi;throw function Me(n,r){return new o.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),md=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Vu="browser";let vd=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Tr((0,o.LFG)(B),window)}),n})();class Tr{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function Bi(n,r){const e=n.getElementById(r)||n.getElementsByName(r)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let c=s.currentNode;for(;c;){const f=c.shadowRoot;if(f){const _=f.getElementById(r)||f.querySelector(`[name="${r}"]`);if(_)return _}c=s.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),s=e.left+this.window.pageXOffset,c=e.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(s-f[0],c-f[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=ka(this.window.history)||ka(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ka(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Pl{}class Fl extends class Ff extends class W{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function V(n){x||(x=n)}(new Fl)}onAndCancel(r,e,s){return r.addEventListener(e,s,!1),()=>{r.removeEventListener(e,s,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function Or(){return Xr=Xr||document.querySelector("base"),Xr?Xr.getAttribute("href"):null}();return null==e?null:function ao(n){Wn=Wn||document.createElement("a"),Wn.setAttribute("href",n);const r=Wn.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Xr=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Oa(document.cookie,r)}}let Wn,Xr=null;const cn=new o.OlP("TRANSITION_ID"),hm=[{provide:o.ip1,useFactory:function Lf(n,r,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const s=J(),c=r.querySelectorAll(`style[ng-transition="${n}"]`);for(let f=0;f<c.length;f++)s.remove(c[f])})}},deps:[cn,B,o.zs3],multi:!0}];let Gu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const j=new o.OlP("EventManagerPlugins");let le=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(c=>c.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,c){return this._findPluginFor(s).addEventListener(e,s,c)}addGlobalEventListener(e,s,c){return this._findPluginFor(s).addGlobalEventListener(e,s,c)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const c=this._plugins;for(let f=0;f<c.length;f++){const _=c[f];if(_.supports(e))return this._eventNameToPlugin.set(e,_),_}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ee{constructor(r){this._doc=r}addGlobalEventListener(r,e,s){const c=J().getGlobalEventTarget(this._doc,r);if(!c)throw new Error(`Unsupported event target ${c} for event ${e}`);return this.addEventListener(c,e,s)}}let qe=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),s.add(c))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),dt=(()=>{class n extends qe{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,c){e.forEach(f=>{const _=this._doc.createElement("style");_.textContent=f,c.push(s.appendChild(_))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Ft),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,c)=>{this._addStylesToHost(e,c,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ft))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(B))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ft(n){J().remove(n)}const bn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qt=/%COMP%/g;function Zo(n,r,e){for(let s=0;s<r.length;s++){let c=r[s];Array.isArray(c)?Zo(n,c,e):(c=c.replace(qt,n),e.push(c))}return e}function Nl(n){return r=>{if("__ngUnwrap__"===r)return n;!1===n(r)&&(r.preventDefault(),r.returnValue=!1)}}let Vf=(()=>{class n{constructor(e,s,c){this.eventManager=e,this.sharedStylesHost=s,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new zo(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case o.ifc.Emulated:{let c=this.rendererByCompId.get(s.id);return c||(c=new Bf(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,c)),c.applyToHost(e),c}case 1:case o.ifc.ShadowDom:return new Ul(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const c=Zo(s.id,s.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(le),o.LFG(dt),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class zo{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?document.createElementNS(bn[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){(Bl(r)?r.content:r).appendChild(e)}insertBefore(r,e,s){r&&(Bl(r)?r.content:r).insertBefore(e,s)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let s="string"==typeof r?document.querySelector(r):r;if(!s)throw new Error(`The selector "${r}" did not match any elements`);return e||(s.textContent=""),s}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,s,c){if(c){e=c+":"+e;const f=bn[c];f?r.setAttributeNS(f,e,s):r.setAttribute(e,s)}else r.setAttribute(e,s)}removeAttribute(r,e,s){if(s){const c=bn[s];c?r.removeAttributeNS(c,e):r.removeAttribute(`${s}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,s,c){c&(o.JOm.DashCase|o.JOm.Important)?r.style.setProperty(e,s,c&o.JOm.Important?"important":""):r.style[e]=s}removeStyle(r,e,s){s&o.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,s){r[e]=s}setValue(r,e){r.nodeValue=e}listen(r,e,s){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,Nl(s)):this.eventManager.addEventListener(r,e,Nl(s))}}function Bl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Bf extends zo{constructor(r,e,s,c){super(r),this.component=s;const f=Zo(c+"-"+s.id,s.styles,[]);e.addStyles(f),this.contentAttr=function Ll(n){return"_ngcontent-%COMP%".replace(qt,n)}(c+"-"+s.id),this.hostAttr=function lo(n){return"_nghost-%COMP%".replace(qt,n)}(c+"-"+s.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const s=super.createElement(r,e);return super.setAttribute(s,this.contentAttr,""),s}}class Ul extends zo{constructor(r,e,s,c){super(r),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=Zo(c.id,c.styles,[]);for(let _=0;_<f.length;_++){const C=document.createElement("style");C.textContent=f[_],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,s){return super.insertBefore(this.nodeOrShadowRoot(r),e,s)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Ji=(()=>{class n extends ee{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,c){return e.addEventListener(s,c,!1),()=>this.removeEventListener(e,s,c)}removeEventListener(e,s,c){return e.removeEventListener(s,c)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(B))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Hl=["alt","control","meta","shift"],Wo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ba={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let jl=(()=>{class n extends ee{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,c){const f=n.parseEventName(s),_=n.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>J().onAndCancel(e,f.domEventName,_))}static parseEventName(e){const s=e.toLowerCase().split("."),c=s.shift();if(0===s.length||"keydown"!==c&&"keyup"!==c)return null;const f=n._normalizeKey(s.pop());let _="",C=s.indexOf("code");if(C>-1&&(s.splice(C,1),_="code."),Hl.forEach(I=>{const N=s.indexOf(I);N>-1&&(s.splice(N,1),_+=I+".")}),_+=f,0!=s.length||0===f.length)return null;const b={};return b.domEventName=c,b.fullKey=_,b}static matchEventFullKeyCode(e,s){let c=Wo[e.key]||e.key,f="";return s.indexOf("code.")>-1&&(c=e.code,f="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Hl.forEach(_=>{_!==c&&(0,Ba[_])(e)&&(f+=_+".")}),f+=c,f===s)}static eventCallback(e,s,c){return f=>{n.matchEventFullKeyCode(f,e)&&c.runGuarded(()=>s(f))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(B))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ko=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Vu},{provide:o.g9A,useValue:function zu(){Fl.makeCurrent()},multi:!0},{provide:B,useFactory:function Od(){return(0,o.RDi)(document),document},deps:[]}]),uo=new o.OlP(""),Ku=[{provide:o.rWj,useClass:class Nf{addToWindow(r){o.dqk.getAngularTestability=(s,c=!0)=>{const f=r.findTestabilityInTree(s,c);if(null==f)throw new Error("Could not find testability for element.");return f},o.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(s=>{const c=o.dqk.getAllAngularTestabilities();let f=c.length,_=!1;const C=function(b){_=_||b,f--,0==f&&s(_)};c.forEach(function(b){b.whenStable(C)})})}findTestabilityInTree(r,e,s){return null==e?null:r.getTestability(e)??(s?J().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Pd=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function $l(){return new o.qLn},deps:[]},{provide:j,useClass:Ji,multi:!0,deps:[B,o.R0b,o.Lbi]},{provide:j,useClass:jl,multi:!0,deps:[B]},{provide:Vf,useClass:Vf,deps:[le,dt,o.AFp]},{provide:o.FYo,useExisting:Vf},{provide:qe,useExisting:dt},{provide:dt,useClass:dt,deps:[B]},{provide:le,useClass:le,deps:[j,o.R0b]},{provide:Pl,useClass:Gu,deps:[]},[]];let Rd=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:cn,useExisting:o.AFp},hm]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(uo,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Pd,...Ku],imports:[md,o.hGG]}),n})(),Ha=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(B))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function Kn(){return new Ha((0,o.LFG)(B))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var dn=M(457),je=M(9646),hi=M(1135);const Ci=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pn=M(9751);const{isArray:Zf}=Array,{getPrototypeOf:Xu,prototype:Kl,keys:ns}=Object;function zf(n){if(1===n.length){const r=n[0];if(Zf(r))return{args:r,keys:null};if(function mm(n){return n&&"object"==typeof n&&Xu(n)===Kl}(r)){const e=ns(r);return{args:e.map(s=>r[s]),keys:e}}}return{args:n,keys:null}}var ec=M(4671),Be=M(4004);const{isArray:Wf}=Array;function Yl(n){return(0,Be.U)(r=>function Yn(n,r){return Wf(r)?n(...r):n(r)}(n,r))}var hr=M(7669);function kr(n,r){return n.reduce((e,s,c)=>(e[s]=r[c],e),{})}var Bn=M(5403),Fd=M(9672);function Ui(...n){const r=(0,hr.yG)(n),e=(0,hr.jO)(n),{args:s,keys:c}=zf(n);if(0===s.length)return(0,dn.D)([],r);const f=new Pn.y(function _m(n,r,e=ec.y){return s=>{Kf(r,()=>{const{length:c}=n,f=new Array(c);let _=c,C=c;for(let b=0;b<c;b++)Kf(r,()=>{const I=(0,dn.D)(n[b],r);let N=!1;I.subscribe((0,Bn.x)(s,q=>{f[b]=q,N||(N=!0,C--),C||s.next(e(f.slice()))},()=>{--_||s.complete()}))},s)},s)}}(s,r,c?_=>kr(c,_):ec.y));return e?f.pipe(Yl(e)):f}function Kf(n,r,e){n?(0,Fd.f)(e,n,r):r()}var $a=M(8189);function Ql(...n){return function Yf(){return(0,$a.J)(1)}()((0,dn.D)(n,(0,hr.yG)(n)))}var is=M(8421);function Ld(n){return new Pn.y(r=>{(0,is.Xf)(n()).subscribe(r)})}var Ps=M(9635),ki=M(576);function Rs(n,r){const e=(0,ki.m)(n)?n:()=>n,s=c=>c.error(e());return new Pn.y(r?c=>r.schedule(s,0,c):s)}var oi=M(515),Nd=M(727),hn=M(4482);function Ga(){return(0,hn.e)((n,r)=>{let e=null;n._refCount++;const s=(0,Bn.x)(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const c=n._connection,f=e;e=null,c&&(!f||c===f)&&c.unsubscribe(),r.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class fr extends Pn.y{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,hn.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Nd.w0;const e=this.getSubject();r.add(this.source.subscribe((0,Bn.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Nd.w0.EMPTY)}return r}refCount(){return Ga()(this)}}var Ht=M(7579),ln=M(3900),on=M(5698);function Jo(...n){const r=(0,hr.yG)(n);return(0,hn.e)((e,s)=>{(r?Ql(n,e,r):Ql(n,e)).subscribe(s)})}var Rn=M(9300),kt=M(5577);function ks(n){return(0,hn.e)((r,e)=>{let s=!1;r.subscribe((0,Bn.x)(e,c=>{s=!0,e.next(c)},()=>{s||e.next(n),e.complete()}))})}function Qf(n=tc){return(0,hn.e)((r,e)=>{let s=!1;r.subscribe((0,Bn.x)(e,c=>{s=!0,e.next(c)},()=>s?e.complete():e.error(n())))})}function tc(){return new Ci}function ai(n,r){const e=arguments.length>=2;return s=>s.pipe(n?(0,Rn.h)((c,f)=>n(c,f,s)):ec.y,(0,on.q)(1),e?ks(r):Qf(()=>new Ci))}var pr=M(4351);function ot(n,r,e){const s=(0,ki.m)(n)||r||e?{next:n,error:r,complete:e}:n;return s?(0,hn.e)((c,f)=>{var _;null===(_=s.subscribe)||void 0===_||_.call(s);let C=!0;c.subscribe((0,Bn.x)(f,b=>{var I;null===(I=s.next)||void 0===I||I.call(s,b),f.next(b)},()=>{var b;C=!1,null===(b=s.complete)||void 0===b||b.call(s),f.complete()},b=>{var I;C=!1,null===(I=s.error)||void 0===I||I.call(s,b),f.error(b)},()=>{var b,I;C&&(null===(b=s.unsubscribe)||void 0===b||b.call(s)),null===(I=s.finalize)||void 0===I||I.call(s)}))}):ec.y}var Dn=M(262),Xo=M(5026);function gr(n){return n<=0?()=>oi.E:(0,hn.e)((r,e)=>{let s=[];r.subscribe((0,Bn.x)(e,c=>{s.push(c),n<s.length&&s.shift()},()=>{for(const c of s)e.next(c);e.complete()},void 0,()=>{s=null}))})}function Jl(n,r){const e=arguments.length>=2;return s=>s.pipe(n?(0,Rn.h)((c,f)=>n(c,f,s)):ec.y,gr(1),e?ks(r):Qf(()=>new Ci))}function ea(n){return(0,hn.e)((r,e)=>{try{r.subscribe(e)}finally{e.add(n)}})}const at="primary",ta=Symbol("RouteTitle");class qa{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ss(n){return new qa(n)}function vm(n,r,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(r.hasChildren()||s.length<n.length))return null;const c={};for(let f=0;f<s.length;f++){const _=s[f],C=n[f];if(_.startsWith(":"))c[_.substring(1)]=C;else if(_!==C.path)return null}return{consumed:n.slice(0,s.length),posParams:c}}function Fr(n,r){const e=n?Object.keys(n):void 0,s=r?Object.keys(r):void 0;if(!e||!s||e.length!=s.length)return!1;let c;for(let f=0;f<e.length;f++)if(c=e[f],!Za(n[c],r[c]))return!1;return!0}function Za(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const e=[...n].sort(),s=[...r].sort();return e.every((c,f)=>s[f]===c)}return n===r}function Xf(n){return Array.prototype.concat.apply([],n)}function ep(n){return n.length>0?n[n.length-1]:null}function kn(n,r){for(const e in n)n.hasOwnProperty(e)&&r(n[e],e)}function Lr(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,dn.D)(Promise.resolve(n)):(0,je.of)(n)}const Bd={exact:function Hd(n,r,e){if(!ia(n.segments,r.segments)||!rc(n.segments,r.segments,e)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const s in r.children)if(!n.children[s]||!Hd(n.children[s],r.children[s],e))return!1;return!0},subset:ic},ym={exact:function ey(n,r){return Fr(n,r)},subset:function jd(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(e=>Za(n[e],r[e]))},ignored:()=>!0};function Ud(n,r,e){return Bd[e.paths](n.root,r.root,e.matrixParams)&&ym[e.queryParams](n.queryParams,r.queryParams)&&!("exact"===e.fragment&&n.fragment!==r.fragment)}function ic(n,r,e){return $d(n,r,r.segments,e)}function $d(n,r,e,s){if(n.segments.length>e.length){const c=n.segments.slice(0,e.length);return!(!ia(c,e)||r.hasChildren()||!rc(c,e,s))}if(n.segments.length===e.length){if(!ia(n.segments,e)||!rc(n.segments,e,s))return!1;for(const c in r.children)if(!n.children[c]||!ic(n.children[c],r.children[c],s))return!1;return!0}{const c=e.slice(0,n.segments.length),f=e.slice(n.segments.length);return!!(ia(n.segments,c)&&rc(n.segments,c,s)&&n.children[at])&&$d(n.children[at],r,f,s)}}function rc(n,r,e){return r.every((s,c)=>ym[e](n[c].parameters,s.parameters))}class os{constructor(r,e,s){this.root=r,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ss(this.queryParams)),this._queryParamMap}toString(){return Gd.serialize(this)}}class Tt{constructor(r,e){this.segments=r,this.children=e,this.parent=null,kn(e,(s,c)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ra(this)}}class na{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ss(this.parameters)),this._parameterMap}toString(){return po(this)}}function ia(n,r){return n.length===r.length&&n.every((e,s)=>e.path===r[s].path)}let tp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new Xl},providedIn:"root"}),n})();class Xl{parse(r){const e=new zd(r);return new os(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${sa(r.root,!0)}`,s=function wm(n){const r=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(c=>`${Xi(e)}=${Xi(c)}`).join("&"):`${Xi(e)}=${Xi(s)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${s}${"string"==typeof r.fragment?`#${function qd(n){return encodeURI(n)}(r.fragment)}`:""}`}}const Gd=new Xl;function ra(n){return n.segments.map(r=>po(r)).join("/")}function sa(n,r){if(!n.hasChildren())return ra(n);if(r){const e=n.children[at]?sa(n.children[at],!1):"",s=[];return kn(n.children,(c,f)=>{f!==at&&s.push(`${f}:${sa(c,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function Cm(n,r){let e=[];return kn(n.children,(s,c)=>{c===at&&(e=e.concat(r(s,c)))}),kn(n.children,(s,c)=>{c!==at&&(e=e.concat(r(s,c)))}),e}(n,(s,c)=>c===at?[sa(n.children[at],!1)]:[`${c}:${sa(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[at]?`${ra(n)}/${e[0]}`:`${ra(n)}/(${e.join("//")})`}}function eu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xi(n){return eu(n).replace(/%3B/gi,";")}function xt(n){return eu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sc(n){return decodeURIComponent(n)}function Zd(n){return sc(n.replace(/\+/g,"%20"))}function po(n){return`${xt(n.path)}${function np(n){return Object.keys(n).map(r=>`;${xt(r)}=${xt(n[r])}`).join("")}(n.parameters)}`}const Em=/^[^\/()?;=#]+/;function wi(n){const r=n.match(Em);return r?r[0]:""}const bm=/^[^=?&#]+/,fi=/^[^&#]+/;class zd{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(s[at]=new Tt(r,e)),s}parseSegment(){const r=wi(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(r),new na(sc(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=wi(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const c=wi(this.remaining);c&&(s=c,this.capture(s))}r[sc(e)]=sc(s)}parseQueryParam(r){const e=function oc(n){const r=n.match(bm);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const _=function ac(n){const r=n.match(fi);return r?r[0]:""}(this.remaining);_&&(s=_,this.capture(s))}const c=Zd(e),f=Zd(s);if(r.hasOwnProperty(c)){let _=r[c];Array.isArray(_)||(_=[_],r[c]=_),_.push(f)}else r[c]=f}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=wi(this.remaining),c=this.remaining[s.length];if("/"!==c&&")"!==c&&";"!==c)throw new o.vHH(4010,!1);let f;s.indexOf(":")>-1?(f=s.slice(0,s.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=at);const _=this.parseChildren();e[f]=1===Object.keys(_).length?_[at]:new Tt([],_),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new o.vHH(4011,!1)}}function pi(n){return n.segments.length>0?new Tt([],{[at]:n}):n}function an(n){const r={};for(const s of Object.keys(n.children)){const f=an(n.children[s]);(f.segments.length>0||f.hasChildren())&&(r[s]=f)}return function oa(n){if(1===n.numberOfChildren&&n.children[at]){const r=n.children[at];return new Tt(n.segments.concat(r.segments),r.children)}return n}(new Tt(n.segments,r))}function Fs(n){return n instanceof os}function uc(n,r,e,s,c){if(0===e.length)return Wa(r.root,r.root,r.root,s,c);const f=function nu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tu(!0,0,n);let r=0,e=!1;const s=n.reduce((c,f,_)=>{if("object"==typeof f&&null!=f){if(f.outlets){const C={};return kn(f.outlets,(b,I)=>{C[I]="string"==typeof b?b.split("/"):b}),[...c,{outlets:C}]}if(f.segmentPath)return[...c,f.segmentPath]}return"string"!=typeof f?[...c,f]:0===_?(f.split("/").forEach((C,b)=>{0==b&&"."===C||(0==b&&""===C?e=!0:".."===C?r++:""!=C&&c.push(C))}),c):[...c,f]},[]);return new tu(e,r,s)}(e);return f.toRoot()?Wa(r.root,r.root,new Tt([],{}),s,c):function _(b){const I=function xm(n,r,e,s){if(n.isAbsolute)return new go(r.root,!0,0);if(-1===s)return new go(e,e===r.root,0);return function Ka(n,r,e){let s=n,c=r,f=e;for(;f>c;){if(f-=c,s=s.parent,!s)throw new o.vHH(4005,!1);c=s.segments.length}return new go(s,!1,c-f)}(e,s+(aa(n.commands[0])?0:1),n.numberOfDoubleDots)}(f,r,n.snapshot?._urlSegment,b),N=I.processChildren?la(I.segmentGroup,I.index,f.commands):cc(I.segmentGroup,I.index,f.commands);return Wa(r.root,I.segmentGroup,N,s,c)}(n.snapshot?._lastPathIndex)}function aa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function er(n){return"object"==typeof n&&null!=n&&n.outlets}function Wa(n,r,e,s,c){let _,f={};s&&kn(s,(b,I)=>{f[I]=Array.isArray(b)?b.map(N=>`${N}`):`${b}`}),_=n===r?e:Ls(n,r,e);const C=pi(an(_));return new os(C,f,c)}function Ls(n,r,e){const s={};return kn(n.children,(c,f)=>{s[f]=c===r?e:Ls(c,r,e)}),new Tt(n.segments,s)}class tu{constructor(r,e,s){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=s,r&&s.length>0&&aa(s[0]))throw new o.vHH(4003,!1);const c=s.find(er);if(c&&c!==ep(s))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class go{constructor(r,e,s){this.segmentGroup=r,this.processChildren=e,this.index=s}}function cc(n,r,e){if(n||(n=new Tt([],{})),0===n.segments.length&&n.hasChildren())return la(n,r,e);const s=function dc(n,r,e){let s=0,c=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;c<n.segments.length;){if(s>=e.length)return f;const _=n.segments[c],C=e[s];if(er(C))break;const b=`${C}`,I=s<e.length-1?e[s+1]:null;if(c>0&&void 0===b)break;if(b&&I&&"object"==typeof I&&void 0===I.outlets){if(!hc(b,I,_))return f;s+=2}else{if(!hc(b,{},_))return f;s++}c++}return{match:!0,pathIndex:c,commandIndex:s}}(n,r,e),c=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const f=new Tt(n.segments.slice(0,s.pathIndex),{});return f.children[at]=new Tt(n.segments.slice(s.pathIndex),n.children),la(f,0,c)}return s.match&&0===c.length?new Tt(n.segments,{}):s.match&&!n.hasChildren()?iu(n,r,e):s.match?la(n,0,c):iu(n,r,e)}function la(n,r,e){if(0===e.length)return new Tt(n.segments,{});{const s=function sp(n){return er(n[0])?n[0].outlets:{[at]:n}}(e),c={};return kn(s,(f,_)=>{"string"==typeof f&&(f=[f]),null!==f&&(c[_]=cc(n.children[_],r,f))}),kn(n.children,(f,_)=>{void 0===s[_]&&(c[_]=f)}),new Tt(n.segments,c)}}function iu(n,r,e){const s=n.segments.slice(0,r);let c=0;for(;c<e.length;){const f=e[c];if(er(f)){const b=tr(f.outlets);return new Tt(s,b)}if(0===c&&aa(e[0])){s.push(new na(n.segments[r].path,Ei(e[0]))),c++;continue}const _=er(f)?f.outlets[at]:`${f}`,C=c<e.length-1?e[c+1]:null;_&&C&&aa(C)?(s.push(new na(_,Ei(C))),c+=2):(s.push(new na(_,{})),c++)}return new Tt(s,{})}function tr(n){const r={};return kn(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[s]=iu(new Tt([],{}),0,e))}),r}function Ei(n){const r={};return kn(n,(e,s)=>r[s]=`${e}`),r}function hc(n,r,e){return n==e.path&&Fr(r,e.parameters)}class as{constructor(r,e){this.id=r,this.url=e}}class Ya extends as{constructor(r,e,s="imperative",c=null){super(r,e),this.type=0,this.navigationTrigger=s,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hi extends as{constructor(r,e,s){super(r,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ru extends as{constructor(r,e,s,c){super(r,e),this.reason=s,this.code=c,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wd extends as{constructor(r,e,s,c){super(r,e),this.error=s,this.target=c,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mm extends as{constructor(r,e,s,c){super(r,e),this.urlAfterRedirects=s,this.state=c,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class op extends as{constructor(r,e,s,c){super(r,e),this.urlAfterRedirects=s,this.state=c,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qa extends as{constructor(r,e,s,c,f){super(r,e),this.urlAfterRedirects=s,this.state=c,this.shouldActivate=f,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class su extends as{constructor(r,e,s,c){super(r,e),this.urlAfterRedirects=s,this.state=c,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ap extends as{constructor(r,e,s,c){super(r,e),this.urlAfterRedirects=s,this.state=c,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fc{constructor(r){this.route=r,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kd{constructor(r){this.route=r,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ja{constructor(r){this.snapshot=r,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lp{constructor(r){this.snapshot=r,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pc{constructor(r){this.snapshot=r,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gc{constructor(r){this.snapshot=r,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xa{constructor(r,e,s){this.routerEvent=r,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mc{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=ca(r,this._root);return e?e.children.map(s=>s.value):[]}firstChild(r){const e=ca(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=_c(r,this._root);return e.length<2?[]:e[e.length-2].children.map(c=>c.value).filter(c=>c!==r)}pathFromRoot(r){return _c(r,this._root).map(e=>e.value)}}function ca(n,r){if(n===r.value)return r;for(const e of r.children){const s=ca(n,e);if(s)return s}return null}function _c(n,r){if(n===r.value)return[r];for(const e of r.children){const s=_c(n,e);if(s.length)return s.unshift(r),s}return[]}class ls{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ns(n){const r={};return n&&n.children.forEach(e=>r[e.value.outlet]=e),r}class Yd extends mc{constructor(r,e){super(r),this.snapshot=e,mr(this,r)}toString(){return this.snapshot.toString()}}function Nr(n,r){const e=function Qd(n,r){const _=new da([],{},{},"",{},at,r,null,n.root,-1,{});return new ou("",new ls(_,[]))}(n,r),s=new hi.X([new na("",{})]),c=new hi.X({}),f=new hi.X({}),_=new hi.X({}),C=new hi.X(""),b=new Vs(s,c,_,C,f,at,r,e.root);return b.snapshot=e.root,new Yd(new ls(b,[]),e)}class Vs{constructor(r,e,s,c,f,_,C,b){this.url=r,this.params=e,this.queryParams=s,this.fragment=c,this.data=f,this.outlet=_,this.component=C,this.title=this.data?.pipe((0,Be.U)(I=>I[ta]))??(0,je.of)(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(r=>ss(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(r=>ss(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vc(n,r="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==r)for(s=e.length-1;s>=1;){const c=e[s],f=e[s-1];if(c.routeConfig&&""===c.routeConfig.path)s--;else{if(f.component)break;s--}}return function Jd(n){return n.reduce((r,e)=>({params:{...r.params,...e.params},data:{...r.data,...e.data},resolve:{...e.data,...r.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class da{constructor(r,e,s,c,f,_,C,b,I,N,q,oe){this.url=r,this.params=e,this.queryParams=s,this.fragment=c,this.data=f,this.outlet=_,this.component=C,this.title=this.data?.[ta],this.routeConfig=b,this._urlSegment=I,this._lastPathIndex=N,this._correctedLastPathIndex=oe??N,this._resolve=q}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ss(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ss(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ou extends mc{constructor(r,e){super(e),this.url=r,mr(this,e)}toString(){return el(this._root)}}function mr(n,r){r.value._routerState=n,r.children.forEach(e=>mr(n,e))}function el(n){const r=n.children.length>0?` { ${n.children.map(el).join(", ")} } `:"";return`${n.value}${r}`}function ha(n){if(n.snapshot){const r=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Fr(r.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),r.fragment!==e.fragment&&n.fragment.next(e.fragment),Fr(r.params,e.params)||n.params.next(e.params),function Jf(n,r){if(n.length!==r.length)return!1;for(let e=0;e<n.length;++e)if(!Fr(n[e],r[e]))return!1;return!0}(r.url,e.url)||n.url.next(e.url),Fr(r.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fa(n,r){const e=Fr(n.params,r.params)&&function ty(n,r){return ia(n,r)&&n.every((e,s)=>Fr(e.parameters,r[s].parameters))}(n.url,r.url);return e&&!(!n.parent!=!r.parent)&&(!n.parent||fa(n.parent,r.parent))}function us(n,r,e){if(e&&n.shouldReuseRoute(r.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=r.value;const c=function lt(n,r,e){return r.children.map(s=>{for(const c of e.children)if(n.shouldReuseRoute(s.value,c.value.snapshot))return us(n,s,c);return us(n,s)})}(n,r,e);return new ls(s,c)}{if(n.shouldAttach(r.value)){const f=n.retrieve(r.value);if(null!==f){const _=f.route;return _.value._futureSnapshot=r.value,_.children=r.children.map(C=>us(n,C)),_}}const s=function yc(n){return new Vs(new hi.X(n.url),new hi.X(n.params),new hi.X(n.queryParams),new hi.X(n.fragment),new hi.X(n.data),n.outlet,n.component,n)}(r.value),c=r.children.map(f=>us(n,f));return new ls(s,c)}}const au="ngNavigationCancelingError";function Bs(n,r){const{redirectTo:e,navigationBehaviorOptions:s}=Fs(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,c=Cc(!1,0,r);return c.url=e,c.navigationBehaviorOptions=s,c}function Cc(n,r,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[au]=!0,s.cancellationCode=r,e&&(s.url=e),s}function pa(n){return lu(n)&&Fs(n.url)}function lu(n){return n&&n[au]}class xn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new uu,this.attachRef=null}}let uu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const c=this.getOrCreateContext(e);c.outlet=s,this.contexts.set(e,c)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new xn,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wc=!1;let Xd=(()=>{class n{constructor(e,s,c,f,_){this.parentContexts=e,this.location=s,this.changeDetector=f,this.environmentInjector=_,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=c||at,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,wc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,wc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,wc);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new o.vHH(4013,wc);this._activatedRoute=e;const c=this.location,_=e._futureSnapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,b=new Am(e,C,c.injector);if(s&&function Ec(n){return!!n.resolveComponentFactory}(s)){const I=s.resolveComponentFactory(_);this.activated=c.createComponent(I,c.length,b)}else this.activated=c.createComponent(_,{index:c.length,injector:b,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uu),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Am{constructor(r,e,s){this.route=r,this.childContexts=e,this.parent=s}get(r,e){return r===Vs?this.route:r===uu?this.childContexts:this.parent.get(r,e)}}let eh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"router-outlet")},dependencies:[Xd],encapsulation:2}),n})();function th(n,r){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,r,`Route: ${n.path}`)),n._injector??r}function ga(n){const r=n.children&&n.children.map(ga),e=r?{...n,children:r}:{...n};return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==at&&(e.component=eh),e}function nr(n){return n.outlet||at}function rh(n,r){const e=n.filter(s=>nr(s)===r);return e.push(...n.filter(s=>nr(s)!==r)),e}function _r(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Im{constructor(r,e,s,c){this.routeReuseStrategy=r,this.futureState=e,this.currState=s,this.forwardEvent=c}activate(r){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,r),ha(this.futureState.root),this.activateChildRoutes(e,s,r)}deactivateChildRoutes(r,e,s){const c=Ns(e);r.children.forEach(f=>{const _=f.value.outlet;this.deactivateRoutes(f,c[_],s),delete c[_]}),kn(c,(f,_)=>{this.deactivateRouteAndItsChildren(f,s)})}deactivateRoutes(r,e,s){const c=r.value,f=e?e.value:null;if(c===f)if(c.component){const _=s.getContext(c.outlet);_&&this.deactivateChildRoutes(r,e,_.children)}else this.deactivateChildRoutes(r,e,s);else f&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const s=e.getContext(r.value.outlet),c=s&&r.value.component?s.children:e,f=Ns(r);for(const _ of Object.keys(f))this.deactivateRouteAndItsChildren(f[_],c);if(s&&s.outlet){const _=s.outlet.detach(),C=s.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:_,route:r,contexts:C})}}deactivateRouteAndOutlet(r,e){const s=e.getContext(r.value.outlet),c=s&&r.value.component?s.children:e,f=Ns(r);for(const _ of Object.keys(f))this.deactivateRouteAndItsChildren(f[_],c);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(r,e,s){const c=Ns(e);r.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],s),this.forwardEvent(new gc(f.value.snapshot))}),r.children.length&&this.forwardEvent(new lp(r.value.snapshot))}activateRoutes(r,e,s){const c=r.value,f=e?e.value:null;if(ha(c),c===f)if(c.component){const _=s.getOrCreateContext(c.outlet);this.activateChildRoutes(r,e,_.children)}else this.activateChildRoutes(r,e,s);else if(c.component){const _=s.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const C=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),_.children.onOutletReAttached(C.contexts),_.attachRef=C.componentRef,_.route=C.route.value,_.outlet&&_.outlet.attach(C.componentRef,C.route.value),ha(C.route.value),this.activateChildRoutes(r,null,_.children)}else{const C=_r(c.snapshot),b=C?.get(o._Vd)??null;_.attachRef=null,_.route=c,_.resolver=b,_.injector=C,_.outlet&&_.outlet.activateWith(c,_.injector),this.activateChildRoutes(r,null,_.children)}}else this.activateChildRoutes(r,null,s)}}class Om{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class xc{constructor(r,e){this.component=r,this.route=e}}function Pm(n,r,e){const s=n._root;return _a(s,r?r._root:null,e,[s.value])}function ma(n,r){const e=Symbol(),s=r.get(n,e);return s===e?"function"!=typeof n||(0,o.Z0I)(n)?r.get(n):n:s}function _a(n,r,e,s,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=Ns(r);return n.children.forEach(_=>{(function du(n,r,e,s,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=n.value,_=r?r.value:null,C=e?e.getContext(n.value.outlet):null;if(_&&f.routeConfig===_.routeConfig){const b=function sh(n,r,e){if("function"==typeof e)return e(n,r);switch(e){case"pathParamsChange":return!ia(n.url,r.url);case"pathParamsOrQueryParamsChange":return!ia(n.url,r.url)||!Fr(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fa(n,r)||!Fr(n.queryParams,r.queryParams);default:return!fa(n,r)}}(_,f,f.routeConfig.runGuardsAndResolvers);b?c.canActivateChecks.push(new Om(s)):(f.data=_.data,f._resolvedData=_._resolvedData),_a(n,r,f.component?C?C.children:null:e,s,c),b&&C&&C.outlet&&C.outlet.isActivated&&c.canDeactivateChecks.push(new xc(C.outlet.component,_))}else _&&tl(r,C,c),c.canActivateChecks.push(new Om(s)),_a(n,null,f.component?C?C.children:null:e,s,c)})(_,f[_.value.outlet],e,s.concat([_.value]),c),delete f[_.value.outlet]}),kn(f,(_,C)=>tl(_,e.getContext(C),c)),c}function tl(n,r,e){const s=Ns(n),c=n.value;kn(s,(f,_)=>{tl(f,c.component?r?r.children.getContext(_):null:r,e)}),e.canDeactivateChecks.push(new xc(c.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,c))}function nl(n){return"function"==typeof n}function cp(n){return n instanceof Ci||"EmptyError"===n?.name}const rl=Symbol("INITIAL_VALUE");function vo(){return(0,ln.w)(n=>Ui(n.map(r=>r.pipe((0,on.q)(1),Jo(rl)))).pipe((0,Be.U)(r=>{for(const e of r)if(!0!==e){if(e===rl)return rl;if(!1===e||e instanceof os)return e}return!0}),(0,Rn.h)(r=>r!==rl),(0,on.q)(1)))}function fp(n){return(0,Ps.z)(ot(r=>{if(Fs(r))throw Bs(0,r)}),(0,Be.U)(r=>!0===r))}const uh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mn(n,r,e,s,c){const f=Mc(n,r,e);return f.matched?function lh(n,r,e,s){const c=r.canMatch;if(!c||0===c.length)return(0,je.of)(!0);const f=c.map(_=>{const C=ma(_,n);return Lr(function oh(n){return n&&nl(n.canMatch)}(C)?C.canMatch(r,e):n.runInContext(()=>C(r,e)))});return(0,je.of)(f).pipe(vo(),fp())}(s=th(r,s),r,e).pipe((0,Be.U)(_=>!0===_?f:{...uh})):(0,je.of)(f)}function Mc(n,r,e){if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||e.length>0)?{...uh}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const c=(r.matcher||vm)(e,n,r);if(!c)return{...uh};const f={};kn(c.posParams,(C,b)=>{f[b]=C.path});const _=c.consumed.length>0?{...f,...c.consumed[c.consumed.length-1].parameters}:f;return{matched:!0,consumedSegments:c.consumed,remainingSegments:e.slice(c.consumed.length),parameters:_,positionalParamSegments:c.posParams??{}}}function Ac(n,r,e,s,c="corrected"){if(e.length>0&&function Lm(n,r,e){return e.some(s=>Li(n,r,s)&&nr(s)!==at)}(n,e,s)){const _=new Tt(r,function pp(n,r,e,s){const c={};c[at]=s,s._sourceSegment=n,s._segmentIndexShift=r.length;for(const f of e)if(""===f.path&&nr(f)!==at){const _=new Tt([],{});_._sourceSegment=n,_._segmentIndexShift=r.length,c[nr(f)]=_}return c}(n,r,s,new Tt(e,n.children)));return _._sourceSegment=n,_._segmentIndexShift=r.length,{segmentGroup:_,slicedSegments:[]}}if(0===e.length&&function Nm(n,r,e){return e.some(s=>Li(n,r,s))}(n,e,s)){const _=new Tt(n.segments,function ch(n,r,e,s,c,f){const _={};for(const C of s)if(Li(n,e,C)&&!c[nr(C)]){const b=new Tt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===f?n.segments.length:r.length,_[nr(C)]=b}return{...c,..._}}(n,r,e,s,n.children,c));return _._sourceSegment=n,_._segmentIndexShift=r.length,{segmentGroup:_,slicedSegments:e}}const f=new Tt(n.segments,n.children);return f._sourceSegment=n,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:e}}function Li(n,r,e){return(!(n.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function gp(n,r,e,s){return!!(nr(n)===s||s!==at&&Li(r,e,n))&&("**"===n.path||Mc(r,n,e).matched)}function mp(n,r,e){return 0===r.length&&!n.children[e]}const dh=!1;class Sc{constructor(r){this.segmentGroup=r||null}}class sl{constructor(r){this.urlTree=r}}function va(n){return Rs(new Sc(n))}function hh(n){return Rs(new sl(n))}class vp{constructor(r,e,s,c,f){this.injector=r,this.configLoader=e,this.urlSerializer=s,this.urlTree=c,this.config=f,this.allowRedirects=!0}apply(){const r=Ac(this.urlTree.root,[],[],this.config).segmentGroup,e=new Tt(r.segments,r.children);return this.expandSegmentGroup(this.injector,this.config,e,at).pipe((0,Be.U)(f=>this.createUrlTree(an(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Dn.K)(f=>{if(f instanceof sl)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Sc?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.injector,this.config,r.root,at).pipe((0,Be.U)(c=>this.createUrlTree(an(c),r.queryParams,r.fragment))).pipe((0,Dn.K)(c=>{throw c instanceof Sc?this.noMatchError(c):c}))}noMatchError(r){return new o.vHH(4002,dh)}createUrlTree(r,e,s){const c=pi(r);return new os(c,e,s)}expandSegmentGroup(r,e,s,c){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(r,e,s).pipe((0,Be.U)(f=>new Tt([],f))):this.expandSegment(r,s,e,s.segments,c,!0)}expandChildren(r,e,s){const c=[];for(const f of Object.keys(s.children))"primary"===f?c.unshift(f):c.push(f);return(0,dn.D)(c).pipe((0,pr.b)(f=>{const _=s.children[f],C=rh(e,f);return this.expandSegmentGroup(r,C,_,f).pipe((0,Be.U)(b=>({segment:b,outlet:f})))}),(0,Xo.R)((f,_)=>(f[_.outlet]=_.segment,f),{}),Jl())}expandSegment(r,e,s,c,f,_){return(0,dn.D)(s).pipe((0,pr.b)(C=>this.expandSegmentAgainstRoute(r,e,s,C,c,f,_).pipe((0,Dn.K)(I=>{if(I instanceof Sc)return(0,je.of)(null);throw I}))),ai(C=>!!C),(0,Dn.K)((C,b)=>{if(cp(C))return mp(e,c,f)?(0,je.of)(new Tt([],{})):va(e);throw C}))}expandSegmentAgainstRoute(r,e,s,c,f,_,C){return gp(c,e,f,_)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(r,e,c,f,_):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,s,c,f,_):va(e):va(e)}expandSegmentAgainstRouteUsingRedirect(r,e,s,c,f,_){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,s,c,_):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,s,c,f,_)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,s,c){const f=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?hh(f):this.lineralizeSegments(s,f).pipe((0,kt.z)(_=>{const C=new Tt(_,{});return this.expandSegment(r,C,e,_,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,s,c,f,_){const{matched:C,consumedSegments:b,remainingSegments:I,positionalParamSegments:N}=Mc(e,c,f);if(!C)return va(e);const q=this.applyRedirectCommands(b,c.redirectTo,N);return c.redirectTo.startsWith("/")?hh(q):this.lineralizeSegments(c,q).pipe((0,kt.z)(oe=>this.expandSegment(r,e,s,oe.concat(I),_,!1)))}matchSegmentAgainstRoute(r,e,s,c,f){return"**"===s.path?(r=th(s,r),s.loadChildren?(s._loadedRoutes?(0,je.of)({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(r,s)).pipe((0,Be.U)(C=>(s._loadedRoutes=C.routes,s._loadedInjector=C.injector,new Tt(c,{})))):(0,je.of)(new Tt(c,{}))):Mn(e,s,c,r).pipe((0,ln.w)(({matched:_,consumedSegments:C,remainingSegments:b})=>_?this.getChildConfig(r=s._injector??r,s,c).pipe((0,kt.z)(N=>{const q=N.injector??r,oe=N.routes,{segmentGroup:de,slicedSegments:ge}=Ac(e,C,b,oe),nt=new Tt(de.segments,de.children);if(0===ge.length&&nt.hasChildren())return this.expandChildren(q,oe,nt).pipe((0,Be.U)(Pe=>new Tt(C,Pe)));if(0===oe.length&&0===ge.length)return(0,je.of)(new Tt(C,{}));const xe=nr(s)===f;return this.expandSegment(q,nt,oe,ge,xe?at:f,!0).pipe((0,Be.U)(Te=>new Tt(C.concat(Te.segments),Te.children)))})):va(e)))}getChildConfig(r,e,s){return e.children?(0,je.of)({routes:e.children,injector:r}):e.loadChildren?void 0!==e._loadedRoutes?(0,je.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function hu(n,r,e,s){const c=r.canLoad;if(void 0===c||0===c.length)return(0,je.of)(!0);const f=c.map(_=>{const C=ma(_,n);return Lr(function ds(n){return n&&nl(n.canLoad)}(C)?C.canLoad(r,e):n.runInContext(()=>C(r,e)))});return(0,je.of)(f).pipe(vo(),fp())}(r,e,s).pipe((0,kt.z)(c=>c?this.configLoader.loadChildren(r,e).pipe(ot(f=>{e._loadedRoutes=f.routes,e._loadedInjector=f.injector})):function Tc(n){return Rs(Cc(dh,3))}())):(0,je.of)({routes:[],injector:r})}lineralizeSegments(r,e){let s=[],c=e.root;for(;;){if(s=s.concat(c.segments),0===c.numberOfChildren)return(0,je.of)(s);if(c.numberOfChildren>1||!c.children[at])return Rs(new o.vHH(4e3,dh));c=c.children[at]}}applyRedirectCommands(r,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,s)}applyRedirectCreateUrlTree(r,e,s,c){const f=this.createSegmentGroup(r,e.root,s,c);return new os(f,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const s={};return kn(r,(c,f)=>{if("string"==typeof c&&c.startsWith(":")){const C=c.substring(1);s[f]=e[C]}else s[f]=c}),s}createSegmentGroup(r,e,s,c){const f=this.createSegments(r,e.segments,s,c);let _={};return kn(e.children,(C,b)=>{_[b]=this.createSegmentGroup(r,C,s,c)}),new Tt(f,_)}createSegments(r,e,s,c){return e.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,c):this.findOrReturn(f,s))}findPosParam(r,e,s){const c=s[e.path.substring(1)];if(!c)throw new o.vHH(4001,dh);return c}findOrReturn(r,e){let s=0;for(const c of e){if(c.path===r.path)return e.splice(s),c;s++}return r}}class oy{}class Cp{constructor(r,e,s,c,f,_,C,b){this.injector=r,this.rootComponentType=e,this.config=s,this.urlTree=c,this.url=f,this.paramsInheritanceStrategy=_,this.relativeLinkResolution=C,this.urlSerializer=b}recognize(){const r=Ac(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,r,at).pipe((0,Be.U)(e=>{if(null===e)return null;const s=new da([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},at,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new ls(s,e),f=new ou(this.url,c);return this.inheritParamsAndData(f._root),f}))}inheritParamsAndData(r){const e=r.value,s=vc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),r.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(r,e,s,c){return 0===s.segments.length&&s.hasChildren()?this.processChildren(r,e,s):this.processSegment(r,e,s,s.segments,c)}processChildren(r,e,s){return(0,dn.D)(Object.keys(s.children)).pipe((0,pr.b)(c=>{const f=s.children[c],_=rh(e,c);return this.processSegmentGroup(r,_,f,c)}),(0,Xo.R)((c,f)=>c&&f?(c.push(...f),c):null),function fo(n,r=!1){return(0,hn.e)((e,s)=>{let c=0;e.subscribe((0,Bn.x)(s,f=>{const _=n(f,c++);(_||r)&&s.next(f),!_&&s.complete()}))})}(c=>null!==c),ks(null),Jl(),(0,Be.U)(c=>{if(null===c)return null;const f=Ic(c);return function wp(n){n.sort((r,e)=>r.value.outlet===at?-1:e.value.outlet===at?1:r.value.outlet.localeCompare(e.value.outlet))}(f),f}))}processSegment(r,e,s,c,f){return(0,dn.D)(e).pipe((0,pr.b)(_=>this.processSegmentAgainstRoute(_._injector??r,_,s,c,f)),ai(_=>!!_),(0,Dn.K)(_=>{if(cp(_))return mp(s,c,f)?(0,je.of)([]):(0,je.of)(null);throw _}))}processSegmentAgainstRoute(r,e,s,c,f){if(e.redirectTo||!gp(e,s,c,f))return(0,je.of)(null);let _;if("**"===e.path){const C=c.length>0?ep(c).parameters:{},b=Pc(s)+c.length,I=new da(c,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yo(e),nr(e),e.component??e._loadedComponent??null,e,Ep(s),b,ph(e),b);_=(0,je.of)({snapshot:I,consumedSegments:[],remainingSegments:[]})}else _=Mn(s,e,c,r).pipe((0,Be.U)(({matched:C,consumedSegments:b,remainingSegments:I,parameters:N})=>{if(!C)return null;const q=Pc(s)+b.length;return{snapshot:new da(b,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yo(e),nr(e),e.component??e._loadedComponent??null,e,Ep(s),q,ph(e),q),consumedSegments:b,remainingSegments:I}}));return _.pipe((0,ln.w)(C=>{if(null===C)return(0,je.of)(null);const{snapshot:b,consumedSegments:I,remainingSegments:N}=C;r=e._injector??r;const q=e._loadedInjector??r,oe=function ya(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:de,slicedSegments:ge}=Ac(s,I,N,oe.filter(xe=>void 0===xe.redirectTo),this.relativeLinkResolution);if(0===ge.length&&de.hasChildren())return this.processChildren(q,oe,de).pipe((0,Be.U)(xe=>null===xe?null:[new ls(b,xe)]));if(0===oe.length&&0===ge.length)return(0,je.of)([new ls(b,[])]);const nt=nr(e)===f;return this.processSegment(q,oe,de,ge,nt?at:f).pipe((0,Be.U)(xe=>null===xe?null:[new ls(b,xe)]))}))}}function Um(n){const r=n.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Ic(n){const r=[],e=new Set;for(const s of n){if(!Um(s)){r.push(s);continue}const c=r.find(f=>s.value.routeConfig===f.value.routeConfig);void 0!==c?(c.children.push(...s.children),e.add(c)):r.push(s)}for(const s of e){const c=Ic(s.children);r.push(new ls(s.value,c))}return r.filter(s=>!e.has(s))}function Ep(n){let r=n;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Pc(n){let r=n,e=r._segmentIndexShift??0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift??0;return e-1}function yo(n){return n.data||{}}function ph(n){return n.resolve||{}}function bp(n){return"string"==typeof n.title||null===n.title}function vh(n){return(0,ln.w)(r=>{const e=n(r);return e?(0,dn.D)(e).pipe((0,Be.U)(()=>r)):(0,je.of)(r)})}let Dp=(()=>{class n{buildTitle(e){let s,c=e.root;for(;void 0!==c;)s=this.getResolvedTitleForRoute(c)??s,c=c.children.find(f=>f.outlet===at);return s}getResolvedTitleForRoute(e){return e.data[ta]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Rc)},providedIn:"root"}),n})(),Rc=(()=>{class n extends Dp{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ha))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xp{}class Ap extends class Mp{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const kc=new o.OlP("",{providedIn:"root",factory:()=>({})}),Ch=new o.OlP("ROUTES");let Co=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,je.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=Lr(e.loadComponent()).pipe(ot(f=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=f}),ea(()=>{this.componentLoaders.delete(e)})),c=new fr(s,()=>new Ht.x).pipe(Ga());return this.componentLoaders.set(e,c),c}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return(0,je.of)({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const f=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,Be.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(s);let b,I,N=!1;Array.isArray(C)?I=C:(b=C.create(e).injector,I=Xf(b.get(Ch,[],o.XFs.Self|o.XFs.Optional)));return{routes:I.map(ga),injector:b}}),ea(()=>{this.childrenLoaders.delete(s)})),_=new fr(f,()=>new Ht.x).pipe(Ga());return this.childrenLoaders.set(s,_),_}loadModuleFactoryOrRoutes(e){return Lr(e()).pipe((0,kt.z)(s=>s instanceof o.YKP||Array.isArray(s)?(0,je.of)(s):(0,dn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pu{}class $m{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function Sp(n){throw n}function Gm(n,r,e){return r.parse("/")}const qm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ip(){const n=(0,o.f3M)(tp),r=(0,o.f3M)(uu),e=(0,o.f3M)(Se),s=(0,o.f3M)(o.zs3),c=(0,o.f3M)(o.Sil),f=(0,o.f3M)(Ch,{optional:!0})??[],_=(0,o.f3M)(kc,{optional:!0})??{},C=(0,o.f3M)(Rc),b=(0,o.f3M)(Dp,{optional:!0}),I=(0,o.f3M)(pu,{optional:!0}),N=(0,o.f3M)(xp,{optional:!0}),q=new Un(null,n,r,e,s,c,Xf(f));return I&&(q.urlHandlingStrategy=I),N&&(q.routeReuseStrategy=N),q.titleStrategy=b??C,function Tp(n,r){n.errorHandler&&(r.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(r.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(r.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(r.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(r.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(r.canceledNavigationResolution=n.canceledNavigationResolution)}(_,q),q}let Un=(()=>{class n{constructor(e,s,c,f,_,C,b){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=c,this.location=f,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ht.x,this.errorHandler=Sp,this.malformedUriErrorHandler=Gm,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,je.of)(void 0),this.urlHandlingStrategy=new $m,this.routeReuseStrategy=new Ap,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=_.get(Co),this.configLoader.onLoadEndListener=oe=>this.triggerEvent(new Kd(oe)),this.configLoader.onLoadStartListener=oe=>this.triggerEvent(new fc(oe)),this.ngModule=_.get(o.h0i),this.console=_.get(o.c2e);const q=_.get(o.R0b);this.isNgZoneEnabled=q instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function Vd(){return new os(new Tt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nr(this.currentUrlTree,this.rootComponentType),this.transitions=new hi.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe((0,Rn.h)(c=>0!==c.id),(0,Be.U)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),(0,ln.w)(c=>{let f=!1,_=!1;return(0,je.of)(c).pipe(ot(C=>{this.currentNavigation={id:C.id,initialUrl:C.rawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ln.w)(C=>{const b=this.browserUrlTree.toString(),I=!this.navigated||C.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return Op(C.source)&&(this.browserUrlTree=C.extractedUrl),(0,je.of)(C).pipe((0,ln.w)(q=>{const oe=this.transitions.getValue();return s.next(new Ya(q.id,this.serializeUrl(q.extractedUrl),q.source,q.restoredState)),oe!==this.transitions.getValue()?oi.E:Promise.resolve(q)}),function yp(n,r,e,s){return(0,ln.w)(c=>function Vm(n,r,e,s,c){return new vp(n,r,e,s,c).apply()}(n,r,e,c.extractedUrl,s).pipe((0,Be.U)(f=>({...c,urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ot(q=>{this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects},c.urlAfterRedirects=q.urlAfterRedirects}),function gh(n,r,e,s,c,f){return(0,kt.z)(_=>function fh(n,r,e,s,c,f,_="emptyOnly",C="legacy"){return new Cp(n,r,e,s,c,_,C,f).recognize().pipe((0,ln.w)(b=>null===b?function Bm(n){return new Pn.y(r=>r.error(n))}(new oy):(0,je.of)(b)))}(n,r,e,_.urlAfterRedirects,s.serialize(_.urlAfterRedirects),s,c,f).pipe((0,Be.U)(C=>({..._,targetSnapshot:C}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ot(q=>{if(c.targetSnapshot=q.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!q.extras.skipLocationChange){const de=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl);this.setBrowserUrl(de,q)}this.browserUrlTree=q.urlAfterRedirects}const oe=new Mm(q.id,this.serializeUrl(q.extractedUrl),this.serializeUrl(q.urlAfterRedirects),q.targetSnapshot);s.next(oe)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:oe,extractedUrl:de,source:ge,restoredState:nt,extras:xe}=C,Ae=new Ya(oe,this.serializeUrl(de),ge,nt);s.next(Ae);const Te=Nr(de,this.rootComponentType).snapshot;return c={...C,targetSnapshot:Te,urlAfterRedirects:de,extras:{...xe,skipLocationChange:!1,replaceUrl:!1}},(0,je.of)(c)}return this.rawUrlTree=C.rawUrl,C.resolve(null),oi.E}),ot(C=>{const b=new op(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(b)}),(0,Be.U)(C=>c={...C,guards:Pm(C.targetSnapshot,C.currentSnapshot,this.rootContexts)}),function ry(n,r){return(0,kt.z)(e=>{const{targetSnapshot:s,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:_}}=e;return 0===_.length&&0===f.length?(0,je.of)({...e,guardsResult:!0}):function sy(n,r,e,s){return(0,dn.D)(n).pipe((0,kt.z)(c=>function ah(n,r,e,s,c){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,je.of)(!0);const _=f.map(C=>{const b=_r(r)??c,I=ma(C,b);return Lr(function up(n){return n&&nl(n.canDeactivate)}(I)?I.canDeactivate(n,r,e,s):b.runInContext(()=>I(n,r,e,s))).pipe(ai())});return(0,je.of)(_).pipe(vo())}(c.component,c.route,e,r,s)),ai(c=>!0!==c,!0))}(_,s,c,n).pipe((0,kt.z)(C=>C&&function il(n){return"boolean"==typeof n}(C)?function dp(n,r,e,s){return(0,dn.D)(r).pipe((0,pr.b)(c=>Ql(function km(n,r){return null!==n&&r&&r(new Ja(n)),(0,je.of)(!0)}(c.route.parent,s),function Rm(n,r){return null!==n&&r&&r(new pc(n)),(0,je.of)(!0)}(c.route,s),function hp(n,r,e){const s=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(_=>function ny(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(_)).filter(_=>null!==_).map(_=>Ld(()=>{const C=_.guards.map(b=>{const I=_r(_.node)??e,N=ma(b,I);return Lr(function _o(n){return n&&nl(n.canActivateChild)}(N)?N.canActivateChild(s,n):I.runInContext(()=>N(s,n))).pipe(ai())});return(0,je.of)(C).pipe(vo())}));return(0,je.of)(f).pipe(vo())}(n,c.path,e),function Fm(n,r,e){const s=r.routeConfig?r.routeConfig.canActivate:null;if(!s||0===s.length)return(0,je.of)(!0);const c=s.map(f=>Ld(()=>{const _=_r(r)??e,C=ma(f,_);return Lr(function ji(n){return n&&nl(n.canActivate)}(C)?C.canActivate(r,n):_.runInContext(()=>C(r,n))).pipe(ai())}));return(0,je.of)(c).pipe(vo())}(n,c.route,e))),ai(c=>!0!==c,!0))}(s,f,n,r):(0,je.of)(C)),(0,Be.U)(C=>({...e,guardsResult:C})))})}(this.ngModule.injector,C=>this.triggerEvent(C)),ot(C=>{if(c.guardsResult=C.guardsResult,Fs(C.guardsResult))throw Bs(0,C.guardsResult);const b=new Qa(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.triggerEvent(b)}),(0,Rn.h)(C=>!!C.guardsResult||(this.restoreHistory(C),this.cancelNavigationTransition(C,"",3),!1)),vh(C=>{if(C.guards.canActivateChecks.length)return(0,je.of)(C).pipe(ot(b=>{const I=new su(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(I)}),(0,ln.w)(b=>{let I=!1;return(0,je.of)(b).pipe(function Hm(n,r){return(0,kt.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:c}}=e;if(!c.length)return(0,je.of)(e);let f=0;return(0,dn.D)(c).pipe((0,pr.b)(_=>function mh(n,r,e,s){const c=n.routeConfig,f=n._resolve;return void 0!==c?.title&&!bp(c)&&(f[ta]=c.title),function _h(n,r,e,s){const c=function al(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===c.length)return(0,je.of)({});const f={};return(0,dn.D)(c).pipe((0,kt.z)(_=>function jm(n,r,e,s){const c=_r(r)??s,f=ma(n,c);return Lr(f.resolve?f.resolve(r,e):c.runInContext(()=>f(r,e)))}(n[_],r,e,s).pipe(ai(),ot(C=>{f[_]=C}))),gr(1),function rs(n){return(0,Be.U)(()=>n)}(f),(0,Dn.K)(_=>cp(_)?oi.E:Rs(_)))}(f,n,r,s).pipe((0,Be.U)(_=>(n._resolvedData=_,n.data=vc(n,e).resolve,c&&bp(c)&&(n.data[ta]=c.title),null)))}(_.route,s,n,r)),ot(()=>f++),gr(1),(0,kt.z)(_=>f===c.length?(0,je.of)(e):oi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ot({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(b),this.cancelNavigationTransition(b,"",2))}}))}),ot(b=>{const I=new ap(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(I)}))}),vh(C=>{const b=I=>{const N=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(I.routeConfig).pipe(ot(q=>{I.component=q}),(0,Be.U)(()=>{})));for(const q of I.children)N.push(...b(q));return N};return Ui(b(C.targetSnapshot.root)).pipe(ks(),(0,on.q)(1))}),vh(()=>this.afterPreactivation()),(0,Be.U)(C=>{const b=function mo(n,r,e){const s=us(n,r._root,e?e._root:void 0);return new Yd(s,r)}(this.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return c={...C,targetRouterState:b}}),ot(C=>{this.currentUrlTree=C.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,C),this.browserUrlTree=C.urlAfterRedirects)}),((n,r,e)=>(0,Be.U)(s=>(new Im(r,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,C=>this.triggerEvent(C)),ot({next(){f=!0},complete(){f=!0}}),ea(()=>{f||_||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),(0,Dn.K)(C=>{if(_=!0,lu(C)){pa(C)||(this.navigated=!0,this.restoreHistory(c,!0));const b=new ru(c.id,this.serializeUrl(c.extractedUrl),C.message,C.cancellationCode);if(s.next(b),pa(C)){const I=this.urlHandlingStrategy.merge(C.url,this.rawUrlTree),N={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Op(c.source)};this.scheduleNavigation(I,"imperative",null,N,{resolve:c.resolve,reject:c.reject,promise:c.promise})}else c.resolve(!1)}else{this.restoreHistory(c,!0);const b=new Wd(c.id,this.serializeUrl(c.extractedUrl),C,c.targetSnapshot??void 0);s.next(b);try{c.resolve(this.errorHandler(C))}catch(I){c.reject(I)}}return oi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const c={replaceUrl:!0},f=e.state?.navigationId?e.state:null;if(f){const C={...f};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(c.state=C)}const _=this.parseUrl(e.url);this.scheduleNavigation(_,s,f,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(ga),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:c,queryParams:f,fragment:_,queryParamsHandling:C,preserveFragment:b}=s,I=c||this.routerState.root,N=b?this.currentUrlTree.fragment:_;let q=null;switch(C){case"merge":q={...this.currentUrlTree.queryParams,...f};break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=f||null}return null!==q&&(q=this.removeEmptyProps(q)),uc(I,this.currentUrlTree,e,q,N??null)}navigateByUrl(e,s={skipLocationChange:!1}){const c=Fs(e)?e:this.parseUrl(e),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function Eh(n){for(let r=0;r<n.length;r++){if(null==n[r])throw new o.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(c){s=this.malformedUriErrorHandler(c,this.urlSerializer,e)}return s}isActive(e,s){let c;if(c=!0===s?{...qm}:!1===s?{...Zm}:s,Fs(e))return Ud(this.currentUrlTree,e,c);const f=this.parseUrl(e);return Ud(this.currentUrlTree,f,c)}removeEmptyProps(e){return Object.keys(e).reduce((s,c)=>{const f=e[c];return null!=f&&(s[c]=f),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Hi(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,c,f,_){if(this.disposed)return Promise.resolve(!1);let C,b,I;_?(C=_.resolve,b=_.reject,I=_.promise):I=new Promise((oe,de)=>{C=oe,b=de});const N=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),q=c&&c.\u0275routerPageId?c.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):q=0,this.setTransition({id:N,targetPageId:q,source:s,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:f,resolve:C,reject:b,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(oe=>Promise.reject(oe))}setBrowserUrl(e,s){const c=this.urlSerializer.serialize(e),f={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(c)||s.extras.replaceUrl?this.location.replaceState(c,"",f):this.location.go(c,"",f)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===c?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s,c){const f=new ru(e.id,this.serializeUrl(e.extractedUrl),s,c);this.triggerEvent(f),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return Ip()},providedIn:"root"}),n})();function Op(n){return"imperative"!==n}let wo=(()=>{class n{constructor(e,s,c,f,_){this.router=e,this.route=s,this.tabIndexAttribute=c,this.renderer=f,this.el=_,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ht.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const s=this.renderer,c=this.el.nativeElement;null!==e?s.setAttribute(c,"tabindex",e):s.removeAttribute(c,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Un),o.Y36(Vs),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class Pp{}let Rp=(()=>{class n{constructor(e,s,c,f,_){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=_}setUpPreloading(){this.subscription=this.router.events.pipe((0,Rn.h)(e=>e instanceof Hi),(0,pr.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const c=[];for(const f of s){f.providers&&!f._injector&&(f._injector=(0,o.MMx)(f.providers,e,`Route: ${f.path}`));const _=f._injector??e,C=f._loadedInjector??_;f.loadChildren&&!f._loadedRoutes&&void 0===f.canLoad||f.loadComponent&&!f._loadedComponent?c.push(this.preloadConfig(_,f)):(f.children||f._loadedRoutes)&&c.push(this.processRoutes(C,f.children??f._loadedRoutes))}return(0,dn.D)(c).pipe((0,$a.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let c;c=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):(0,je.of)(null);const f=c.pipe((0,kt.z)(_=>null===_?(0,je.of)(void 0):(s._loadedRoutes=_.routes,s._loadedInjector=_.injector,this.processRoutes(_.injector??e,_.routes))));if(s.loadComponent&&!s._loadedComponent){const _=this.loader.loadComponent(s);return(0,dn.D)([f,_]).pipe((0,$a.J)())}return f})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Un),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(Pp),o.LFG(Co))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bh=new o.OlP("");let Ca=(()=>{class n{constructor(e,s,c={}){this.router=e,this.viewportScroller=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ya?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Hi&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Xa&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Xa(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function gu(n,r){return{\u0275kind:n,\u0275providers:r}}function Fp(n){return[{provide:Ch,multi:!0,useValue:n}]}function Ym(){const n=(0,o.f3M)(o.zs3);return r=>{const e=n.get(o.z2F);if(r!==e.components[0])return;const s=n.get(Un),c=n.get(Dh);1===n.get(mu)&&s.initialNavigation(),n.get(Lc,null,o.XFs.Optional)?.setUpPreloading(),n.get(bh,null,o.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),c.closed||(c.next(),c.unsubscribe())}}const Dh=new o.OlP("",{factory:()=>new Ht.x}),mu=new o.OlP("",{providedIn:"root",factory:()=>1});const Lc=new o.OlP("");function Vp(n){return gu(0,[{provide:Lc,useExisting:Rp},{provide:Pp,useExisting:n}])}const Up=new o.OlP("ROUTER_FORROOT_GUARD"),Qm=[Se,{provide:tp,useClass:Xl},{provide:Un,useFactory:Ip},uu,{provide:Vs,useFactory:function kp(n){return n.routerState.root},deps:[Un]},Co];function Jm(){return new o.PXZ("Router",Un)}let vu=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[Qm,[],Fp(e),{provide:Up,useFactory:Mh,deps:[[Un,new o.FiY,new o.tp0]]},{provide:kc,useValue:s||{}},s?.useHash?{provide:me,useClass:it}:{provide:me,useClass:We},{provide:bh,useFactory:()=>{const n=(0,o.f3M)(Un),r=(0,o.f3M)(vd),e=(0,o.f3M)(kc);return e.scrollOffset&&r.setOffset(e.scrollOffset),new Ca(n,r,e)}},s?.preloadingStrategy?Vp(s.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:Jm},s?.initialNavigation?Et(s):[],[{provide:Ah,useFactory:Ym},{provide:o.tb,multi:!0,useExisting:Ah}]]}}static forChild(e){return{ngModule:n,providers:[Fp(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Up,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[eh]}),n})();function Mh(n){return"guarded"}function Et(n){return["disabled"===n.initialNavigation?gu(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const r=(0,o.f3M)(Un);return()=>{r.setUpLocationChangeListener()}}},{provide:mu,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gu(2,[{provide:mu,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:r=>{const e=r.get(Q,Promise.resolve());let s=!1;return()=>e.then(()=>new Promise(f=>{const _=r.get(Un),C=r.get(Dh);(function c(f){r.get(Un).events.pipe((0,Rn.h)(C=>C instanceof Hi||C instanceof ru||C instanceof Wd),(0,Be.U)(C=>C instanceof Hi||C instanceof ru&&(0===C.code||1===C.code)&&null),(0,Rn.h)(C=>null!==C),(0,on.q)(1)).subscribe(()=>{f()})})(()=>{f(!0),s=!0}),_.afterPreactivation=()=>(f(!0),s||C.closed?(0,je.of)(void 0):C),_.initialNavigation()}))}}]).\u0275providers:[]]}const Ah=new o.OlP("");var hs=M(7489),Us=M(4707),jp=M(3099);function bi(n,r,e){let s,c=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:r=1/0,refCount:c=!1,scheduler:e}=n):s=n??1/0,(0,jp.B)({connector:()=>new Us.t(s,r,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}var $p=M(1144);const n_=["addListener","removeListener"],i_=["addEventListener","removeEventListener"],cy=["on","off"];function Hn(n,r,e,s){if((0,ki.m)(e)&&(s=e,e=void 0),s)return Hn(n,r,e).pipe(Yl(s));const[c,f]=function Hs(n){return(0,ki.m)(n.addEventListener)&&(0,ki.m)(n.removeEventListener)}(n)?i_.map(_=>C=>n[_](r,C,e)):function wa(n){return(0,ki.m)(n.addListener)&&(0,ki.m)(n.removeListener)}(n)?n_.map(ir(n,r)):function r_(n){return(0,ki.m)(n.on)&&(0,ki.m)(n.off)}(n)?cy.map(ir(n,r)):[];if(!c&&(0,$p.z)(n))return(0,kt.z)(_=>Hn(_,r,e))((0,is.Xf)(n));if(!c)throw new TypeError("Invalid event target");return new Pn.y(_=>{const C=(...b)=>_.next(1<b.length?b:b[0]);return c(C),()=>f(C)})}function ir(n,r){return e=>s=>n[e](r,s)}const{isArray:bt}=Array;function Di(...n){const r=(0,hr.jO)(n),e=function s_(n){return 1===n.length&&bt(n[0])?n[0]:n}(n);return e.length?new Pn.y(s=>{let c=e.map(()=>[]),f=e.map(()=>!1);s.add(()=>{c=f=null});for(let _=0;!s.closed&&_<e.length;_++)(0,is.Xf)(e[_]).subscribe((0,Bn.x)(s,C=>{if(c[_].push(C),c.every(b=>b.length)){const b=c.map(I=>I.shift());s.next(r?r(...b):b),c.some((I,N)=>!I.length&&f[N])&&s.complete()}},()=>{f[_]=!0,!c[_].length&&s.complete()}));return()=>{c=f=null}}):oi.E}var fn=M(1365),Gp=M(2722);function js(){return(0,hn.e)((n,r)=>{let e,s=!1;n.subscribe((0,Bn.x)(r,c=>{const f=e;e=c,s&&r.next([f,c]),s=!0}))})}function Nc(n,r){return r?e=>e.pipe(Nc((s,c)=>(0,is.Xf)(n(s,c)).pipe((0,Be.U)((f,_)=>r(s,f,c,_))))):(0,hn.e)((e,s)=>{let c=0,f=null,_=!1;e.subscribe((0,Bn.x)(s,C=>{f||(f=(0,Bn.x)(s,void 0,()=>{f=null,_&&s.complete()}),(0,is.Xf)(n(C,c++)).subscribe(f))},()=>{_=!0,!f&&s.complete()}))})}var $s=M(6451),o_=M(8737),ul=M(4986);function qp(n,...r){var e,s;const c=null!==(e=(0,hr.yG)(r))&&void 0!==e?e:ul.z,f=null!==(s=r[0])&&void 0!==s?s:null,_=r[1]||1/0;return(0,hn.e)((C,b)=>{let I=[],N=!1;const q=ge=>{const{buffer:nt,subs:xe}=ge;xe.unsubscribe(),(0,o_.P)(I,ge),b.next(nt),N&&oe()},oe=()=>{if(I){const ge=new Nd.w0;b.add(ge);const xe={buffer:[],subs:ge};I.push(xe),(0,Fd.f)(ge,c,()=>q(xe),n)}};null!==f&&f>=0?(0,Fd.f)(b,c,oe,f,!0):N=!0,oe();const de=(0,Bn.x)(b,ge=>{const nt=I.slice();for(const xe of nt){const{buffer:Ae}=xe;Ae.push(ge),_<=Ae.length&&q(xe)}},()=>{for(;I?.length;)b.next(I.shift().buffer);de?.unsubscribe(),b.complete(),b.unsubscribe()},void 0,()=>I=null);C.subscribe(de)})}let rr={production:!1,apiHost:"",appAssetsPath:"",uploadPath:"upload",urlPaths:{api:"api",spims:"spims",spim:"spim",mask:"mask",upload:"upload",tissueClass:"tissueclass",autoseg:"autoseg"}};const xi={...rr,serverAssetsPath:`${rr.apiHost}`,urls:{api:`${rr.apiHost}/${rr.urlPaths.api}`}};let un={...rr,...xi,urls:{...xi.urls,autoseg:`${xi.urls.api}/${xi.urlPaths.spim}/{spimId}/${xi.urlPaths.autoseg}`,autosegWithType:`${xi.urls.api}/${xi.urlPaths.spim}/{spimId}/${xi.urlPaths.autoseg}/{typeId}`,tissueClasses:`${xi.urls.api}/${rr.urlPaths.tissueClass}`,spims:`${xi.urls.api}/${rr.urlPaths.spims}`,spim:`${xi.urls.api}/${rr.urlPaths.spim}/{spimId}`,mask:`${xi.urls.api}/${rr.urlPaths.mask}/{maskId}`,upload:`${xi.urls.api}/${rr.urlPaths.upload}`}},Vc=(()=>{class n{transform(e){return e?Gs(e):""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"serverAssetPrefix",type:n,pure:!0}),n})();function Gs(n){return n.includes("data:image")?n:`${""===un.serverAssetsPath?"":`${un.serverAssetsPath}/`}${n}`}var St=(()=>{return(n=St||(St={}))[n.BRUSH=0]="BRUSH",n[n.LINES=1]="LINES",n[n.FILL=2]="FILL",n[n.ERASE=3]="ERASE",St;var n})(),At=(()=>{return(n=At||(At={}))[n.ADD=0]="ADD",n[n.SUBTRACT=1]="SUBTRACT",At;var n})();const Cu=[{hex:"#FF3100",filter:"brightness(0.5) sepia(1) saturate(10000%) hue-rotate(0deg)"},{hex:"#0080B1",filter:"brightness(0.5) sepia(1) saturate(10000%) hue-rotate(180deg)"},{hex:"#008500",filter:"brightness(0.5) sepia(1) saturate(10000%) hue-rotate(90deg)"},{hex:"#B12EFF",filter:"brightness(0.5) sepia(1) saturate(10000%) hue-rotate(270deg)"},{hex:"#FF5200",filter:"brightness(0.5) sepia(.5) saturate(10000%) hue-rotate(0deg)"},{hex:"#008EE0",filter:"brightness(0.5) sepia(.5) saturate(10000%) hue-rotate(180deg)"},{hex:"#00A100",filter:"brightness(0.5) sepia(.5) saturate(10000%) hue-rotate(90deg)"},{hex:"#E041FF",filter:"brightness(0.5) sepia(.5) saturate(10000%) hue-rotate(270deg)"},{hex:"#FFFF00",filter:"brightness(1) sepia(.5) saturate(10000%) hue-rotate(0deg)"},{hex:"#DBD9FF",filter:"brightness(1) sepia(.5) saturate(10000%) hue-rotate(180deg)"},{hex:"#00FFDB",filter:"brightness(1) sepia(.5) saturate(10000%) hue-rotate(90deg)"},{hex:"#FFA5FF",filter:"brightness(1) sepia(.5) saturate(10000%) hue-rotate(270deg)"},{hex:"#FFFF00",filter:"brightness(1) sepia(1) saturate(10000%) hue-rotate(0deg)"},{hex:"#DBD9FF",filter:"brightness(1) sepia(1) saturate(10000%) hue-rotate(180deg)"},{hex:"#00FFDB",filter:"brightness(1) sepia(1) saturate(10000%) hue-rotate(90deg)"},{hex:"#FFA5FF",filter:"brightness(1) sepia(1) saturate(10000%) hue-rotate(270deg)"}];let qs=Cu.map(n=>n.hex);function Sh(n){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:{r:0,g:0,b:0}}function a_(n){return qs.find(r=>!n.includes(r))||"#444444"}qs=[...qs,...qs,...qs,...qs,...qs];const Zp=["canvas"],zp=["canvas_temp"],Th=["brushCursor"];function l_(n,r){if(1&n&&(o.TgZ(0,"div",1),o._UZ(1,"canvas",2,3),o.ALo(3,"async"),o._UZ(4,"canvas",4,5),o.TgZ(6,"div",6,7),o.ALo(8,"async"),o.ALo(9,"async"),o.O4$(),o.TgZ(10,"svg",8),o._UZ(11,"circle",9),o.qZA()()()),2&n){const e=r.ngIf,s=o.oxw();let c,f,_;o.Udp("height",(null==e?null:e.displayHeight)+"px")("width",(null==e?null:e.displayWidth)+"px"),o.xp6(1),o.Tol(null==(c=o.lcZ(3,18,s.pointerStyle$))?null:c.class),o.Udp("opacity",s.opacity),o.Q6J("width",null==e||null==e.resolution?null:e.resolution.width)("height",e.resolution.height),o.xp6(3),o.Udp("opacity",s.opacity),o.Q6J("width",e.resolution.width)("height",e.resolution.height),o.xp6(2),o.Udp("width",(null==(f=o.lcZ(8,20,s.pointerStyle$))?null:f.size)+"px")("display","cursor_brush"===(null==(_=o.lcZ(9,22,s.pointerStyle$))?null:_.class)?"block":"none")}}const Ea={type:St.BRUSH,size:48,mode:At.ADD},Ih="Fill";let bo=(()=>{class n{constructor(){this.defaultGlobalCompositeOperation="source-over",this._tool$=new hi.X(Ea),this.tool$=this._tool$.asObservable(),this._disabled$=new hi.X(!0),this.disabled$=this._disabled$.asObservable(),this._selectedMask$=new Us.t(1),this.selectedMask$=this._selectedMask$.asObservable(),this.defaultToolColor="#fff",this.toolColor=this.defaultToolColor,this.subscriptions=[],this._imageSizeInfo$=new hi.X({id:0,resolution:{width:0,height:0},scale:1,displayWidth:0,displayHeight:0}),this.imageSizeInfo$=this._imageSizeInfo$.asObservable(),this.pointerStyle$=Ui([this.tool$,this.imageSizeInfo$,this.disabled$]).pipe((0,Be.U)(([e,s,c])=>{if(c)return{class:"cursor_disabled",size:0};switch(e.type){case St.BRUSH:return{class:"cursor_brush",size:Math.round(e.size*s.scale)};case St.FILL:return{class:"cursor_fill",size:0};default:return{class:"",size:0}}}),bi(1)),this.opacity=1,this.pointerOrigin$=this.pointerStyle$.pipe((0,Be.U)(e=>`${e.size}px ${e.size}px`),bi(1)),this._updateMaskData=new o.vpe,this.reset$=new Ht.x,this.shapeDrawPointCount=0,this.fillCurrentShape$=new Ht.x}set tool(e){e&&this._tool$.next({...e,size:Math.round((this.imageSizeInfo?.scale||1)*e.size)})}set disabled(e){this._disabled$.next(e)}set selectedMask(e){null!==e&&this._selectedMask$.next(e)}set imageSizeInfo(e){e&&this._imageSizeInfo$.next(e)}reset(){this.reset$.next()}getToolEventFlow(e){switch(e.type){case St.BRUSH:return this.cursorDown$.pipe((0,ln.w)(c=>this.cursorMove$.pipe((0,Gp.R)(this.cursorUp$),js())),(0,fn.M)(this.tool$),ot(([c,f])=>{this.cx.lineWidth=f.size,this.cx.beginPath(),this.cx.moveTo(c[0].coords.x,c[0].coords.y),this.cx.lineTo(c[1].coords.x,c[1].coords.y),this.cx.strokeStyle=this.toolColor,f.mode===At.ADD?this.cx.globalCompositeOperation="source-over":f.mode===At.SUBTRACT&&(this.cx.globalCompositeOperation="destination-out"),this.cx.stroke(),this.cx.globalCompositeOperation=this.defaultGlobalCompositeOperation}));case St.FILL:const s=new Ht.x;return this.cursorDown$.pipe(Nc(c=>{const f=[[c.coords.x,c.coords.y]];this.shapeDrawFirstTouchCoord=f,this.shapeDrawPointCount++,this.cx.moveTo(f[0][0],f[0][1]),this.cx.lineWidth=1.5,this.cx.strokeStyle=this.toolColor;const _=this.canvas.nativeElement.toDataURL("image/png"),C=(b,I,N,q=!1,oe=null)=>{N.moveTo(b[0][0],b[0][1]),b.slice(1).forEach(de=>{N.lineTo(de[0],de[1])}),q&&(N.globalCompositeOperation="destination-out",N.fillStyle="white",N.fill()),N.globalCompositeOperation="source-over",N.fillStyle=I,N.fill(),oe&&(N.moveTo(b[b.length-1][0],b[b.length-1][1]),N.lineTo(b[0][0],b[0][1]),N.setLineDash([5,3]),N.setLineDash([]),N.strokeStyle=oe,N.stroke()),N.globalCompositeOperation=this.defaultGlobalCompositeOperation};return(0,$s.T)(this.cursorDown$,this.cursorDoubleClick$,this.touchEnd$,this.touchMove$,this.fillCurrentShape$).pipe(Jo(c),js(),(0,Be.U)(b=>b),(0,ln.w)(b=>(this.shapeDrawPointCount++,this.canvas.nativeElement.getContext("2d").beginPath(),b[1]===Ih||2===b[1].event.detail?(this.cx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),Di([(0,je.of)(b),this.drawImToCanvas(this.canvas.nativeElement.getContext("2d"),_).pipe(ot(()=>{C(f,e.mode===At.ADD?this.toolColor:"transparent",this.canvas.nativeElement.getContext("2d"),e.mode===At.SUBTRACT),s.next()}))])):Di([(0,je.of)(b),(0,je.of)(null).pipe(ot(()=>{f.push([b[1].coords.x,b[1].coords.y])}))]))),(0,Rn.h)(([b])=>b[1]===Ih||2!==b[1].event.detail),qp(8),(0,fn.M)(this.tool$),(0,ln.w)(([b,I])=>0===b.length?(0,je.of)():this.drawImToCanvas(this.canvas.nativeElement.getContext("2d"),_,"copy").pipe(ot(()=>{C(f,I.mode===At.ADD?"rgba(255,255,255,.5)":"rgba(255,255,255,.2)",this.canvas.nativeElement.getContext("2d"),I.mode===At.SUBTRACT,"black")}))),(0,Gp.R)(s),(0,Gp.R)(this.reset$),ea(()=>this.shapeDrawPointCount=0))}));default:return(0,je.of)(null)}}fillCurrentShape(){this.fillCurrentShape$.next(Ih)}getEventPosition(e){const s=this.canvas.nativeElement.getBoundingClientRect();return e instanceof MouseEvent?{x:this.scaleInput(e.clientX-s.left),y:this.scaleInput(e.clientY-s.top)}:{x:this.scaleInput(e.changedTouches[0].clientX-s.left),y:this.scaleInput(e.changedTouches[0].clientY-s.top)}}ngAfterViewInit(){const e=this.canvas.nativeElement;this.cursorDown$=(0,$s.T)(Hn(e,"mousedown"),Hn(e,"touchstart")).pipe((0,Be.U)(s=>s),(0,Be.U)(s=>({event:s,coords:this.getEventPosition(s)}))),this.touchMove$=Hn(e,"touchmove").pipe((0,Be.U)(s=>s),(0,Be.U)(s=>({event:s,coords:this.getEventPosition(s)}))),this.cursorMove$=(0,$s.T)(Hn(e,"mousemove"),Hn(e,"touchmove")).pipe((0,Be.U)(s=>s),(0,Be.U)(s=>({event:s,coords:this.getEventPosition(s)}))),this.subscriptions.push(Ui([this.pointerStyle$,this.cursorMove$.pipe(qp(6))]).pipe((0,Rn.h)(([s,c])=>"cursor_brush"===s.class&&c.length>0),ot(([s,c])=>{this.brushCursor.nativeElement.style.left=this.scaleInput(c[c.length-1].coords.x,!1)-s.size/2+"px",this.brushCursor.nativeElement.style.top=this.scaleInput(c[c.length-1].coords.y,!1)-s.size/2+"px"})).subscribe()),this.touchEnd$=(0,$s.T)((0,$s.T)(Hn(e,"touchend"),Hn(e,"touchcancel")).pipe((0,Be.U)(s=>s),(0,Be.U)(s=>({event:s,coords:this.getEventPosition(s)})))),this.cursorUp$=(0,$s.T)((0,$s.T)(Hn(e,"mouseup"),Hn(e,"mouseleave"),Hn(e,"touchend"),Hn(e,"touchcancel")).pipe((0,Be.U)(s=>s),(0,Be.U)(s=>({event:s,coords:this.getEventPosition(s)})))),this.cursorDoubleClick$=(0,$s.T)(Hn(e,"mousedown"),Hn(e,"touchstart")).pipe((0,Be.U)(s=>s),(0,Rn.h)(s=>2===s.detail),(0,Be.U)(s=>({event:s,coords:this.getEventPosition(s)}))),this.cx=e.getContext("2d"),this.cx.lineCap="round",this.cx.strokeStyle=this.toolColor,this.subscriptions.push(Ui([this.tool$,this.disabled$]).pipe((0,ln.w)(([s,c])=>c?(0,je.of)():this.getToolEventFlow(s))).subscribe()),this.subscriptions.push(Ui([this.selectedMask$,this.reset$.pipe(Jo(null))]).pipe(ot(([s,c])=>{this.resetCanvas(s.bitmap)})).subscribe())}mergeExternalImage(e,s="source-over"){this.drawImToCanvas(this.cx,e,s)}drawImToCanvas(e,s,c="source-over"){const f=new Image;f.crossOrigin="anonymous";const _=new Ht.x;return Hn(f,"load").pipe(ot(()=>{e.globalCompositeOperation=c,e.drawImage(f,0,0),e.globalCompositeOperation=this.defaultGlobalCompositeOperation,_.next()})).subscribe(),f.src=s,_}saveCanvas(e=!0){const s=new Us.t(1);return this.selectedMask$.pipe(ai(),(0,fn.M)(this.imageSizeInfo$),ot(([c,f])=>{const _=this.cx.getImageData(0,0,f.resolution.width,f.resolution.height),{data:C}=_,{length:b}=C;Sh(c.color);for(let oe=0;oe<b;oe+=4)C[oe+3]>0&&(C[oe+0]=255,C[oe+1]=255,C[oe+2]=255,C[oe+3]=255);this.clearCanvas(this.canvas.nativeElement),this.clearCanvas(this.canvasTemp.nativeElement),this.cx.putImageData(_,0,0);const N=this.canvas.nativeElement.toDataURL("image/png"),q={id:c.id,data:N};e&&this._updateMaskData.emit(q),s.next(q)})).subscribe(),s}scaleInput(e,s=!0){return Math.round(s?1/(this._imageSizeInfo$.getValue().scale||1)*e:this._imageSizeInfo$.getValue().scale*e)}clearCanvas(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}resetCanvas(e){this.clearCanvas(this.canvas.nativeElement),this.clearCanvas(this.canvasTemp.nativeElement),e&&this.drawImToCanvas(this.canvas.nativeElement.getContext("2d"),Gs(e))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-canvas"]],viewQuery:function(e,s){if(1&e&&(o.Gf(Zp,5),o.Gf(zp,5),o.Gf(Th,5)),2&e){let c;o.iGM(c=o.CRH())&&(s.canvas=c.first),o.iGM(c=o.CRH())&&(s.canvasTemp=c.first),o.iGM(c=o.CRH())&&(s.brushCursor=c.first)}},inputs:{tool:"tool",disabled:"disabled",selectedMask:"selectedMask",imageSizeInfo:"imageSizeInfo",opacity:"opacity"},outputs:{_updateMaskData:"updateMaskData"},decls:2,vars:3,consts:[["id","canvas_container",3,"height","width",4,"ngIf"],["id","canvas_container"],["id","canvas_bg",3,"width","height"],["canvas",""],["id","canvas_temp",3,"width","height"],["canvas_temp",""],["id","brush_cursor"],["brushCursor",""],["viewBox","0 0 100 100","stroke","white","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","50","cy","50","r","49","stroke-width","3px"]],template:function(e,s){1&e&&(o.YNc(0,l_,12,24,"div",0),o.ALo(1,"async")),2&e&&o.Q6J("ngIf",o.lcZ(1,1,s.imageSizeInfo$))},dependencies:[Ut,Pt],styles:["*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}#canvas_bg[_ngcontent-%COMP%], #canvas_active[_ngcontent-%COMP%], #canvas_temp[_ngcontent-%COMP%]{touch-action:none;width:100%;z-index:2}#canvas_container[_ngcontent-%COMP%]{position:relative}#brush_cursor[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100px;pointer-events:none;z-index:100}#brush_cursor[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{mix-blend-mode:difference}#canvas_bg[_ngcontent-%COMP%]{position:relative;top:0;left:0}#canvas_bg.cursor_fill[_ngcontent-%COMP%]{cursor:crosshair}#canvas_bg.cursor_brush[_ngcontent-%COMP%]{cursor:none}#canvas_bg.cursor_disabled[_ngcontent-%COMP%]{cursor:default}#canvas_temp[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})();var ae=M(9653),ut=(()=>{return(n=ut||(ut={}))[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",ut;var n})();function pn(n){return function(e,s){const c={ids:[...s.ids],entities:{...s.entities}},f=n(e,c);return f===ut.Both?Object.assign({},s,c):f===ut.EntitiesOnly?{...s,entities:c.entities}:s}}function Ur(n,r){const e=r(n);return(0,o.X6Q)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",r.toString()),e}function fs(n){function r(xe,Ae){const Te=Ur(xe,n);return Te in Ae.entities?ut.None:(Ae.ids.push(Te),Ae.entities[Te]=xe,ut.Both)}function e(xe,Ae){let Te=!1;for(const Pe of xe)Te=r(Pe,Ae)!==ut.None||Te;return Te?ut.Both:ut.None}function c(xe,Ae){const Te=Ur(xe,n);return Te in Ae.entities?(Ae.entities[Te]=xe,ut.EntitiesOnly):(Ae.ids.push(Te),Ae.entities[Te]=xe,ut.Both)}function C(xe,Ae){const Pe=(xe instanceof Array?xe:Ae.ids.filter(Je=>xe(Ae.entities[Je]))).filter(Je=>Je in Ae.entities).map(Je=>delete Ae.entities[Je]).length>0;return Pe&&(Ae.ids=Ae.ids.filter(Je=>Je in Ae.entities)),Pe?ut.Both:ut.None}function N(xe,Ae){return q([xe],Ae)}function q(xe,Ae){const Te={};return(xe=xe.filter(Je=>Je.id in Ae.entities)).length>0?xe.filter(vt=>function I(xe,Ae,Te){const Je=Object.assign({},Te.entities[Ae.id],Ae.changes),vt=Ur(Je,n),Zt=vt!==Ae.id;return Zt&&(xe[Ae.id]=vt,delete Te.entities[Ae.id]),Te.entities[vt]=Je,Zt}(Te,vt,Ae)).length>0?(Ae.ids=Ae.ids.map(vt=>Te[vt]||vt),ut.Both):ut.EntitiesOnly:ut.None}function nt(xe,Ae){const Te=[],Pe=[];for(const Zt of xe){const ci=Ur(Zt,n);ci in Ae.entities?Pe.push({id:ci,changes:Zt}):Te.push(Zt)}const Je=q(Pe,Ae),vt=e(Te,Ae);switch(!0){case vt===ut.None&&Je===ut.None:return ut.None;case vt===ut.Both||Je===ut.Both:return ut.Both;default:return ut.EntitiesOnly}}return{removeAll:function b(xe){return Object.assign({},xe,{ids:[],entities:{}})},addOne:pn(r),addMany:pn(e),setAll:pn(function s(xe,Ae){return Ae.ids=[],Ae.entities={},e(xe,Ae),ut.Both}),setOne:pn(c),setMany:pn(function f(xe,Ae){const Te=xe.map(Pe=>c(Pe,Ae));switch(!0){case Te.some(Pe=>Pe===ut.Both):return ut.Both;case Te.some(Pe=>Pe===ut.EntitiesOnly):return ut.EntitiesOnly;default:return ut.None}}),updateOne:pn(N),updateMany:pn(q),upsertOne:pn(function ge(xe,Ae){return nt([xe],Ae)}),upsertMany:pn(nt),removeOne:pn(function _(xe,Ae){return C([xe],Ae)}),removeMany:pn(C),map:pn(function oe(xe,Ae){return q(Ae.ids.reduce((Je,vt)=>{const Zt=xe(Ae.entities[vt]);return Zt!==Ae.entities[vt]&&Je.push({id:vt,changes:Zt}),Je},[]).filter(({id:Je})=>Je in Ae.entities),Ae)}),mapOne:pn(function de({map:xe,id:Ae},Te){const Pe=Te.entities[Ae];return Pe?N({id:Ae,changes:xe(Pe)},Te):ut.None})}}function Bc(n,r){const{removeOne:e,removeMany:s,removeAll:c}=fs(n);function f(Te,Pe){return _([Te],Pe)}function _(Te,Pe){const Je=Te.filter(vt=>!(Ur(vt,n)in Pe.entities));return 0===Je.length?ut.None:(Ae(Je,Pe),ut.Both)}function b(Te,Pe){const Je=Ur(Te,n);return Je in Pe.entities?(Pe.ids=Pe.ids.filter(vt=>vt!==Je),Ae([Te],Pe),ut.Both):f(Te,Pe)}function N(Te,Pe){return oe([Te],Pe)}function oe(Te,Pe){const Je=[],vt=Te.filter(Zt=>function q(Te,Pe,Je){if(!(Pe.id in Je.entities))return!1;const Zt=Object.assign({},Je.entities[Pe.id],Pe.changes),ci=Ur(Zt,n);return delete Je.entities[Pe.id],Te.push(Zt),ci!==Pe.id}(Je,Zt,Pe)).length>0;if(0===Je.length)return ut.None;{const Zt=Pe.ids,ci=[];return Pe.ids=Pe.ids.filter((vs,Al)=>vs in Pe.entities||(ci.push(Al),!1)),Ae(Je,Pe),!vt&&ci.every(vs=>Pe.ids[vs]===Zt[vs])?ut.EntitiesOnly:ut.Both}}function xe(Te,Pe){const Je=[],vt=[];for(const vs of Te){const Al=Ur(vs,n);Al in Pe.entities?vt.push({id:Al,changes:vs}):Je.push(vs)}const Zt=oe(vt,Pe),ci=_(Je,Pe);switch(!0){case ci===ut.None&&Zt===ut.None:return ut.None;case ci===ut.Both||Zt===ut.Both:return ut.Both;default:return ut.EntitiesOnly}}function Ae(Te,Pe){Te.sort(r);const Je=[];let vt=0,Zt=0;for(;vt<Te.length&&Zt<Pe.ids.length;){const ci=Te[vt],vs=Ur(ci,n),Al=Pe.ids[Zt];r(ci,Pe.entities[Al])<=0?(Je.push(vs),vt++):(Je.push(Al),Zt++)}Pe.ids=Je.concat(vt<Te.length?Te.slice(vt).map(n):Pe.ids.slice(Zt)),Te.forEach((ci,vs)=>{Pe.entities[n(ci)]=ci})}return{removeOne:e,removeMany:s,removeAll:c,addOne:pn(f),updateOne:pn(N),upsertOne:pn(function nt(Te,Pe){return xe([Te],Pe)}),setAll:pn(function C(Te,Pe){return Pe.entities={},Pe.ids=[],_(Te,Pe),ut.Both}),setOne:pn(b),setMany:pn(function I(Te,Pe){const Je=Te.map(vt=>b(vt,Pe));switch(!0){case Je.some(vt=>vt===ut.Both):return ut.Both;case Je.some(vt=>vt===ut.EntitiesOnly):return ut.EntitiesOnly;default:return ut.None}}),addMany:pn(_),updateMany:pn(oe),upsertMany:pn(xe),map:pn(function de(Te,Pe){return oe(Pe.ids.reduce((vt,Zt)=>{const ci=Te(Pe.entities[Zt]);return ci!==Pe.entities[Zt]&&vt.push({id:Zt,changes:ci}),vt},[]),Pe)}),mapOne:pn(function ge({map:Te,id:Pe},Je){const vt=Je.entities[Pe];return vt?N({id:Pe,changes:Te(vt)},Je):ut.None})}}function yr(n={}){const{selectId:r,sortComparer:e}={selectId:n.selectId??(_=>_.id),sortComparer:n.sortComparer??!1},s=function Zs(){return{getInitialState:function n(r={}){return Object.assign({ids:[],entities:{}},r)}}}(),c=function Br(){return{getSelectors:function n(r){const e=_=>_.ids,s=_=>_.entities,c=(0,ae.P1)(e,s,(_,C)=>_.map(b=>C[b])),f=(0,ae.P1)(e,_=>_.length);return r?{selectIds:(0,ae.P1)(r,e),selectEntities:(0,ae.P1)(r,s),selectAll:(0,ae.P1)(r,c),selectTotal:(0,ae.P1)(r,f)}:{selectIds:e,selectEntities:s,selectAll:c,selectTotal:f}}}}();return{selectId:r,sortComparer:e,...s,...c,...e?Bc(r,e):fs(r)}}const Oh=(0,ae.PH)("[Annotate] Set Image Zoom",(0,ae.Ky)()),cl=(0,ae.PH)("[Annotate] Set Mask Opacity",(0,ae.Ky)()),It=(0,ae.PH)("[Annotate] Select Mask FOr Annotation",(0,ae.Ky)()),wu=(0,ae.PH)("[Annotate] Select Masks For Annotation View",(0,ae.Ky)()),Eu=(0,ae.PH)("[Annotate] Set Mask Rendering Color",(0,ae.Ky)()),dl=(0,ae.PH)("[Annotate] Request Image",(0,ae.Ky)()),Kp=(0,ae.PH)("[Annotate] Set Brush Type",(0,ae.Ky)()),Ph=(0,ae.PH)("[Annotate] Set Brush Mode",(0,ae.Ky)()),Rh=(0,ae.PH)("[Annotate] Set Brush Size",(0,ae.Ky)()),Uc={setAnnotationImageZoom:Oh,setMaskOpacity:cl,selectMaskForAnnotation:It,selectMasksForAnnotationView:wu,setMaskColor:Eu,requestImage:dl,setBrushType:Kp,setBrushMode:Ph,setBrushSize:Rh},Yp=(0,ae.PH)("[Masks] Load Masks",(0,ae.Ky)()),kh=(0,ae.PH)("[Masks] Remove Mask",(0,ae.Ky)()),c_=(0,ae.PH)("[Masks] Create Mask"),Qp=(0,ae.PH)("[Masks] Update Mask",(0,ae.Ky)()),dy=(0,ae.PH)("[Masks] Request Create Mask",(0,ae.Ky)()),Jp=(0,ae.PH)("[Masks] Request Delete Mask",(0,ae.Ky)()),Xp=(0,ae.PH)("[Masks] Request Update Mask",(0,ae.Ky)()),d_=(0,ae.PH)("[Masks] Merge Masks",(0,ae.Ky)()),Hc=(0,ae.PH)("[Masks] Clear All Masks"),An={loadMasks:Yp,clearMasks:Hc,removeMask:kh,createMask:c_,updateMask:Qp,requestCreateMask:dy,requestDeleteMask:Jp,requestUpdateMask:Xp,mergeMasks:d_},ba=yr(),eg=ba.getInitialState({selectedMaskId:-1}),hy=(0,ae.Lq)(eg,(0,ae.on)(Yp,(n,r)=>(ba.removeAll(n),ba.addMany(r.masks.map((s,c)=>({...s,color:Cu[c].hex})),n))),(0,ae.on)(c_,(n,r)=>{let e=ba.addOne({id:-1*Math.round(1e5*Math.random()),tissueId:-1,classId:-1,bitmap:"",color:a_(n.ids.map(s=>n.entities[s]?.color).filter(s=>!!s))},n);return 1===e.ids.length&&(e={...e,selectedMaskId:e.ids[0]}),e}),(0,ae.on)(Qp,(n,r)=>ba.updateOne({id:r.id,changes:r.mask},n)),(0,ae.on)(kh,(n,r)=>ba.removeOne(r.maskId,n)),(0,ae.on)(It,(n,r)=>({...n,selectedMaskId:r.id})),(0,ae.on)(Hc,(n,r)=>ba.removeAll(n))),{selectIds:fy,selectEntities:py,selectAll:gi}=ba.getSelectors(),Mi=(0,ae.ZF)("masks"),tg={selectedMaskId:(0,ae.P1)(Mi,n=>n.selectedMaskId),selectIds:(0,ae.P1)(Mi,fy),selectEntities:(0,ae.P1)(Mi,py),selectAll:(0,ae.P1)(Mi,gi)};function jn(n){return`${un.appAssetsPath}/${n}`}var bu=M(1884);const h_=(0,ae.PH)("[Images] Request Images"),Fh=(0,ae.PH)("[Images] Load Images",(0,ae.Ky)()),jc=(0,ae.PH)("[Images] Load Image",(0,ae.Ky)()),$c=(0,ae.PH)("[Images] Update Image",(0,ae.Ky)()),Gc=(0,ae.PH)("[Images] Set Selected Image Id",(0,ae.Ky)()),f_=(0,ae.PH)("[Images] Request Delete Image",(0,ae.Ky)()),zs=(0,ae.PH)("[Images] Delete Image",(0,ae.Ky)()),Hr={requestImages:h_,loadImages:Fh,loadImage:jc,setSelectedImageId:Gc,updateImage:$c,requestDeleteImage:f_,removeImage:zs},Ws=yr(),p_=Ws.getInitialState({selectedImageId:-1}),ng=(0,ae.Lq)(p_,(0,ae.on)(Fh,(n,{images:r})=>{let e=Ws.removeAll(n);return Ws.addMany(r,e)}),(0,ae.on)(jc,(n,{image:r})=>{let e=Ws.removeAll(n);return Ws.upsertOne(r,e)}),(0,ae.on)(zs,(n,{id:r})=>Ws.removeOne(r,n)),(0,ae.on)(Gc,(n,{id:r})=>({...n,selectedImageId:r})),(0,ae.on)($c,(n,r)=>{const e=n.entities[r.id];return e?Ws.updateOne({id:r.id,changes:{...e,...r.image}},n):n})),{selectIds:g_,selectEntities:m_,selectAll:Ks,selectTotal:hl}=Ws.getSelectors(),Da=(0,ae.ZF)("images"),Do={selectedImageId:(0,ae.P1)(Da,n=>n.selectedImageId),selectTotal:(0,ae.P1)(Da,hl),selectIds:(0,ae.P1)(Da,g_),selectEntities:(0,ae.P1)(Da,m_),selectAll:(0,ae.P1)(Da,Ks)};let Cr=(()=>{class n{constructor(e){this.store=e,this.tissueClasses$=this.store.select(ge=>ge.tissueClasses).pipe((0,bu.x)(),bi(1)),this.images$=this.store.select(Do.selectAll);const s=this.store.select(tg.selectEntities),c=this.store.select(tg.selectAll),f=this.store.select(Do.selectedImageId),_=this.store.select(tg.selectedMaskId),C=Ui(this.store.select(Do.selectEntities),f).pipe((0,Be.U)(([ge,nt])=>ge[nt]),(0,Rn.h)(ge=>!!ge),bi(1)),b=Ui([_,s]).pipe((0,Be.U)(([ge,nt])=>nt[ge]||null),bi(1)),I=this.store.select(ge=>ge.annotate.selectedMaskIdsForView).pipe(bi(1)),N=Ui([I,c]).pipe((0,Be.U)(([ge,nt])=>nt.filter(xe=>ge.includes(xe.id))),bi(1)),q=this.store.select(ge=>ge.annotate.maskOpacity).pipe(bi(1)),oe=this.store.select(ge=>ge.annotate.maskColors).pipe(bi(1)),de=this.store.select(ge=>ge.annotate.brush);this.annotation={selectedImage$:C,masks$:c,selectedMask$:b,selectedMaskId$:_,showMaskIds$:I,showMasks$:N,maskOpacity$:q,maskColors$:oe,tool$:de,mergeMasks$:new Ht.x,saveActiveMask$:new Ht.x}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae.yh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function qc(n,r){1&n&&(o.TgZ(0,"div",24),o._uU(1,"Tool Note: Use mouse or touch device to draw mask. (Use subtraction mode for erasing)."),o.qZA())}function Lh(n,r){1&n&&(o.TgZ(0,"div",24),o._uU(1,"Tool Note: Click setpoints to define a shape to be filled. Alternately, use a stylus device to draw a freeform shape. Double-click or click the Fill/Subtract button to finish and fill. "),o.qZA())}function Nh(n,r){1&n&&(o.TgZ(0,"div"),o._uU(1,"View Ref Image"),o.qZA())}function Vh(n,r){1&n&&(o.TgZ(0,"div"),o._uU(1,"Hide Ref Image"),o.qZA())}function Bh(n,r){if(1&n){const e=o.EpF();o.ynx(0)(1,21),o.ALo(2,"async"),o.YNc(3,qc,2,0,"div",22),o.YNc(4,Lh,2,0,"div",23),o.BQk(),o.TgZ(5,"div",24)(6,"div")(7,"button",25),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.canvasComponent.reset())}),o.TgZ(8,"div"),o._uU(9,"Reset"),o.qZA()()(),o.TgZ(10,"div")(11,"button",25),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.canvasComponent.saveCanvas())}),o.TgZ(12,"div"),o._uU(13,"Save"),o.qZA()()(),o.TgZ(14,"div")(15,"button",25),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.toggleReferenceIm())}),o.YNc(16,Nh,2,0,"div",15),o.YNc(17,Vh,2,0,"div",15),o.qZA()(),o.TgZ(18,"div")(19,"button",26),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2);return o.KtG(c.canvasComponent.fillCurrentShape())}),o.TgZ(20,"div"),o._uU(21),o.ALo(22,"async"),o.qZA()()()(),o.BQk()}if(2&n){const e=o.oxw(2);let s;o.xp6(1),o.Q6J("ngSwitch",o.lcZ(2,7,e.state.annotation.tool$).type),o.xp6(3),o.Q6J("ngSwitchCase",e.toolTypes.FILL),o.xp6(12),o.Q6J("ngIf",!1===e.showRefIm),o.xp6(1),o.Q6J("ngIf",!0===e.showRefIm),o.xp6(2),o.ekj("show",(e.canvasComponent.shapeDrawPointCount||0)>2),o.xp6(2),o.Oqu((null==(s=o.lcZ(22,9,e.state.annotation.tool$))?null:s.mode)===e.toolModes.ADD?"Fill":"Subtract")}}function ig(n,r){1&n&&(o.ynx(0),o.TgZ(1,"div")(2,"div"),o._uU(3," Please select a mask to edit with the"),o.qZA(),o.TgZ(4,"span",5),o.O4$(),o.TgZ(5,"svg",6),o._UZ(6,"path",8),o.qZA()(),o.kcU(),o.TgZ(7,"div"),o._uU(8," icon."),o.qZA()(),o.BQk()),2&n&&(o.xp6(1),o.Udp("display","flex"))}function Uh(n,r){1&n&&o.Hsn(0,0,["*ngTemplateOutlet","canvasTemplate"])}function __(n,r){if(1&n&&(o.TgZ(0,"div",27),o._UZ(1,"img",28),o.ALo(2,"serverAssetPrefix"),o.ALo(3,"async"),o.qZA()),2&n){const e=o.oxw(2);let s;o.xp6(1),o.Q6J("src",o.lcZ(2,1,null==(s=o.lcZ(3,3,e.selectedImage$))?null:s.rgb),o.LSH)}}function gy(n,r){if(1&n&&(o.TgZ(0,"div",2)(1,"div",3)(2,"ul",4)(3,"li")(4,"details")(5,"summary"),o._uU(6,"Annotation Notes"),o.qZA(),o.TgZ(7,"ul")(8,"li")(9,"details")(10,"summary"),o._uU(11,"Mask List"),o.qZA(),o.TgZ(12,"ul")(13,"li")(14,"div",5),o.O4$(),o.TgZ(15,"svg",6),o._UZ(16,"path",7),o.qZA()(),o._uU(17," : toggle mask visibility "),o.qZA(),o.kcU(),o.TgZ(18,"li")(19,"div",5),o.O4$(),o.TgZ(20,"svg",6),o._UZ(21,"path",8),o.qZA()(),o._uU(22," : edit a mask "),o.qZA(),o.kcU(),o.TgZ(23,"li")(24,"div",5),o.O4$(),o.TgZ(25,"svg",9),o._UZ(26,"path",10),o.qZA()(),o._uU(27," : delete a mask "),o.qZA(),o.kcU(),o.TgZ(28,"li"),o._uU(29," In edit mode, click on the mask name to change it "),o.qZA()()()(),o.TgZ(30,"li")(31,"details")(32,"summary"),o._uU(33,"Drawing"),o.qZA(),o.TgZ(34,"ul")(35,"li")(36,"div",5),o.O4$(),o.TgZ(37,"svg",6),o._UZ(38,"path",11),o.qZA()(),o._uU(39," : select Brush Tool "),o.qZA(),o.kcU(),o.TgZ(40,"li")(41,"div",5),o.O4$(),o.TgZ(42,"svg",6),o._UZ(43,"path",12),o.qZA()(),o._uU(44," : select Precision Polygon Tool "),o.qZA(),o.kcU(),o.TgZ(45,"li")(46,"div",5),o.O4$(),o.TgZ(47,"svg",6),o._UZ(48,"path",13),o.qZA()(),o._uU(49," : add to mask "),o.qZA(),o.kcU(),o.TgZ(50,"li")(51,"div",5),o.O4$(),o.TgZ(52,"svg",6),o._UZ(53,"path",14),o.qZA()(),o._uU(54," : subtract from mask "),o.qZA(),o.kcU(),o.TgZ(55,"li"),o._uU(56," Use the Brush Size slider to change the tool radius if using the brush tool "),o.qZA(),o.TgZ(57,"li"),o._uU(58," Use the Mask Opacity slider to adjust the opacity of displayed masks "),o.qZA()()()(),o.TgZ(59,"li")(60,"details")(61,"summary"),o._uU(62,"General"),o.qZA(),o.TgZ(63,"ul")(64,"li"),o._uU(65," Use Reset button to remove unsaved mask alpha changes "),o.qZA(),o.TgZ(66,"li"),o._uU(67," Use Save button to Save mask edits to the database "),o.qZA()()()()()()()(),o.YNc(68,Bh,23,11,"ng-container",15),o.ALo(69,"async"),o.YNc(70,ig,9,2,"ng-container",15),o.ALo(71,"async"),o.qZA(),o.TgZ(72,"div",16)(73,"div",17)(74,"app-image-viewer",18),o.ALo(75,"serverAssetPrefix"),o.ALo(76,"async"),o.ALo(77,"async"),o.ALo(78,"async"),o.ALo(79,"async"),o.ALo(80,"async"),o.YNc(81,Uh,1,0,"ng-content",19),o.qZA()(),o.YNc(82,__,4,5,"div",20),o.qZA()()),2&n){const e=o.oxw(),s=o.MAs(3);let c,f;o.xp6(68),o.Q6J("ngIf",null!==o.lcZ(69,9,e.selectedMask$)),o.xp6(2),o.Q6J("ngIf",null===o.lcZ(71,11,e.selectedMask$)),o.xp6(4),o.Q6J("imageData",o.lcZ(75,13,null==(c=o.lcZ(76,15,e.selectedImage$))?null:c.rgb))("selectedMaskId",null==(f=o.lcZ(77,17,e.selectedMask$))?null:f.id)("maskOpacity",o.lcZ(78,19,e.state.annotation.maskOpacity$))("visibleMasks",o.lcZ(79,21,e.visibleMasksData$))("imageSizeInfo",o.lcZ(80,23,e.imageMeta$)),o.xp6(7),o.Q6J("ngTemplateOutlet",s),o.xp6(1),o.Q6J("ngIf",e.showRefIm)}}function v_(n,r){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"app-canvas",29,30),o.NdJ("updateMaskData",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.updateMaskData(c))}),o.ALo(3,"async"),o.ALo(4,"async"),o.ALo(5,"async"),o.ALo(6,"async"),o.qZA(),o.BQk()}if(2&n){const e=r.ngIf,s=o.oxw(2);o.xp6(1),o.Q6J("imageSizeInfo",e)("selectedMask",o.lcZ(3,5,s.selectedMask$))("disabled",!o.lcZ(4,7,s.selectedMask$))("tool",o.lcZ(5,9,s.state.annotation.tool$))("opacity",o.lcZ(6,11,s.state.annotation.maskOpacity$)||1)}}function rg(n,r){if(1&n&&(o.YNc(0,v_,7,13,"ng-container",15),o.ALo(1,"async")),2&n){const e=o.oxw();o.Q6J("ngIf",o.lcZ(1,1,e.imageMeta$))}}const y_=["*"];let Hh=(()=>{class n{constructor(e,s){this.store=e,this.state=s,this.editIcon=jn("assets/svg/edit.svg"),this.trashIcon=jn("assets/svg/trash.svg"),this.visibilityIcon=jn("assets/svg/visibility_on.svg"),this.drawIcon=jn("assets/svg/draw.svg"),this.polyIcon=jn("assets/svg/poly_line.svg"),this.addIcon=jn("assets/svg/plus_circle.svg"),this.subtractIcon=jn("assets/svg/minus.svg"),this.toolTypes=St,this.sliderOptions={floor:0,ceil:100},this.maxImageWidth=1200,this.subscriptions=[],this.toolModes=At,this.showRefIm=!1,this.annotationMode$=this.store.select(f=>f.app.annotationIsActive),this.subscriptions.push(this.annotationMode$.pipe(ot(f=>!f&&this.canvasComponent?this.canvasComponent.reset():null)).subscribe()),this.subscriptions.push(this.state.annotation.mergeMasks$.pipe((0,ln.w)(f=>f?this.state.annotation.masks$.pipe(ai(),(0,Be.U)(_=>_.find(C=>C.id==f.mask2Id)),(0,ln.w)(_=>_?(this.canvasComponent.mergeExternalImage(Gs(_?.bitmap||"")),this.canvasComponent.saveCanvas(!1).pipe(ot(C=>this.updateMaskData(C)))):(0,je.of)())):(0,je.of)())).subscribe()),this.brushSize$=this.store.select(f=>(0,hs.get)(f,"annotate.brush.size",48)).pipe(bi(1),Jo(48)),this.selectedImage$=s.annotation.selectedImage$,this.selectedMask$=this.state.annotation.selectedMask$;const c=this.store.select(f=>f.annotate.imageZoom).pipe(bi(1));this.imageMeta$=Ui([c,this.selectedImage$]).pipe((0,ln.w)(([f,_])=>{const C=new Image,b=Hn(C,"load");return C.src=Gs(_.rgb),Di(b,(0,je.of)(C),(0,je.of)(_),(0,je.of)(f))}),(0,Be.U)(([f,_,C,b])=>({id:C.id,resolution:{height:_.naturalHeight,width:_.naturalWidth},displayWidth:_.naturalWidth*b,displayHeight:_.naturalHeight*b,scale:b})),bi(1)),this.visibleMasksData$=Ui([this.state.annotation.masks$,this.state.annotation.showMaskIds$]).pipe((0,Be.U)(([f,_])=>_.map(C=>{const b=(0,hs.findIndex)(f,I=>I.id==C);return(0,hs.get)(f,[b])}).filter(C=>!!C)),bi(1))}toggleReferenceIm(){this.showRefIm=!this.showRefIm}updateMaskData(e,s){this.selectedMask$.pipe(ai(),(0,fn.M)(this.selectedImage$),ot(([c,f])=>{!c||this.store.dispatch(c.id<0?An.requestCreateMask({mask:{...c,bitmap:e.data},spimId:f.id}):An.requestUpdateMask({mask:{...c,bitmap:e.data},spimId:f.id,deleteMaskOfIdOnSuccess:s}))})).subscribe()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ae.yh),o.Y36(Cr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-annotate"]],viewQuery:function(e,s){if(1&e&&o.Gf(bo,5),2&e){let c;o.iGM(c=o.CRH())&&(s.canvasComponent=c.first)}},ngContentSelectors:y_,decls:4,vars:3,consts:[["id","view_container",4,"ngIf"],["canvasTemplate",""],["id","view_container"],["id","header_bar"],["id","notes"],[1,"icon_container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48"],["d","M24 31.5q3.55 0 6.025-2.475Q32.5 26.55 32.5 23q0-3.55-2.475-6.025Q27.55 14.5 24 14.5q-3.55 0-6.025 2.475Q15.5 19.45 15.5 23q0 3.55 2.475 6.025Q20.45 31.5 24 31.5Zm0-2.9q-2.35 0-3.975-1.625T18.4 23q0-2.35 1.625-3.975T24 17.4q2.35 0 3.975 1.625T29.6 23q0 2.35-1.625 3.975T24 28.6Zm0 9.4q-7.3 0-13.2-4.15Q4.9 29.7 2 23q2.9-6.7 8.8-10.85Q16.7 8 24 8q7.3 0 13.2 4.15Q43.1 16.3 46 23q-2.9 6.7-8.8 10.85Q31.3 38 24 38Zm0-15Zm0 12q6.05 0 11.125-3.275T42.85 23q-2.65-5.45-7.725-8.725Q30.05 11 24 11t-11.125 3.275Q7.8 17.55 5.1 23q2.7 5.45 7.775 8.725Q17.95 35 24 35Z"],["d","M9 39h2.2l22.15-22.15-2.2-2.2L9 36.8Zm30.7-24.3-6.4-6.4 2.1-2.1q.85-.85 2.1-.85t2.1.85l2.2 2.2q.85.85.85 2.1t-.85 2.1Zm-2.1 2.1L12.4 42H6v-6.4l25.2-25.2Zm-5.35-1.05-1.1-1.1 2.2 2.2Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","viewBox","0 0 48 48"],["d","M13.05 42q-1.25 0-2.125-.875T10.05 39V10.5H8v-3h9.4V6h13.2v1.5H40v3h-2.05V39q0 1.2-.9 2.1-.9.9-2.1.9Zm21.9-31.5h-21.9V39h21.9Zm-16.6 24.2h3V14.75h-3Zm8.3 0h3V14.75h-3Zm-13.6-24.2V39Z"],["d","M28 42q-.6 0-1.05-.45-.45-.45-.45-1.05 0-.65.45-1.075Q27.4 39 28 39q2.95 0 4.975-1.2Q35 36.6 35 35q0-1.15-1.475-2.25t-3.975-1.7l2.35-2.35q3.15.95 4.625 2.625T38 35q0 3.35-3.05 5.175Q31.9 42 28 42ZM12 27.3q-3.2-.7-4.6-2.2Q6 23.6 6 22q0-1.75 1.3-3.15t6-3.1q3.3-1.2 4.25-1.95.95-.75.95-1.75 0-1.25-1.1-2.15Q16.3 9 14 9q-1.35 0-2.3.35-.95.35-1.7 1.1-.4.4-1.025.475Q8.35 11 7.85 10.6q-.55-.4-.575-1-.025-.6.375-1.05.85-1.1 2.55-1.825Q11.9 6 14 6q3.4 0 5.45 1.625Q21.5 9.25 21.5 12.05q0 2.05-1.425 3.475Q18.65 16.95 14.5 18.5q-3.35 1.25-4.425 1.975Q9 21.2 9 22q0 .8 1.35 1.525 1.35.725 4.05 1.375Zm24.8-7.7-6.4-6.4 2.25-2.25q.9-.9 2-.9t2 .9l2.4 2.4q.9.9.9 2t-.9 2ZM11 39h2.1l17.25-17.25-2.1-2.1L11 36.9Zm-3 3v-6.4l20.25-20.25 6.4 6.4L14.4 42Zm20.25-22.35 2.1 2.1Z"],["d","M31 44v-4.75L15.5 31.5H6v-11h8.75l6.25-7V4h11v11h-8.3L17 22.5v6.45l14 6.95V33h11v11Zm-7-32h5V7h-5ZM9 28.5h5v-5H9ZM34 41h5v-5h-5ZM26.5 9.5ZM11.5 26Zm25 12.5Z"],["d","M22.65 34h3v-8.3H34v-3h-8.35V14h-3v8.7H14v3h8.65ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 23.95q0-4.1 1.575-7.75 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24.05 4q4.1 0 7.75 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm.05-3q7.05 0 12-4.975T41 23.95q0-7.05-4.95-12T24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24.05 41ZM24 24Z"],["d","M10 25.5v-3h28v3Z"],[4,"ngIf"],["id","editor_container"],["id","editor_canvas_container"],[3,"imageData","selectedMaskId","maskOpacity","visibleMasks","imageSizeInfo"],[4,"ngTemplateOutlet"],["id","ref_im",4,"ngIf"],[3,"ngSwitch"],["class","row",4,"ngSwitchDefault"],["class","row",4,"ngSwitchCase"],[1,"row"],[3,"click"],["id","finishShapeConfirm",3,"click"],["id","ref_im"],["width","100%",3,"src"],[3,"imageSizeInfo","selectedMask","disabled","tool","opacity","updateMaskData"],["canvasComponent",""]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,gy,83,25,"div",0),o.ALo(1,"async"),o.YNc(2,rg,2,3,"ng-template",null,1,o.W1O)),2&e&&o.Q6J("ngIf",o.lcZ(1,1,s.annotationMode$))},styles:["#view_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;overflow:hidden}.icon_container[_ngcontent-%COMP%]{height:25px;width:25px;cursor:pointer}.icon_container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%;fill:#000;stroke-width:2px}#notes[_ngcontent-%COMP%]{--spacing: 1.5rem;--radius: 10px;padding-left:0}#notes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;position:relative;padding-left:calc(2 * var(--spacing) - var(--radius) - 2px);align-items:center}#notes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child{padding-left:0}#notes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:calc(var(--radius) - var(--spacing));padding-left:0}#header_bar[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;flex-direction:column;padding:8px}#header_bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:center}#header_bar[_ngcontent-%COMP%]   #finishShapeConfirm[_ngcontent-%COMP%]{display:none;width:80px}#header_bar[_ngcontent-%COMP%]   #finishShapeConfirm.show[_ngcontent-%COMP%]{display:flex}#header_bar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:row;margin-bottom:4px;align-items:baseline}#header_bar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;margin-right:8px}#editor_container[_ngcontent-%COMP%]{border:black solid 1px;border-radius:12px;display:flex;flex-direction:row;padding:20px;overflow:auto;height:auto}#editor_container[_ngcontent-%COMP%]   #editor_canvas_container[_ngcontent-%COMP%]{flex:0 0 50%;width:50%;min-width:500px;position:relative}#editor_container[_ngcontent-%COMP%]   #editor_canvas_container[_ngcontent-%COMP%]   #image_preview[_ngcontent-%COMP%]{position:relative;top:0;left:0;max-width:800px;max-height:600px;width:auto;height:auto}#editor_container[_ngcontent-%COMP%]   #editor_canvas_container[_ngcontent-%COMP%]   #canvas_background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:scale(.5);transform-origin:0 0}#editor_container[_ngcontent-%COMP%]   #editor_canvas_container[_ngcontent-%COMP%]   app-canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0}#ref_im[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;right:0;width:400px;z-index:10}"]}),n})();function jh(...n){const r=(0,hr.jO)(n),{args:e,keys:s}=zf(n),c=new Pn.y(f=>{const{length:_}=e;if(!_)return void f.complete();const C=new Array(_);let b=_,I=_;for(let N=0;N<_;N++){let q=!1;(0,is.Xf)(e[N]).subscribe((0,Bn.x)(f,oe=>{q||(q=!0,I--),C[N]=oe},()=>b--,void 0,()=>{(!b||!q)&&(I||f.next(s?kr(s,C):C),f.complete())}))}});return r?c.pipe(Yl(r)):c}const $h=(0,ae.PH)("[App] Set Annotate Mode",(0,ae.Ky)()),qi=(0,ae.PH)("[App] Load TissueClasses",(0,ae.Ky)()),Zc=(0,ae.PH)("[App] Request TissueClasses"),sg=(0,ae.PH)("[App] Add GeneratingMasks Status",(0,ae.Ky)()),og=(0,ae.PH)("[App] Remove GeneratingMasks Status",(0,ae.Ky)()),ag=(0,ae.PH)("[App] Request Segmentation",(0,ae.Ky)());var xo=(()=>{return(n=xo||(xo={}))[n.KMEANS=1]="KMEANS",n[n.ADVANCED_DL=2]="ADVANCED_DL",n[n.SIMPLE_DL=3]="SIMPLE_DL",n[n.RESNET=4]="RESNET",n[n.SPECTRAL_KMEANS=5]="SPECTRAL_KMEANS",xo;var n})();const lg=Object.keys(xo).filter(n=>!isNaN(parseInt(n,10)));let ug=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),xa=(()=>{class n extends ug{}return n.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(n)))(s||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const jr=new o.OlP("NgValueAccessor");function Mu(n){return null!=n}function w_(n){return(0,o.QGY)(n)?(0,dn.D)(n):n}function Yc(n){let r={};return n.forEach(e=>{r=null!=e?{...r,...e}:r}),0===Object.keys(r).length?null:r}function E_(n,r){return r.map(e=>e(n))}function Zh(n){return n.map(r=>function qh(n){return!n.validate}(r)?r:e=>r.validate(e))}function Qc(n){return null!=n?function zh(n){if(!n)return null;const r=n.filter(Mu);return 0==r.length?null:function(e){return Yc(E_(e,r))}}(Zh(n)):null}function sr(n){return null!=n?function fl(n){if(!n)return null;const r=n.filter(Mu);return 0==r.length?null:function(e){return jh(E_(e,r).map(w_)).pipe((0,Be.U)(Yc))}}(Zh(n)):null}function Wh(n){return n?Array.isArray(n)?n:[n]:[]}function gl(n,r){return Array.isArray(n)?n.includes(r):n===r}function Kh(n,r){const e=Wh(r);return Wh(n).forEach(c=>{gl(e,c)||e.push(c)}),e}function vg(n,r){return Wh(r).filter(e=>!gl(n,e))}const Ne="VALID",Ge="INVALID",Ye="PENDING",Qe="DISABLED";function Xe(n){return(vn(n)?n.validators:n)||null}function Mt(n){return Array.isArray(n)?Qc(n):n||null}function mt(n,r){return(vn(r)?r.asyncValidators:n)||null}function Si(n){return Array.isArray(n)?sr(n):n||null}function vn(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Jn(n,r,e){const s=n.controls;if(!(r?Object.keys(s):s).length)throw new o.vHH(1e3,"");if(!s[e])throw new o.vHH(1001,"")}function tn(n,r,e){n._forEachChild((s,c)=>{if(void 0===e[c])throw new o.vHH(1002,"")})}class li{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Mt(this._rawValidators),this._composedAsyncValidatorFn=Si(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Ne}get invalid(){return this.status===Ge}get pending(){return this.status==Ye}get disabled(){return this.status===Qe}get enabled(){return this.status!==Qe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Mt(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=Si(r)}addValidators(r){this.setValidators(Kh(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Kh(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(vg(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(vg(r,this._rawAsyncValidators))}hasValidator(r){return gl(this._rawValidators,r)}hasAsyncValidator(r){return gl(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Ye,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Qe,this.errors=null,this._forEachChild(s=>{s.disable({...r,onlySelf:!0})}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Ne,this._forEachChild(s=>{s.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ne||this.status===Ye)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qe:Ne}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Ye,this._hasOwnPendingAsyncValidator=!0;const e=w_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){let e=r;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,c)=>s&&s._find(c),this)}getError(r,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Qe:this.errors?Ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ye)?Ye:this._anyControlsHaveStatus(Ge)?Ge:Ne}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){vn(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}}const Io=class mi extends li{constructor(r,e,s){super(Xe(e),mt(s,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,s={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,s={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){tn(this,0,r),Object.keys(r).forEach(s=>{Jn(this,!0,s),this.controls[s].setValue(r[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(s=>{const c=this.controls[s];c&&c.patchValue(r[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((s,c)=>{s.reset(r[c],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,s)=>(r[s]=e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&r(s,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const[e,s]of Object.entries(this.controls))if(this.contains(e)&&r(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,s,c)=>((s.enabled||this.disabled)&&(e[c]=s.value),e))}_reduceChildren(r,e){let s=r;return this._forEachChild((c,f)=>{s=e(s,c,f)}),s}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}};function O_(n,r){const e=n.indexOf(r);e>-1&&n.splice(e,1)}function P_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cf=class extends li{constructor(r=null,e,s){super(Xe(e),mt(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vn(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=P_(r)?r.value:r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){O_(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){O_(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){P_(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}};let V_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const xg=new o.OlP("NgModelWithFormControlWarning"),BC={provide:jr,useExisting:(0,o.Gpc)(()=>Sg),multi:!0};function H_(n,r){return null==n?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let Sg=(()=>{class n extends xa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const c=H_(this._getOptionId(e),e);this.setProperty("value",c)}registerOnChange(e){this.onChange=s=>{this.value=this._getOptionValue(s),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),e))return s;return null}_getOptionValue(e){const s=function UC(n){return n.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s):e}}return n.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(n)))(s||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,s){1&e&&o.NdJ("change",function(f){return s.onChange(f.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([BC]),o.qOj]}),n})(),j_=(()=>{class n{constructor(e,s,c){this._element=e,this._renderer=s,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(H_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Sg,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const $_={provide:jr,useExisting:(0,o.Gpc)(()=>Ig),multi:!0};function Tg(n,r){return null==n?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let Ig=(()=>{class n extends xa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let s;if(this.value=e,Array.isArray(e)){const c=e.map(f=>this._getOptionId(f));s=(f,_)=>{f._setSelected(c.indexOf(_.toString())>-1)}}else s=(c,f)=>{c._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(e){this.onChange=s=>{const c=[],f=s.selectedOptions;if(void 0!==f){const _=f;for(let C=0;C<_.length;C++){const I=this._getOptionValue(_[C].value);c.push(I)}}else{const _=s.options;for(let C=0;C<_.length;C++){const b=_[C];if(b.selected){const I=this._getOptionValue(b.value);c.push(I)}}}this.value=c,e(c)}}_registerOption(e){const s=(this._idCounter++).toString();return this._optionMap.set(s,e),s}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,e))return s;return null}_getOptionValue(e){const s=function Oo(n){return n.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s)._value:e}}return n.\u0275fac=function(){let r;return function(s){return(r||(r=o.n5z(n)))(s||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,s){1&e&&o.NdJ("change",function(f){return s.onChange(f.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([$_]),o.qOj]}),n})(),Gr=(()=>{class n{constructor(e,s,c){this._element=e,this._renderer=s,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Tg(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Tg(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Ig,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[V_]}),n})(),Hy=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:xg,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Uy]}),n})();const K_=class W_ extends li{constructor(r,e,s){super(Xe(e),mt(s,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[this._adjustIndex(r)]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,s={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(r,e={}){let s=this._adjustIndex(r);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,s={}){let c=this._adjustIndex(r);c<0&&(c=0),this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),this.controls.splice(c,1),e&&(this.controls.splice(c,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){tn(this,0,r),r.forEach((s,c)=>{Jn(this,!1,c),this.at(c).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((s,c)=>{this.at(c)&&this.at(c).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((s,c)=>{s.reset(r[c],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_adjustIndex(r){return r<0?r+this.length:r}_syncPendingControls(){let r=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((e,s)=>{r(e,s)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}_find(r){return this.at(r)??null}},WC=["canvas"];let KC=(()=>{class n{constructor(){this._color$=new Us.t(1),this.color$=this._color$.asObservable(),this._imageData$=new Us.t(1),this.imageData$=this._imageData$.asObservable(),this.viewInitialized$=new Us.t(1),this.subscriptions=[],this.canvasClass="",this.subscriptions.push(Ui([this._color$,this._imageData$,this.viewInitialized$]).pipe(ot(([e,s,c])=>{this.redraw(e,s)})).subscribe())}set color(e){null!=e&&this._color$.next(e)}set imageData(e){null!=e&&this._imageData$.next(e)}ngAfterViewInit(){this.viewInitialized$.next()}redraw(e,s){const c=this.canvas.nativeElement.getContext("2d"),f=new Image;f.crossOrigin="anonymous",c&&(Hn(f,"load").pipe(ai(),ot(()=>{c.drawImage(f,0,0,this.width,this.height);const _=c.getImageData(0,0,this.width,this.height),{data:C}=_,{length:b}=C;for(let I=0;I<b;I+=4)if(C[I+3]>0){const ge=Sh(e);C[I+0]=ge.r,C[I+1]=ge.g,C[I+2]=ge.b}c.putImageData(_,0,0)}),(0,Dn.K)(_=>(0,je.of)(console.log(_)))).subscribe(),f.src=Gs(s))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-mask-overlay-canvas"]],viewQuery:function(e,s){if(1&e&&o.Gf(WC,5),2&e){let c;o.iGM(c=o.CRH())&&(s.canvas=c.first)}},inputs:{width:"width",height:"height",color:"color",imageData:"imageData",canvasClass:"canvasClass"},decls:2,vars:4,consts:[[3,"width","height"],["canvas",""]],template:function(e,s){1&e&&o._UZ(0,"canvas",0,1),2&e&&(o.Tol(s.canvasClass),o.Q6J("width",s.width)("height",s.height))},styles:["canvas[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),n})();function YC(n,r){if(1&n&&(o.TgZ(0,"div",3),o._UZ(1,"app-mask-overlay-canvas",4),o.qZA()),2&n){const e=o.oxw().$implicit,s=o.oxw();o.Udp("opacity",s.maskOpacity)("width",(null==s.imageSizeInfo?null:s.imageSizeInfo.displayWidth)+"px")("height",(null==s.imageSizeInfo?null:s.imageSizeInfo.displayHeight)+"px"),o.xp6(1),o.Q6J("width",(null==s.imageSizeInfo||null==s.imageSizeInfo.resolution?null:s.imageSizeInfo.resolution.width)||0)("canvasClass",s.maskClass)("height",(null==s.imageSizeInfo||null==s.imageSizeInfo.resolution?null:s.imageSizeInfo.resolution.height)||0)("imageData",e.bitmap)("color",e.color)}}function QC(n,r){if(1&n&&(o.ynx(0),o.YNc(1,YC,2,11,"div",2),o.BQk()),2&n){const e=r.$implicit,s=o.oxw();o.xp6(1),o.Q6J("ngIf",e.id!==s.selectedMaskId&&!!e.bitmap)}}const JC=["*"];let jy=(()=>{class n{constructor(){this.MASK_COLORS=Cu,this._imageData$=new Us.t(1),this.imageData$=this._imageData$.asObservable(),this._visibleMasks$=new Us.t(1),this.visibleMasks$=this._visibleMasks$.asObservable(),this.imgClass="",this.maskClass="",this.maskOverlayClass="",this.maskOpacity=1}set imageData(e){e&&this._imageData$.next(e)}set visibleMasks(e){null!=e&&this._visibleMasks$.next(e)}trackBy(e,s){return s.pk}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-image-viewer"]],inputs:{imageData:"imageData",visibleMasks:"visibleMasks",imgClass:"imgClass",maskClass:"maskClass",maskOverlayClass:"maskOverlayClass",selectedMaskId:"selectedMaskId",maskOpacity:"maskOpacity",imageSizeInfo:"imageSizeInfo"},ngContentSelectors:JC,decls:5,vars:11,consts:[["id","im_preview",3,"width","height","src"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","mask_overlay_container",3,"opacity","width","height",4,"ngIf"],[1,"mask_overlay_container"],[3,"width","canvasClass","height","imageData","color"]],template:function(e,s){1&e&&(o.F$t(),o._UZ(0,"img",0),o.ALo(1,"async"),o.Hsn(2),o.YNc(3,QC,2,1,"ng-container",1),o.ALo(4,"async")),2&e&&(o.Tol(s.imgClass),o.Q6J("width",null==s.imageSizeInfo?null:s.imageSizeInfo.displayWidth)("height",null==s.imageSizeInfo?null:s.imageSizeInfo.displayHeight)("src",o.lcZ(1,7,s.imageData$),o.LSH),o.xp6(3),o.Q6J("ngForOf",o.lcZ(4,9,s.visibleMasks$))("ngForTrackBy",s.trackBy))},dependencies:[yi,Ut,KC,Pt],styles:["[_nghost-%COMP%]{position:relative;display:block}#im_preview[_ngcontent-%COMP%]{position:relative}.mask_overlay_container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})();function XC(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",20),o.O4$(),o.TgZ(1,"svg",21),o.NdJ("click",function(){o.CHM(e);const c=o.oxw().$implicit,f=o.oxw(3);return o.KtG(f.showMasks[c.id]=!f.showMasks[c.id])}),o._UZ(2,"path",22),o.qZA()()}}function ew(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",20),o.O4$(),o.TgZ(1,"svg",21),o.NdJ("click",function(){o.CHM(e);const c=o.oxw().$implicit,f=o.oxw(3);return o.KtG(f.showMasks[c.id]=!f.showMasks[c.id])}),o._UZ(2,"path",23),o.qZA()()}}function tw(n,r){if(1&n&&(o.TgZ(0,"option",24),o._uU(1),o.qZA()),2&n){const e=r.$implicit,s=o.oxw(4);o.s9C("label",s.SEG_METHODS[e]),o.xp6(1),o.hij(" ",e," ")}}function nw(n,r){1&n&&o._UZ(0,"div",27)}function iw(n,r){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,nw,1,0,"div",26),o.qZA()),2&n){const e=r.ngIf,s=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",!0===e[s.id])}}const rw=function(){return[]},sw=function(n){return["/annotate",n]};function ow(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.NdJ("mouseover",function(){const f=o.CHM(e).$implicit,_=o.oxw(3);return o.KtG(_.hoveredSpimId=f.id)}),o._UZ(1,"app-image-viewer",5),o.ALo(2,"serverAssetPrefix"),o.TgZ(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),o.YNc(7,XC,3,0,"div",10),o.YNc(8,ew,3,0,"div",10),o.TgZ(9,"div",11),o.O4$(),o.TgZ(10,"svg",12),o._UZ(11,"path",13),o.qZA()(),o.kcU(),o.TgZ(12,"div",14),o.NdJ("click",function(){const f=o.CHM(e).$implicit,_=o.oxw(3);return o.KtG(_.deleteSpimButtonClicked(f.id))}),o.O4$(),o.TgZ(13,"svg",12),o._UZ(14,"path",15),o.qZA()(),o.kcU(),o.TgZ(15,"select",16),o.NdJ("change",function(c){const _=o.CHM(e).$implicit,C=o.oxw(3);return o.KtG(C.autoSegmentImage(_.id,c))}),o.TgZ(16,"option",17),o._uU(17," AutoSegment "),o.qZA(),o.YNc(18,tw,2,2,"option",18),o.qZA()()()()(),o.YNc(19,iw,2,1,"div",19),o.ALo(20,"async"),o.qZA()}if(2&n){const e=r.$implicit,s=o.oxw().ngIf,c=o.oxw(2);o.ekj("wasHovered",c.hoveredSpimId===e.id),o.xp6(1),o.Q6J("maskClass","mask")("imgClass","im_preview")("imageData",o.lcZ(2,13,e.rgb))("selectedMaskId",null)("visibleMasks",!0===c.showMasks[e.id]?e.masks:o.DdM(17,rw))("imageSizeInfo",s[e.id]),o.xp6(6),o.Q6J("ngIf",c.showMasks[e.id]),o.xp6(1),o.Q6J("ngIf",!c.showMasks[e.id]),o.xp6(1),o.Q6J("routerLink",o.VKq(18,sw,e.pk)),o.xp6(9),o.Q6J("ngForOf",c.segMethods),o.xp6(1),o.Q6J("ngIf",o.lcZ(20,15,c.loadingSpimMasks$))}}function $y(n,r){if(1&n&&(o.ynx(0),o.YNc(1,ow,21,20,"div",3),o.ALo(2,"async"),o.BQk()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,2,e.state.images$))("ngForTrackBy",e.trackBy)}}function Gy(n,r){if(1&n&&(o.ynx(0),o.YNc(1,$y,3,4,"ng-container",2),o.ALo(2,"async"),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,e.imSizeInfo$))}}let qy=(()=>{class n{constructor(e,s){this.state=e,this.store=s,this.SEG_METHODS=xo,this.segMethods=lg,this.imageBasePath="static",this.apiUrl=un.urls.api,this.showMasks={},this.selectedTissueClasses$=new Us.t(1),this.hoveredSpimId=-1,this.loadingSpimMasks$=this.store.select(c=>c.app.generatingMasksForSpims).pipe((0,bu.x)(),(0,Be.U)(c=>c.reduce((f,_)=>(f[_]=!0,f),{})),bi(1)),this.visibleMasks$=Ui([this.state.images$,this.selectedTissueClasses$]).pipe((0,Be.U)(([c,f])=>c.reduce((_,C)=>(_[C.id]=(0,hs.get)(C,"masks",[]).filter(b=>f.find(I=>I.pk===b.tissueId)),_),{})),Jo([])),this.imSizeInfo$=this.state.images$.pipe((0,ln.w)(c=>jh(c.map(f=>{const _=new Image,C=Hn(_,"load");return _.src=Gs(f.rgb),Di(C,(0,je.of)(_)).pipe((0,Be.U)(([b,I])=>({id:f.id,resolution:{height:I.naturalHeight,width:I.naturalWidth},displayWidth:250/I.naturalHeight*I.naturalWidth,displayHeight:250,scale:0})))})).pipe((0,Be.U)(f=>f.reduce((_,C)=>(_[C.id]=C,_),{})))),bi(1))}tissueClassSelectionChange(e){this.selectedTissueClasses$.next(e)}autoSegmentImage(e,s){const c=parseInt((0,hs.get)(s,"target.value",""),10);isNaN(c)||1==confirm(`Auto-segment this image with ${xo[c]} method?`)&&this.store.dispatch(ag({spimId:e,segType:c}))}trackBy(e,s){return s.id}deleteSpimButtonClicked(e){this.store.dispatch(Hr.requestDeleteImage({id:e}))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Cr),o.Y36(ae.yh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-browse"]],decls:4,vars:3,consts:[["id","view_container"],["id","im_view"],[4,"ngIf"],["class","im_container",3,"wasHovered","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],[1,"im_container",3,"mouseover"],[3,"maskClass","imgClass","imageData","selectedMaskId","visibleMasks","imageSizeInfo"],[1,"im_overlay_position"],[1,"im_overlay_container"],[1,"im_overlay"],[1,"im_overlay_footer"],["class","icon_container",4,"ngIf"],[1,"icon_container",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48"],["d","M9 39h2.2l22.15-22.15-2.2-2.2L9 36.8Zm30.7-24.3-6.4-6.4 2.1-2.1q.85-.85 2.1-.85t2.1.85l2.2 2.2q.85.85.85 2.1t-.85 2.1Zm-2.1 2.1L12.4 42H6v-6.4l25.2-25.2Zm-5.35-1.05-1.1-1.1 2.2 2.2Z"],[1,"icon_container",3,"click"],["d","M13.05 42q-1.25 0-2.125-.875T10.05 39V10.5H8v-3h9.4V6h13.2v1.5H40v3h-2.05V39q0 1.2-.9 2.1-.9.9-2.1.9Zm21.9-31.5h-21.9V39h21.9Zm-16.6 24.2h3V14.75h-3Zm8.3 0h3V14.75h-3Zm-13.6-24.2V39Z"],["id","segmentationSelect",3,"change"],["selected","selected"],[3,"label",4,"ngFor","ngForOf"],["class","loading_container",4,"ngIf"],[1,"icon_container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",3,"click"],["d","M24 31.5q3.55 0 6.025-2.475Q32.5 26.55 32.5 23q0-3.55-2.475-6.025Q27.55 14.5 24 14.5q-3.55 0-6.025 2.475Q15.5 19.45 15.5 23q0 3.55 2.475 6.025Q20.45 31.5 24 31.5Zm0-2.9q-2.35 0-3.975-1.625T18.4 23q0-2.35 1.625-3.975T24 17.4q2.35 0 3.975 1.625T29.6 23q0 2.35-1.625 3.975T24 28.6Zm0 9.4q-7.3 0-13.2-4.15Q4.9 29.7 2 23q2.9-6.7 8.8-10.85Q16.7 8 24 8q7.3 0 13.2 4.15Q43.1 16.3 46 23q-2.9 6.7-8.8 10.85Q31.3 38 24 38Zm0-15Zm0 12q6.05 0 11.125-3.275T42.85 23q-2.65-5.45-7.725-8.725Q30.05 11 24 11t-11.125 3.275Q7.8 17.55 5.1 23q2.7 5.45 7.775 8.725Q17.95 35 24 35Z"],["d","m31.45 27.05-2.2-2.2q1.3-3.55-1.35-5.9-2.65-2.35-5.75-1.2l-2.2-2.2q.85-.55 1.9-.8 1.05-.25 2.15-.25 3.55 0 6.025 2.475Q32.5 19.45 32.5 23q0 1.1-.275 2.175-.275 1.075-.775 1.875Zm6.45 6.45-2-2q2.45-1.8 4.275-4.025Q42 25.25 42.85 23q-2.5-5.55-7.5-8.775Q30.35 11 24.5 11q-2.1 0-4.3.4-2.2.4-3.45.95L14.45 10q1.75-.8 4.475-1.4Q21.65 8 24.25 8q7.15 0 13.075 4.075Q43.25 16.15 46 23q-1.3 3.2-3.35 5.85-2.05 2.65-4.75 4.65Zm2.9 11.3-8.4-8.25q-1.75.7-3.95 1.075T24 38q-7.3 0-13.25-4.075T2 23q1-2.6 2.775-5.075T9.1 13.2L2.8 6.9l2.1-2.15L42.75 42.6ZM11.15 15.3q-1.85 1.35-3.575 3.55Q5.85 21.05 5.1 23q2.55 5.55 7.675 8.775Q17.9 35 24.4 35q1.65 0 3.25-.2t2.4-.6l-3.2-3.2q-.55.25-1.35.375T24 31.5q-3.5 0-6-2.45T15.5 23q0-.75.125-1.5T16 20.15Zm15.25 7.1Zm-5.8 2.9Z"],[3,"label"],[1,"loading_container"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,Gy,3,3,"ng-container",2),o.ALo(3,"async"),o.qZA()()),2&e&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,1,s.visibleMasks$)))},dependencies:[yi,Ut,wo,j_,Gr,jy,Pt,Vc],styles:["app-browse #segmentationSelect{font-size:10px}app-browse .im_preview,app-browse .mask{border-radius:10px}app-browse #view_container{display:flex;flex-direction:column}app-browse app-image-viewer{position:relative;top:0;left:0}app-browse #im_view{width:100%;display:flex;flex-direction:row;flex-wrap:wrap}app-browse .im{width:100%;height:100%;object-fit:cover;border-radius:10px;pointer-events:none}app-browse .im_container{margin:15px;height:250px;width:250px;position:relative}app-browse .im_container.wasHovered .im_overlay{display:flex}app-browse .im_overlay_position{position:absolute;top:0;left:0;height:0;width:0}app-browse .im_overlay_container{width:250px;height:250px}app-browse .im_overlay{flex-direction:column;justify-content:flex-end;width:100%;height:100%;display:none;border-bottom-left-radius:10px;border-bottom-right-radius:10px;background-image:linear-gradient(transparent 60%,rgba(0,0,0,.5))}app-browse .im_overlay_footer{display:flex;flex-direction:row;justify-content:flex-end;padding:8px}app-browse .icon_container{height:25px;cursor:pointer}app-browse .icon_container svg{height:100%;fill:#fff;stroke:#fff;stroke-width:2px}app-browse .loading{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:120px;height:120px;animation:spin 2s linear infinite}app-browse .loading_container{pointer-events:none;position:absolute;top:0;left:0;display:flex;width:250px;height:250px;align-items:center;justify-content:center}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n"],encapsulation:2}),n})();var ms=(()=>{return(n=ms||(ms={}))[n.Queue=0]="Queue",n[n.Uploading=1]="Uploading",n[n.Done=2]="Done",n[n.Cancelled=3]="Cancelled",ms;var n})();function hf(n){if(0===n)return"0 Byte";const s=Math.floor(Math.log(n)/Math.log(1024));return parseFloat((n/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][s]}class Y_{constructor(r=Number.POSITIVE_INFINITY,e=["*"],s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY){this.queue=[],this.serviceEvents=new o.vpe,this.uploadScheduler=new Ht.x,this.subs=[],this.contentTypes=e,this.maxUploads=s,this.maxFileSize=c,this.uploadScheduler.pipe((0,kt.z)(f=>this.startUpload(f),r)).subscribe(f=>this.serviceEvents.emit(f))}handleFiles(r){const e=[].reduce.call(r,(s,c,f)=>{const _=s.length+this.queue.length+1;if(this.isContentTypeAllowed(c.type)&&_<=this.maxUploads&&this.isFileSizeAllowed(c.size))s=s.concat(c);else{const C=this.makeUploadFile(c,f);this.serviceEvents.emit({type:"rejected",file:C})}return s},[]);this.queue.push(...[].map.call(e,(s,c)=>{const f=this.makeUploadFile(s,c);return this.serviceEvents.emit({type:"addedToQueue",file:f}),f})),this.serviceEvents.emit({type:"allAddedToQueue"})}initInputEvents(r){return r.subscribe(e=>{switch(e.type){case"uploadFile":const s=this.queue.findIndex(b=>b===e.file);-1!==s&&e.file&&this.uploadScheduler.next({file:this.queue[s],event:e});break;case"uploadAll":this.queue.filter(b=>b.progress.status===ms.Queue).forEach(b=>this.uploadScheduler.next({file:b,event:e}));break;case"cancel":const f=e.id||null;if(!f)return;this.subs.filter(b=>b.id===f).forEach(b=>{if(b.sub){b.sub.unsubscribe();const I=this.queue.findIndex(N=>N.id===f);-1!==I&&(this.queue[I].progress.status=ms.Cancelled,this.serviceEvents.emit({type:"cancelled",file:this.queue[I]}))}});break;case"cancelAll":this.subs.forEach(b=>{b.sub&&b.sub.unsubscribe();const I=this.queue.find(N=>N.id===b.id);I&&(I.progress.status=ms.Cancelled,this.serviceEvents.emit({type:"cancelled",file:I}))});break;case"remove":if(!e.id)return;const C=this.queue.findIndex(b=>b.id===e.id);if(-1!==C){const b=this.queue[C];this.queue.splice(C,1),this.serviceEvents.emit({type:"removed",file:b})}break;case"removeAll":this.queue.length&&(this.queue=[],this.serviceEvents.emit({type:"removedAll"}))}})}startUpload(r){return new Pn.y(e=>{const s=this.uploadFile(r.file,r.event).pipe(ea(()=>{e.closed||e.complete()})).subscribe(c=>{e.next(c)},c=>{e.error(c),e.complete()},()=>{e.complete()});this.subs.push({id:r.file.id,sub:s})})}uploadFile(r,e){return new Pn.y(s=>{const c=e.url||"",f=e.method||"POST",_=e.data||{},C=e.headers||{},b=new XMLHttpRequest,I=(new Date).getTime();let N=r.progress.data&&r.progress.data.startTime||I,q=0,oe=null;b.upload.addEventListener("progress",de=>{if(de.lengthComputable){const ge=Math.round(100*de.loaded/de.total),nt=(new Date).getTime()-I;q=Math.round(de.loaded/nt*1e3),N=r.progress.data&&r.progress.data.startTime||(new Date).getTime(),oe=Math.ceil((de.total-de.loaded)/q),r.progress={status:ms.Uploading,data:{percentage:ge,speed:q,speedHuman:`${hf(q)}/s`,startTime:N,endTime:null,eta:oe,etaHuman:this.secondsToHuman(oe)}},s.next({type:"uploading",file:r})}},!1),b.upload.addEventListener("error",de=>{s.error(de),s.complete()}),b.onreadystatechange=()=>{if(b.readyState===XMLHttpRequest.DONE){const de=Math.round(r.size/((new Date).getTime()-N)*1e3);r.progress={status:ms.Done,data:{percentage:100,speed:de,speedHuman:`${hf(de)}/s`,startTime:N,endTime:(new Date).getTime(),eta:oe,etaHuman:this.secondsToHuman(oe||0)}},r.responseStatus=b.status;try{r.response=JSON.parse(b.response)}catch{r.response=b.response}r.responseHeaders=this.parseResponseHeaders(b.getAllResponseHeaders()),s.next({type:"done",file:r}),s.complete()}},b.open(f,c,!0),b.withCredentials=!!e.withCredentials;try{const de=r.nativeFile,ge=this.queue.findIndex(xe=>xe.nativeFile===de);let nt;this.queue[ge].progress.status===ms.Cancelled&&s.complete(),Object.keys(C).forEach(xe=>b.setRequestHeader(xe,C[xe])),!1!==e.includeWebKitFormBoundary?(Object.keys(_).forEach(xe=>r.form.append(xe,_[xe])),r.form.append(e.fieldName||"file",de,de.name),nt=r.form):nt=de,this.serviceEvents.emit({type:"start",file:r}),b.send(nt)}catch{s.complete()}return()=>{b.abort()}})}secondsToHuman(r){return new Date(1e3*r).toISOString().substr(11,8)}generateId(){return Math.random().toString(36).substring(7)}setContentTypes(r){this.contentTypes=typeof r<"u"&&r instanceof Array?void 0!==r.find(e=>"*"===e)?["*"]:r:["*"]}allContentTypesAllowed(){return void 0!==this.contentTypes.find(r=>"*"===r)}isContentTypeAllowed(r){return!!this.allContentTypesAllowed()||void 0!==this.contentTypes.find(e=>e===r)}isFileSizeAllowed(r){return!this.maxFileSize||r<=this.maxFileSize}makeUploadFile(r,e){return{fileIndex:e,id:this.generateId(),name:r.name,size:r.size,type:r.type,form:new FormData,progress:{status:ms.Queue,data:{percentage:0,speed:0,speedHuman:`${hf(0)}/s`,startTime:null,endTime:null,eta:null,etaHuman:null}},lastModifiedDate:new Date(r.lastModified),sub:void 0,nativeFile:r}}parseResponseHeaders(r){if(r)return r.split("\n").map(e=>e.split(/: */,2)).filter(e=>e[0]).reduce((e,s)=>(e[s[0]]=s[1],e),{})}}let Zy=(()=>{class n{constructor(e){this.elementRef=e,this.fileListener=()=>{this.el.files&&this.upload.handleFiles(this.el.files)},this.uploadOutput=new o.vpe}ngOnInit(){this._sub=[],this.upload=new Y_(this.options&&this.options.concurrency||Number.POSITIVE_INFINITY,this.options&&this.options.allowedContentTypes||["*"],this.options&&this.options.maxUploads||Number.POSITIVE_INFINITY,this.options&&this.options.maxFileSize||Number.POSITIVE_INFINITY),this.el=this.elementRef.nativeElement,this.el.addEventListener("change",this.fileListener,!1),this._sub.push(this.upload.serviceEvents.subscribe(_=>{this.uploadOutput.emit(_)})),this.uploadInput instanceof o.vpe&&this._sub.push(this.upload.initInputEvents(this.uploadInput))}ngOnDestroy(){this.el&&(this.el.removeEventListener("change",this.fileListener,!1),this._sub.forEach(e=>e.unsubscribe()))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFileSelect",""]],inputs:{options:"options",uploadInput:"uploadInput"},outputs:{uploadOutput:"uploadOutput"}}),n})(),zy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Wy(n,r){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.qZA()),2&n){const e=r.$implicit;o.xp6(1),o.hij(" ",e.name," ")}}function Ky(n,r){1&n&&(o.TgZ(0,"div",21),o.O4$(),o.TgZ(1,"svg",22),o._UZ(2,"path",23),o.qZA()())}function Ou(n,r){if(1&n&&(o.TgZ(0,"div",21)(1,"div",24),o._UZ(2,"div",25),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.Udp("width",e.value.progress.data.percentage+"%")}}function lw(n,r){1&n&&o._UZ(0,"img",26)}function uw(n,r){if(1&n&&(o.TgZ(0,"div",16)(1,"div"),o._uU(2),o.qZA(),o.TgZ(3,"div",17),o.ynx(4,18),o.YNc(5,Ky,3,0,"div",19),o.YNc(6,Ou,3,2,"div",19),o.YNc(7,lw,1,0,"img",20),o.BQk(),o.qZA()()),2&n){const e=r.$implicit,s=o.oxw(2);o.xp6(2),o.hij(" ",e.value.name," "),o.xp6(2),o.Q6J("ngSwitch",e.value.progress.status),o.xp6(1),o.Q6J("ngSwitchCase",s.FILE_STATUS.Done),o.xp6(1),o.Q6J("ngSwitchCase",s.FILE_STATUS.Uploading)}}function id(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",8)(1,"div",9)(2,"span"),o._uU(3," Database Image ID: "),o.TgZ(4,"select",10,11),o.NdJ("change",function(c){const _=o.CHM(e).$implicit,C=o.oxw();return o.KtG(C.onImageIdSelection(c,_))}),o.YNc(6,Wy,2,1,"option",12),o.ALo(7,"async"),o.qZA()(),o.TgZ(8,"div"),o._uU(9),o.qZA()(),o.TgZ(10,"div",13),o.YNc(11,uw,8,4,"div",14),o.qZA(),o.TgZ(12,"button",15),o.NdJ("click",function(){const f=o.CHM(e).$implicit,_=o.oxw();return o.KtG(_.startGroupUpload(f))}),o._uU(13," Start Upload "),o.qZA()()}if(2&n){const e=r.$implicit,s=o.oxw();o.xp6(6),o.Q6J("ngForOf",o.lcZ(7,4,s.fileDirOptions$)),o.xp6(3),o.hij(" ",e.controls.imageId.value," "),o.xp6(2),o.Q6J("ngForOf",e.controls.files.controls),o.xp6(1),o.Q6J("disabled",e.invalid)}}function Cb(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.startUploadAll())}),o._uU(1," Upload All "),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.form.invalid)}}class Q_ extends Io{constructor(r){super({}),this.controls={files:new K_([]),imageId:new cf,originalImageId:new cf},(0,hs.get)(r,"files",[]).forEach(e=>{this.controls.files.push(new cf(e))}),this.controls.imageId.setValue((0,hs.get)(r,"imageId")),this.controls.originalImageId.setValue((0,hs.get)(r,"imageId"))}}class cw extends K_{constructor(){super(...arguments),this.controls=[]}}class Yy extends Io{constructor(){super(...arguments),this.controls={images:new cw([])}}}let Qy=(()=>{class n{constructor(e,s){this.store=e,this.state=s,this.files$=new hi.X([]),this.newFileOption={name:"Use Filename"},this.FILE_STATUS=ms,this.options={concurrency:1,allowedContentTypes:["image/jpeg","image/png","image/tiff"],maxFileSize:1e11},this.formData=new FormData,this.dragOver=!0,this.uploadInput=new o.vpe,this.humanizeBytes=hf,this.fileDirOptions$=new hi.X([this.newFileOption]),this.form=new Yy({images:new cw([])})}getFileControl(e){let s;return this.form.controls.images.controls.every(c=>c.controls.files.controls.find(f=>f.value.id!==e.id||(s=f,!1))),s}getInitialFileGroup(e){const s=this.getImageId(e);return this.form.controls.images.controls.find(f=>s==f.controls.imageId.value)}onImageIdSelection(e,s){s.controls.imageId.setValue(e.target.value==this.newFileOption.name?s.controls.originalImageId.value:e?.target?.value)}onUploadOutput(e){this.files$.pipe(ai(),ot(s=>{switch(e.type){case"allAddedToQueue":break;case"addedToQueue":if(typeof e.file<"u"){const c=this.getInitialFileGroup(e.file);if(c)c.controls.files.push(new cf(e.file));else{const f=new Q_({files:[e.file],imageId:this.getImageId(e.file)});this.form.controls.images.push(f)}}break;case"uploading":case"removed":case"done":if(typeof e.file<"u"){const c=this.getFileControl(e.file);c&&c.setValue(e.file)}break;case"dragOver":this.dragOver=!0;break;case"dragOut":case"drop":this.dragOver=!1;break;case"rejected":console.log(e.file?.name+" rejected")}})).subscribe()}getImageId(e){return e.name.split(".")[0].split("_masks")[0]}startGroupUpload(e){e.controls.files.controls.forEach(s=>{this.startUpload(e.controls.imageId.value,s.value)})}startUploadAll(){this.form.controls.images.controls.forEach(e=>{this.startGroupUpload(e)})}startUpload(e,s){this.uploadInput.emit({type:"uploadFile",url:un.urls.upload,method:"POST",file:s,data:{imageId:e,name:s.name}})}cancelUpload(e){this.uploadInput.emit({type:"cancel",id:e})}removeFile(e){this.uploadInput.emit({type:"remove",id:e})}removeAllFiles(){this.uploadInput.emit({type:"removeAll"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ae.yh),o.Y36(Cr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-upload"]],decls:9,vars:4,consts:[["id","upload_container"],["id","files_container"],["class","file_group_container",4,"ngFor","ngForOf"],["id","actions_container"],["type","button","id","upload_all_button",3,"disabled","click",4,"ngIf"],["id","browse_button",3,"click"],["id","browse_input","type","file","ngFileSelect","","multiple","","directory","","webkitdirectory","","mozdirectory","",3,"options","uploadInput","uploadOutput"],["upload",""],[1,"file_group_container"],[1,"image_id_selection_container"],[3,"change"],["imageIdSelect",""],[4,"ngFor","ngForOf"],[1,"file_list"],["class","file_item",4,"ngFor","ngForOf"],["type","button",1,"upload_group_button",3,"disabled","click"],[1,"file_item"],[1,"file_status"],[3,"ngSwitch"],["class","file_status_icon",4,"ngSwitchCase"],["class","file_status_icon","src","assets/svg/file_upload.svg",4,"ngSwitchDefault"],[1,"file_status_icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48"],["d","M21.05 33.1 35.2 18.95l-2.3-2.25-11.85 11.85-6-6-2.25 2.25ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.8 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24 4q4.15 0 7.8 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm0-3q7.1 0 12.05-4.975Q41 31.05 41 24q0-7.1-4.95-12.05Q31.1 7 24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24 41Zm0-17Z"],[1,"file_progress_bar_container"],[1,"file_progress_bar"],["src","assets/svg/file_upload.svg",1,"file_status_icon"],["type","button","id","upload_all_button",3,"disabled","click"]],template:function(e,s){if(1&e){const c=o.EpF();o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,id,14,6,"div",2),o.qZA(),o.TgZ(3,"div",3),o.YNc(4,Cb,2,1,"button",4),o.TgZ(5,"button",5),o.NdJ("click",function(){o.CHM(c);const _=o.MAs(8);return o.KtG(_.click())}),o._uU(6,"Browse"),o.qZA(),o.TgZ(7,"input",6,7),o.NdJ("uploadOutput",function(_){return s.onUploadOutput(_)}),o.qZA()()()}2&e&&(o.xp6(2),o.Q6J("ngForOf",s.form.controls.images.controls),o.xp6(2),o.Q6J("ngIf",s.form.controls.images.controls.length>0),o.xp6(3),o.Q6J("options",s.options)("uploadInput",s.uploadInput))},dependencies:[yi,Ut,Sr,no,Ss,Zy,j_,Gr,Pt],styles:["#upload_container[_ngcontent-%COMP%]{padding:24px;display:flex;justify-content:center;align-items:center;flex-direction:column;height:calc(100% - 48px)}#file_list[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:black solid 1px;border-radius:10px;max-height:200px;overflow:auto}#browse_button[_ngcontent-%COMP%]{background-color:plum;color:#000;border:black solid 2px;height:150px;width:300px;border-radius:15px;cursor:pointer}#upload_all_button[_ngcontent-%COMP%]{background-color:#55c455;color:#000;border:black solid 2px;height:30px;width:auto;border-radius:8px;cursor:pointer}.upload_group_button[_ngcontent-%COMP%]{background-color:#766ede;color:#000;border:black solid 2px;height:30px;width:auto;border-radius:8px;cursor:pointer}#browse_input[_ngcontent-%COMP%]{display:none}.file_item[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between}#files_container[_ngcontent-%COMP%]{margin-bottom:18px;border-bottom:black solid 1px;overflow:auto}#actions_container[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;flex-direction:column;align-items:center}.file_group_container[_ngcontent-%COMP%]{width:80%;padding:10px;margin:18px;display:flex;flex-direction:column;border:rgba(0,0,0,.5) solid 2px;border-radius:8px}.image_id_selection_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.file_list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;background-color:#ffffff4d;border-radius:8px;padding:8px}.file_status_icon[_ngcontent-%COMP%]{height:25px}.file_status_icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%;fill:green;stroke:green;stroke-width:2px}.image_id_input[_ngcontent-%COMP%]{width:400px}.file_progress_bar_container[_ngcontent-%COMP%]{height:100%;width:150px;border:black solid 1px;border-radius:4px}.file_progress_bar[_ngcontent-%COMP%]{height:100%;border-radius:4px;background-color:#03b452}"]}),n})(),Jy=(()=>{class n{constructor(e,s){this.store=e,this.state=s}canActivate(e){this.store.dispatch($h({active:!0}));const s=parseInt(e.params.imageId,10);return this.store.dispatch(Uc.requestImage({id:s})),this.store.dispatch(An.clearMasks()),this.store.dispatch(Uc.selectMasksForAnnotationView({ids:[]})),this.store.dispatch(Uc.setAnnotationImageZoom({zoom:.5})),this.store.dispatch(Hr.setSelectedImageId({id:s})),this.store.dispatch(Zc()),!0}canDeactivate(){return this.store.dispatch($h({active:!1})),this.store.dispatch(It({id:-1})),!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae.yh),o.LFG(Cr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ht=(()=>{class n{constructor(e,s){this.store=e,this.state=s}canActivate(){return this.store.dispatch(Hr.requestImages()),this.store.dispatch(Zc()),!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae.yh),o.LFG(Cr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const dw=[{path:"",redirectTo:"/browse",pathMatch:"full"},{path:"upload",component:Qy},{path:"browse",canActivate:[ht],component:qy},{path:"annotate/:imageId",component:Hh,canActivate:[Jy],canDeactivate:[Jy]}];let hw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Jy,ht],imports:[vu.forRoot(dw),vu]}),n})();function Xy(n){return n?.name?n.name:"Mask "+n.id}function Ma(n){return"function"==typeof n}let J_=!1;const wr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const r=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+r.stack)}else J_&&console.log("RxJS: Back to a better error behavior. Thank you. <3");J_=n},get useDeprecatedSynchronousErrorHandling(){return J_}};function _l(n){setTimeout(()=>{throw n},0)}const yn={closed:!0,next(n){},error(n){if(wr.useDeprecatedSynchronousErrorHandling)throw n;_l(n)},complete(){}},wb=Array.isArray||(n=>n&&"number"==typeof n.length),Pg=(()=>{function n(r){return Error.call(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((e,s)=>`${s+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r,this}return n.prototype=Object.create(Error.prototype),n})();class Zi{constructor(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}unsubscribe(){let r;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:s,_unsubscribe:c,_subscriptions:f}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Zi)e.remove(this);else if(null!==e)for(let _=0;_<e.length;++_)e[_].remove(this);if(Ma(c)){s&&(this._unsubscribe=void 0);try{c.call(this)}catch(_){r=_ instanceof Pg?X_(_.errors):[_]}}if(wb(f)){let _=-1,C=f.length;for(;++_<C;){const b=f[_];if(null!==(n=b)&&"object"==typeof n)try{b.unsubscribe()}catch(I){r=r||[],I instanceof Pg?r=r.concat(X_(I.errors)):r.push(I)}}}var n;if(r)throw new Pg(r)}add(r){let e=r;if(!r)return Zi.EMPTY;switch(typeof r){case"function":e=new Zi(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Zi)){const f=e;e=new Zi,e._subscriptions=[f]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}let{_parentOrParents:s}=e;if(null===s)e._parentOrParents=this;else if(s instanceof Zi){if(s===this)return e;e._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return e;s.push(this)}const c=this._subscriptions;return null===c?this._subscriptions=[e]:c.push(e),e}remove(r){const e=this._subscriptions;if(e){const s=e.indexOf(r);-1!==s&&e.splice(s,1)}}}var n;function X_(n){return n.reduce((r,e)=>r.concat(e instanceof Pg?e.errors:e),[])}Zi.EMPTY=((n=new Zi).closed=!0,n);const ff="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class qr extends Zi{constructor(r,e,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=yn;break;case 1:if(!r){this.destination=yn;break}if("object"==typeof r){r instanceof qr?(this.syncErrorThrowable=r.syncErrorThrowable,this.destination=r,r.add(this)):(this.syncErrorThrowable=!0,this.destination=new t0(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new t0(this,r,e,s)}}[ff](){return this}static create(r,e,s){const c=new qr(r,e,s);return c.syncErrorThrowable=!1,c}next(r){this.isStopped||this._next(r)}error(r){this.isStopped||(this.isStopped=!0,this._error(r))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(r){this.destination.next(r)}_error(r){this.destination.error(r),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:r}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this}}class t0 extends qr{constructor(r,e,s,c){super(),this._parentSubscriber=r;let f,_=this;Ma(e)?f=e:e&&(f=e.next,s=e.error,c=e.complete,e!==yn&&(_=Object.create(e),Ma(_.unsubscribe)&&this.add(_.unsubscribe.bind(_)),_.unsubscribe=this.unsubscribe.bind(this))),this._context=_,this._next=f,this._error=s,this._complete=c}next(r){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;wr.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}}error(r){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:s}=wr;if(this._error)s&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(e.syncErrorThrowable)s?(e.syncErrorValue=r,e.syncErrorThrown=!0):_l(r),this.unsubscribe();else{if(this.unsubscribe(),s)throw r;_l(r)}}}complete(){if(!this.isStopped){const{_parentSubscriber:r}=this;if(this._complete){const e=()=>this._complete.call(this._context);wr.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(r,e){try{r.call(this._context,e)}catch(s){if(this.unsubscribe(),wr.useDeprecatedSynchronousErrorHandling)throw s;_l(s)}}__tryOrSetError(r,e,s){if(!wr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,s)}catch(c){return wr.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=c,r.syncErrorThrown=!0,!0):(_l(c),!0)}return!1}_unsubscribe(){const{_parentSubscriber:r}=this;this._context=null,this._parentSubscriber=null,r.unsubscribe()}}const mw="function"==typeof Symbol&&Symbol.observable||"@@observable";function _w(n){return n}let ev=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const s=new n;return s.source=this,s.operator=e,s}subscribe(e,s,c){const{operator:f}=this,_=function pf(n,r,e){if(n){if(n instanceof qr)return n;if(n[ff])return n[ff]()}return n||r||e?new qr(n,r,e):new qr(yn)}(e,s,c);if(_.add(f?f.call(_,this.source):this.source||wr.useDeprecatedSynchronousErrorHandling&&!_.syncErrorThrowable?this._subscribe(_):this._trySubscribe(_)),wr.useDeprecatedSynchronousErrorHandling&&_.syncErrorThrowable&&(_.syncErrorThrowable=!1,_.syncErrorThrown))throw _.syncErrorValue;return _}_trySubscribe(e){try{return this._subscribe(e)}catch(s){wr.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=s),function gw(n){for(;n;){const{closed:r,destination:e,isStopped:s}=n;if(r||s)return!1;n=e&&e instanceof qr?e:null}return!0}(e)?e.error(s):console.warn(s)}}forEach(e,s){return new(s=tv(s))((c,f)=>{let _;_=this.subscribe(C=>{try{e(C)}catch(b){f(b),_&&_.unsubscribe()}},f,c)})}_subscribe(e){const{source:s}=this;return s&&s.subscribe(e)}[mw](){return this}pipe(...e){return 0===e.length?this:function gf(n){return 0===n.length?_w:1===n.length?n[0]:function(e){return n.reduce((s,c)=>c(s),e)}}(e)(this)}toPromise(e){return new(e=tv(e))((s,c)=>{let f;this.subscribe(_=>f=_,_=>c(_),()=>s(f))})}}return n.create=r=>new n(r),n})();function tv(n){if(n||(n=wr.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const mf=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class _f extends Zi{constructor(r,e){super(),this.subject=r,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const r=this.subject,e=r.observers;if(this.subject=null,!e||0===e.length||r.isStopped||r.closed)return;const s=e.indexOf(this.subscriber);-1!==s&&e.splice(s,1)}}class vf extends qr{constructor(r){super(r),this.destination=r}}let yf=(()=>{class n extends ev{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ff](){return new vf(this)}lift(e){const s=new n0(this,this);return s.operator=e,s}next(e){if(this.closed)throw new mf;if(!this.isStopped){const{observers:s}=this,c=s.length,f=s.slice();for(let _=0;_<c;_++)f[_].next(e)}}error(e){if(this.closed)throw new mf;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:s}=this,c=s.length,f=s.slice();for(let _=0;_<c;_++)f[_].error(e);this.observers.length=0}complete(){if(this.closed)throw new mf;this.isStopped=!0;const{observers:e}=this,s=e.length,c=e.slice();for(let f=0;f<s;f++)c[f].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new mf;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new mf;return this.hasError?(e.error(this.thrownError),Zi.EMPTY):this.isStopped?(e.complete(),Zi.EMPTY):(this.observers.push(e),new _f(this,e))}asObservable(){const e=new ev;return e.source=this,e}}return n.create=(r,e)=>new n0(r,e),n})();class n0 extends yf{constructor(r,e){super(),this.destination=r,this.source=e}next(r){const{destination:e}=this;e&&e.next&&e.next(r)}error(r){const{destination:e}=this;e&&e.error&&this.destination.error(r)}complete(){const{destination:r}=this;r&&r.complete&&this.destination.complete()}_subscribe(r){const{source:e}=this;return e?this.source.subscribe(r):Zi.EMPTY}}class yw extends Zi{constructor(r,e){super()}schedule(r,e=0){return this}}let nv=(()=>{class n{constructor(e,s=n.now){this.SchedulerAction=e,this.now=s}schedule(e,s=0,c){return new this.SchedulerAction(this,e).schedule(c,s)}}return n.now=()=>Date.now(),n})();class Aa extends nv{constructor(r,e=nv.now){super(r,()=>Aa.delegate&&Aa.delegate!==this?Aa.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(r,e=0,s){return Aa.delegate&&Aa.delegate!==this?Aa.delegate.schedule(r,e,s):super.schedule(r,e,s)}flush(r){const{actions:e}=this;if(this.active)return void e.push(r);let s;this.active=!0;do{if(s=r.execute(r.state,r.delay))break}while(r=e.shift());if(this.active=!1,s){for(;r=e.shift();)r.unsubscribe();throw s}}}const s0=new Aa(class r0 extends yw{constructor(r,e){super(r,e),this.scheduler=r,this.work=e,this.pending=!1}schedule(r,e=0){if(this.closed)return this;this.state=r;const s=this.id,c=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(c,s,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(c,this.id,e),this}requestAsyncId(r,e,s=0){return setInterval(r.flush.bind(r,this),s)}recycleAsyncId(r,e,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return e;clearInterval(e)}execute(r,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(r,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,e){let c,s=!1;try{this.work(r)}catch(f){s=!0,c=!!f&&f||new Error(f)}if(s)return this.unsubscribe(),c}_unsubscribe(){const r=this.id,e=this.scheduler,s=e.actions,c=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==c&&s.splice(c,1),null!=r&&(this.id=this.recycleAsyncId(e,r,null)),this.delay=null}}),o0={leading:!0,trailing:!1};function Cw(n,r=s0,e=o0){return s=>s.lift(new Ab(n,r,e.leading,e.trailing))}class Ab{constructor(r,e,s,c){this.duration=r,this.scheduler=e,this.leading=s,this.trailing=c}call(r,e){return e.subscribe(new a0(r,this.duration,this.scheduler,this.leading,this.trailing))}}class a0 extends qr{constructor(r,e,s,c,f){super(r),this.duration=e,this.scheduler=s,this.leading=c,this.trailing=f,this._hasTrailingValue=!1,this._trailingValue=null}_next(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Rg,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)}}function Rg(n){const{subscriber:r}=n;r.clearThrottle()}function vl(){}function l0(n,r,e){return function(c){return c.lift(new u0(n,r,e))}}class u0{constructor(r,e,s){this.nextOrObserver=r,this.error=e,this.complete=s}call(r,e){return e.subscribe(new Cf(r,this.nextOrObserver,this.error,this.complete))}}class Cf extends qr{constructor(r,e,s,c){super(r),this._tapNext=vl,this._tapError=vl,this._tapComplete=vl,this._tapError=s||vl,this._tapComplete=c||vl,Ma(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||vl,this._tapError=e.error||vl,this._tapComplete=e.complete||vl)}_next(r){try{this._tapNext.call(this._context,r)}catch(e){return void this.destination.error(e)}this.destination.next(r)}_error(r){try{this._tapError.call(this._context,r)}catch(e){return void this.destination.error(e)}this.destination.error(r)}_complete(){try{this._tapComplete.call(this._context)}catch(r){return void this.destination.error(r)}return this.destination.complete()}}function c0(n,r){return e=>e.lift(new ww(n,r))}class ww{constructor(r,e){this.compare=r,this.keySelector=e}call(r,e){return e.subscribe(new Ew(r,this.compare,this.keySelector))}}class Ew extends qr{constructor(r,e,s){super(r),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(r,e){return r===e}_next(r){let e;try{const{keySelector:c}=this;e=c?c(r):r}catch(c){return this.destination.error(c)}let s=!1;if(this.hasKey)try{const{compare:c}=this;s=c(this.key,e)}catch(c){return this.destination.error(c)}else this.hasKey=!0;s||(this.key=e,this.destination.next(r))}}class Dw{constructor(r,e){this.predicate=r,this.thisArg=e}call(r,e){return e.subscribe(new d0(r,this.predicate,this.thisArg))}}class d0 extends qr{constructor(r,e,s){super(r),this.predicate=e,this.thisArg=s,this.count=0}_next(r){let e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(r)}}var Zr=typeof window<"u"?window:{screen:{},navigator:{}},rd=(Zr.matchMedia||function(){return{matches:!1}}).bind(Zr),sd=!1,iv=function(){};Zr.addEventListener&&Zr.addEventListener("p",iv,{get passive(){return sd=!0}}),Zr.removeEventListener&&Zr.removeEventListener("p",iv,!1);var h0=sd,rv="ontouchstart"in Zr,p0=(rv||"TouchEvent"in Zr&&rd("(any-pointer: coarse)"),Zr.navigator.userAgent||"");rd("(pointer: coarse)").matches&&/iPad|Macintosh/.test(p0)&&Math.min(Zr.screen.width||0,Zr.screen.height||0);(rd("(pointer: coarse)").matches||!rd("(pointer: fine)").matches&&rv)&&/Windows.*Firefox/.test(p0),rd("(any-pointer: fine)").matches||rd("(any-hover: hover)");const ov=["tooltipTemplate"],Tw=["leftOuterSelectionBar"],_0=["rightOuterSelectionBar"],Iw=["fullBar"],Ow=["selectionBar"],Pw=["minHandle"],Rw=["maxHandle"],kw=["floorLabel"],Fw=["ceilLabel"],Lw=["minHandleLabel"],Nw=["maxHandleLabel"],v0=["combinedLabel"],y0=["ticksElement"];function Vw(n,r){if(1&n&&o._UZ(0,"ngx-slider-tooltip-wrapper",31),2&n){const e=o.oxw().$implicit,s=o.oxw();o.Q6J("template",s.tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function Bw(n,r){if(1&n&&o._UZ(0,"span",32),2&n){const e=o.oxw().$implicit;o.Q6J("innerHTML",e.legend,o.oJD)}}const C0=function(n){return{"ngx-slider-selected":n}};function Uw(n,r){if(1&n&&(o.TgZ(0,"span",27),o._UZ(1,"ngx-slider-tooltip-wrapper",28),o.YNc(2,Vw,1,4,"ngx-slider-tooltip-wrapper",29),o.YNc(3,Bw,1,1,"span",30),o.qZA()),2&n){const e=r.$implicit,s=o.oxw();o.Q6J("ngClass",o.VKq(7,C0,e.selected))("ngStyle",e.style),o.xp6(1),o.Q6J("template",s.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),o.xp6(1),o.Q6J("ngIf",null!=e.value),o.xp6(1),o.Q6J("ngIf",null!=e.legend)}}function Hw(n,r){}function jw(n,r){1&n&&o.YNc(0,Hw,0,0,"ng-template")}const av=function(n,r,e){return{tooltip:n,placement:r,content:e}};function lv(n,r){if(1&n&&(o.ynx(0),o.YNc(1,jw,1,0,null,1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",o.kEZ(2,av,e.tooltip,e.placement,e.content))}}function w0(n,r){if(1&n&&(o.ynx(0),o.TgZ(1,"div",2),o._uU(2),o.qZA(),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.uIk("title",e.tooltip)("data-tooltip-placement",e.placement),o.xp6(1),o.hij(" ",e.content," ")}}const Xn={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Xn[Xn.Low]="Low",Xn[Xn.High]="High",Xn[Xn.Floor]="Floor",Xn[Xn.Ceil]="Ceil",Xn[Xn.TickValue]="TickValue";class Fg{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.getStepLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.rotate=0,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel="ngx-slider",this.ariaLabelledBy=null,this.ariaLabelHigh="ngx-slider-max",this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const Ze={Min:0,Max:1};Ze[Ze.Min]="Min",Ze[Ze.Max]="Max";class uv{}class ye{static isNullOrUndefined(r){return null==r}static areArraysEqual(r,e){if(r.length!==e.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==e[s])return!1;return!0}static linearValueToPosition(r,e,s){return(r-e)/(s-e)}static logValueToPosition(r,e,s){return((r=Math.log(r))-(e=Math.log(e)))/((s=Math.log(s))-e)}static linearPositionToValue(r,e,s){return r*(s-e)+e}static logPositionToValue(r,e,s){return e=Math.log(e),s=Math.log(s),Math.exp(r*(s-e)+e)}static findStepIndex(r,e){const s=e.map(f=>Math.abs(r-f.value));let c=0;for(let f=0;f<e.length;f++)s[f]!==s[c]&&s[f]<s[c]&&(c=f);return c}}class Sa{static isTouchEvent(r){return void 0!==window.TouchEvent?r instanceof TouchEvent:void 0!==r.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class gn{static roundToPrecisionLimit(r,e){return+r.toPrecision(e)}static isModuloWithinPrecisionLimit(r,e,s){const c=Math.pow(10,-s);return Math.abs(r%e)<=c||Math.abs(Math.abs(r%e)-e)<=c}static clampToRange(r,e,s){return Math.min(Math.max(r,e),s)}}class cv{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class E0{constructor(r){this.renderer=r}attachPassiveEventListener(r,e,s,c){if(!0!==h0)return this.attachEventListener(r,e,s,c);const f=new cv;f.eventName=e,f.events=new yf;const _=C=>{f.events.next(C)};return r.addEventListener(e,_,{passive:!0,capture:!1}),f.teardownCallback=()=>{r.removeEventListener(e,_,{passive:!0,capture:!1})},f.eventsSubscription=f.events.pipe(ye.isNullOrUndefined(c)?l0(()=>{}):Cw(c,void 0,{leading:!0,trailing:!0})).subscribe(C=>{s(C)}),f}detachEventListener(r){ye.isNullOrUndefined(r.eventsSubscription)||(r.eventsSubscription.unsubscribe(),r.eventsSubscription=null),ye.isNullOrUndefined(r.events)||(r.events.complete(),r.events=null),ye.isNullOrUndefined(r.teardownCallback)||(r.teardownCallback(),r.teardownCallback=null)}attachEventListener(r,e,s,c){const f=new cv;return f.eventName=e,f.events=new yf,f.teardownCallback=this.renderer.listen(r,e,C=>{f.events.next(C)}),f.eventsSubscription=f.events.pipe(ye.isNullOrUndefined(c)?l0(()=>{}):Cw(c,void 0,{leading:!0,trailing:!0})).subscribe(C=>{s(C)}),f}}let Pu=(()=>{class n{constructor(e,s,c){this.elemRef=e,this.renderer=s,this.changeDetectionRef=c,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this._rotate=0,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.transform="",this.eventListeners=[],this.eventListenerHelper=new E0(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setRotate(e){this._rotate=e,this.transform="rotate("+e+"deg)"}getRotate(){return this._rotate}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,s,c){const f=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,s,c);this.eventListeners.push(f)}onPassive(e,s,c){const f=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,s,c);this.eventListeners.push(f)}off(e){let s,c;ye.isNullOrUndefined(e)?(s=[],c=this.eventListeners):(s=this.eventListeners.filter(f=>f.eventName!==e),c=this.eventListeners.filter(f=>f.eventName===e));for(const f of c)this.eventListenerHelper.detachEventListener(f);this.eventListeners=s}isRefDestroyed(){return ye.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(e,s){2&e&&o.Udp("opacity",s.opacity)("visibility",s.visibility)("left",s.left)("bottom",s.bottom)("height",s.height)("width",s.width)("transform",s.transform)}}),n})(),Lg=(()=>{class n extends Pu{constructor(e,s,c){super(e,s,c),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,s){2&e&&(o.uIk("role",s.role)("tabindex",s.tabindex)("aria-orientation",s.ariaOrientation)("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledBy)("aria-valuenow",s.ariaValueNow)("aria-valuetext",s.ariaValueText)("aria-valuemin",s.ariaValueMin)("aria-valuemax",s.ariaValueMax),o.ekj("ngx-slider-active",s.active))},features:[o.qOj]}),n})(),yl=(()=>{class n extends Pu{constructor(e,s,c){super(e,s,c),this._value=null}get value(){return this._value}setValue(e){let s=!1;!this.alwaysHide&&(ye.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(s=!0),this._value=e,this.elemRef.nativeElement.innerHTML=e,s&&this.calculateDimension()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngxSliderLabel",""]],features:[o.qOj]}),n})();class $w{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class Ng{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Vg{static compare(r,e){return!(ye.isNullOrUndefined(r)&&ye.isNullOrUndefined(e)||ye.isNullOrUndefined(r)!==ye.isNullOrUndefined(e))&&r.value===e.value&&r.highValue===e.highValue}}class dv extends Vg{static compare(r,e){return!(ye.isNullOrUndefined(r)&&ye.isNullOrUndefined(e)||ye.isNullOrUndefined(r)!==ye.isNullOrUndefined(e))&&r.value===e.value&&r.highValue===e.highValue&&r.forceChange===e.forceChange}}const hv={provide:jr,useExisting:(0,o.Gpc)(()=>Bg),multi:!0};let Bg=(()=>{class n{constructor(e,s,c,f){this.renderer=e,this.elementRef=s,this.changeDetectionRef=c,this.zone=f,this.value=null,this.valueChange=new o.vpe,this.highValue=null,this.highValueChange=new o.vpe,this.options=new Fg,this.userChangeStart=new o.vpe,this.userChange=new o.vpe,this.userChangeEnd=new o.vpe,this.initHasRun=!1,this.inputModelChangeSubject=new yf,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new yf,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Fg,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new Ng,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.sliderElementAriaLabel="ngx-slider",this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new E0(this.renderer)}set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(s=>{this.focusPointer(s)})}get range(){return!ye.isNullOrUndefined(this.value)&&!ye.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Fg,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){!ye.isNullOrUndefined(e.options)&&JSON.stringify(e.options.previousValue)!==JSON.stringify(e.options.currentValue)&&this.onChangeOptions(),(!ye.isNullOrUndefined(e.value)||!ye.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}setAriaLabel(e){this.viewOptions.ariaLabel=e,this.updateAriaLabel()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(c0(dv.compare),function bw(n,r){return function(s){return s.lift(new Dw(n,r))}}(e=>!e.forceChange&&!e.internalChange)).subscribe(e=>this.applyInputModelChange(e))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(c0(dv.compare)).subscribe(e=>this.publishOutputModelChange(e))}subscribeResizeObserver(){Sa.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Sa.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){ye.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){ye.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){ye.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){ye.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){ye.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){ye.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===Ze.Min?this.minHandleElement:e===Ze.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===Ze.Min?this.viewLowValue:this.currentTrackingPointer===Ze.Max?this.viewHighValue:null}modelValueToViewValue(e){return ye.isNullOrUndefined(e)?NaN:ye.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:ye.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return ye.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const s=this.viewOptions.stepsArray[e];return ye.isNullOrUndefined(s)?NaN:s.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const s=this.normaliseModelValues(e),c=!Vg.compare(e,s);c&&(this.value=s.value,this.highValue=s.highValue),this.viewLowValue=this.modelValueToViewValue(s.value),this.viewHighValue=this.range?this.modelValueToViewValue(s.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:s.value,highValue:s.highValue,forceChange:c,userEventInitiated:!1})}publishOutputModelChange(e){const s=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),ye.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),ye.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(s(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{s()})}normaliseModelValues(e){const s=new Vg;if(s.value=e.value,s.highValue=e.highValue,!ye.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const c=ye.findStepIndex(s.value,this.viewOptions.stepsArray);if(s.value=this.viewOptions.stepsArray[c].value,this.range){const f=ye.findStepIndex(s.highValue,this.viewOptions.stepsArray);s.highValue=this.viewOptions.stepsArray[f].value}}return s}if(this.viewOptions.enforceStep&&(s.value=this.roundStep(s.value),this.range&&(s.highValue=this.roundStep(s.highValue))),this.viewOptions.enforceRange&&(s.value=gn.clampToRange(s.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(s.highValue=gn.clampToRange(s.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)s.value=s.highValue;else{const c=e.value;s.value=e.highValue,s.highValue=c}return s}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},s=this.normaliseModelValues(e);Vg.compare(s,e)||(this.value=s.value,this.highValue=s.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const s=this.getOptionsInfluencingEventBindings(this.viewOptions),c=!ye.areArraysEqual(e,s);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(c)}applyOptions(){if(this.viewOptions=new Fg,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!ye.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!ye.isNullOrUndefined(this.viewOptions.tickStep)||!ye.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!ye.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),ye.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),ye.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,s)=>e+" - "+s),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,ye.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(ye.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),ye.isNullOrUndefined(this.viewOptions.ceil)||ye.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,ye.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==Ze.Min&&e!==Ze.Max&&(e=Ze.Min),e===Ze.Min?this.minHandleElement.focus():this.range&&e===Ze.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){ye.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())ye.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}updateRotate(){for(const e of this.getAllSliderElements())e.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",ye.isNullOrUndefined(this.viewOptions.ariaLabel)?ye.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",ye.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?ye.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Xn.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Xn.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){ye.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,ye.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=ye.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,s=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const c=ye.isNullOrUndefined(this.viewOptions.tickValueStep)?ye.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let f=!1;const _=e.map(C=>{let b=this.valueToPosition(C);this.viewOptions.vertical&&(b=this.maxHandlePosition-b);const I=s+"("+Math.round(b)+"px)",N=new $w;N.selected=this.isTickSelected(C),N.style={"-webkit-transform":I,"-moz-transform":I,"-o-transform":I,"-ms-transform":I,transform:I},N.selected&&!ye.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(N.style["background-color"]=this.getSelectionBarColor()),!N.selected&&!ye.isNullOrUndefined(this.viewOptions.getTickColor)&&(N.style["background-color"]=this.getTickColor(C)),ye.isNullOrUndefined(this.viewOptions.ticksTooltip)||(N.tooltip=this.viewOptions.ticksTooltip(C),N.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!ye.isNullOrUndefined(c)&&gn.isModuloWithinPrecisionLimit(C,c,this.viewOptions.precisionLimit)&&(N.value=this.getDisplayValue(C,Xn.TickValue),ye.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(N.valueTooltip=this.viewOptions.ticksValuesTooltip(C),N.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let q=null;if(ye.isNullOrUndefined(this.viewOptions.stepsArray))ye.isNullOrUndefined(this.viewOptions.getLegend)||(q=this.viewOptions.getLegend(C));else{const oe=this.viewOptions.stepsArray[C];ye.isNullOrUndefined(this.viewOptions.getStepLegend)?ye.isNullOrUndefined(oe)||(q=oe.legend):q=this.viewOptions.getStepLegend(oe)}return ye.isNullOrUndefined(q)||(N.legend=q,f=!0),N});if(setTimeout(()=>{this.sliderElementWithLegendClass=f}),ye.isNullOrUndefined(this.ticks)||this.ticks.length!==_.length)this.ticks=_;else for(let C=0;C<_.length;++C)Object.assign(this.ticks[C],_[C]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const e=ye.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,s=[],c=1+Math.floor(gn.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let f=0;f<c;++f)s.push(gn.roundToPrecisionLimit(this.viewOptions.floor+e*f,this.viewOptions.precisionLimit));return s}isTickSelected(e){if(!this.range)if(ye.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const s=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>s&&e>=s&&e<=this.viewLowValue)return!0;if(this.viewLowValue<s&&e<=s&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Xn.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Xn.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,s){e===Ze.Min?this.updateLowHandle(s):e===Ze.Max&&this.updateHighHandle(s),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,s){const c=e===Ze.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,f=s-c/2+this.handleHalfDimension,_=this.fullBarElement.dimension-c;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===Ze.Min||!this.viewOptions.rightToLeft&&e===Ze.Max?Math.min(f,_):Math.min(Math.max(f,0),_):f}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Xn.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(Ze.Min,e)),ye.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(Ze.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Xn.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(Ze.Max,e)),ye.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(Ze.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,s=!1;const c=this.isLabelBelowFloorLabel(this.minHandleLabelElement),f=this.isLabelAboveCeilLabel(this.minHandleLabelElement),_=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),C=this.isLabelBelowFloorLabel(this.combinedLabelElement),b=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(c?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),f?(s=!0,this.ceilLabelElement.hide()):(s=!1,this.ceilLabelElement.show()),this.range){const I=this.combinedLabelElement.isVisible()?b:_,N=this.combinedLabelElement.isVisible()?C:c;I?this.ceilLabelElement.hide():s||this.ceilLabelElement.show(),N?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const s=e.position,f=this.floorLabelElement.position;return this.viewOptions.rightToLeft?s+e.dimension>=f-2:s<=f+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const s=e.position,f=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?s<=f+this.ceilLabelElement.dimension+2:s+e.dimension>=f-2}updateSelectionBar(){let e=0,s=0;const c=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,f=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)s=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=f;else if(ye.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))c?(s=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(s=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const _=this.viewOptions.showSelectionBarFromValue,C=this.valueToPosition(_);(this.viewOptions.rightToLeft?this.viewLowValue<=_:this.viewLowValue>_)?(s=this.minHandleElement.position-C,e=C+this.handleHalfDimension):(s=C-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(s),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+s)),this.leftOuterSelectionBarElement.setPosition(e+s)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+s)),this.rightOuterSelectionBarElement.setPosition(e+s))),ye.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!ye.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const _=ye.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),C=_-e>0&&!c||_-e<=0&&c;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?C?"bottom":"top":C?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(_+s+e+(C?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=_-e+(C?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const _=this.getSelectionBarColor();this.barStyle={backgroundColor:_}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===Ze.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const s=this.getDisplayValue(this.viewLowValue,Xn.Low),c=this.getDisplayValue(this.viewHighValue,Xn.High),f=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(c,s):this.viewOptions.combineLabels(s,c);this.combinedLabelElement.setValue(f);const _=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(_),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,s){return!ye.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,s)}roundStep(e,s){const c=ye.isNullOrUndefined(s)?this.viewOptions.step:s;let f=gn.roundToPrecisionLimit((e-this.viewOptions.floor)/c,this.viewOptions.precisionLimit);return f=Math.round(f)*c,gn.roundToPrecisionLimit(this.viewOptions.floor+f,this.viewOptions.precisionLimit)}valueToPosition(e){let s=ye.linearValueToPosition;ye.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(s=ye.logValueToPosition):s=this.viewOptions.customValueToPosition;let c=s(e=gn.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return ye.isNullOrUndefined(c)&&(c=0),this.viewOptions.rightToLeft&&(c=1-c),c*this.maxHandlePosition}positionToValue(e){let s=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(s=1-s);let c=ye.linearPositionToValue;ye.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(c=ye.logPositionToValue):c=this.viewOptions.customPositionToValue;const f=c(s,this.viewOptions.floor,this.viewOptions.ceil);return ye.isNullOrUndefined(f)?0:f}getEventXY(e,s){if(e instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?e.clientY:e.clientX;let c=0;const f=e.touches;if(!ye.isNullOrUndefined(s))for(let _=0;_<f.length;_++)if(f[_].identifier===s){c=_;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?f[c].clientY:f[c].clientX}getEventPosition(e,s){const c=this.elementRef.nativeElement.getBoundingClientRect(),f=this.viewOptions.vertical||0!==this.viewOptions.rotate?c.bottom:c.left;let _=0;return _=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(e,s)+f:this.getEventXY(e,s)-f,_*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return Ze.Min;const s=this.getEventPosition(e),c=Math.abs(s-this.minHandleElement.position),f=Math.abs(s-this.maxHandleElement.position);return c<f?Ze.Min:c>f?Ze.Max:this.viewOptions.rightToLeft?s>this.minHandleElement.position?Ze.Min:Ze.Max:s<this.minHandleElement.position?Ze.Min:Ze.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",s=>this.onBarStart(null,e,s,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",s=>this.onBarStart(Ze.Min,e,s,!0,!0)),this.maxHandleElement.on("mousedown",s=>this.onBarStart(Ze.Max,e,s,!0,!0))):(this.minHandleElement.on("mousedown",s=>this.onStart(Ze.Min,s,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",s=>this.onStart(Ze.Max,s,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",s=>this.onStart(null,s,!0,!0,!0)),this.ticksElement.on("mousedown",s=>this.onStart(null,s,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",s=>this.onBarStart(null,e,s,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",s=>this.onBarStart(Ze.Min,e,s,!0,!0)),this.maxHandleElement.onPassive("touchstart",s=>this.onBarStart(Ze.Max,e,s,!0,!0))):(this.minHandleElement.onPassive("touchstart",s=>this.onStart(Ze.Min,s,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",s=>this.onStart(Ze.Max,s,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",s=>this.onStart(null,s,!0,!0,!0)),this.ticksElement.onPassive("touchstart",s=>this.onStart(null,s,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(Ze.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(Ze.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())ye.isNullOrUndefined(e)||e.off()}onBarStart(e,s,c,f,_,C,b){s?this.onDragStart(e,c,f,_):this.onStart(e,c,f,_,C,b)}onStart(e,s,c,f,_,C){s.stopPropagation(),!Sa.isTouchEvent(s)&&!h0&&s.preventDefault(),this.moving=!1,this.calculateViewDimensions(),ye.isNullOrUndefined(e)&&(e=this.getNearestHandle(s)),this.currentTrackingPointer=e;const b=this.getPointerElement(e);if(b.active=!0,this.viewOptions.keyboardSupport&&b.focus(),c){this.unsubscribeOnMove();const I=N=>this.dragging.active?this.onDragMove(N):this.onMove(N);this.onMoveEventListener=Sa.isTouchEvent(s)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",I):this.eventListenerHelper.attachEventListener(document,"mousemove",I)}if(f){this.unsubscribeOnEnd();const I=N=>this.onEnd(N);this.onEndEventListener=Sa.isTouchEvent(s)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",I):this.eventListenerHelper.attachEventListener(document,"mouseup",I)}this.userChangeStart.emit(this.getChangeContext()),Sa.isTouchEvent(s)&&!ye.isNullOrUndefined(s.changedTouches)&&ye.isNullOrUndefined(this.touchId)&&(this.touchId=s.changedTouches[0].identifier),_&&this.onMove(s,!0),C&&this.onEnd(s)}onMove(e,s){let c=null;if(Sa.isTouchEvent(e)){const I=e.changedTouches;for(let N=0;N<I.length;N++)if(I[N].identifier===this.touchId){c=I[N];break}if(ye.isNullOrUndefined(c))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const f=ye.isNullOrUndefined(c)?this.getEventPosition(e):this.getEventPosition(e,c.identifier);let _;f<=0?_=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:f>=this.maxHandlePosition?_=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(_=this.positionToValue(f),_=s&&!ye.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(_,this.viewOptions.tickStep):this.roundStep(_)),this.positionTrackingHandle(_)}onEnd(e){Sa.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const s=this.getPointerElement(e);s.on("blur",()=>this.onPointerBlur(s)),s.on("keydown",c=>this.onKeyboardEvent(c)),s.on("keyup",()=>this.onKeyUp()),s.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,ye.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const s=this.viewOptions.ceil-this.viewOptions.floor;let c=e+this.viewOptions.step,f=e-this.viewOptions.step,_=e+s/10,C=e-s/10;this.viewOptions.reversedControls&&(c=e-this.viewOptions.step,f=e+this.viewOptions.step,_=e-s/10,C=e+s/10);const b={UP:c,DOWN:f,LEFT:f,RIGHT:c,PAGEUP:_,PAGEDOWN:C,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(b.LEFT=c,b.RIGHT=f,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(b.UP=f,b.DOWN=c)),b}onKeyboardEvent(e){const s=this.getCurrentTrackingValue(),c=ye.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,b=this.getKeyActions(s)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[c]];if(ye.isNullOrUndefined(b)||ye.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const I=gn.clampToRange(b,this.viewOptions.floor,this.viewOptions.ceil),N=this.roundStep(I);if(this.viewOptions.draggableRangeOnly){const q=this.viewHighValue-this.viewLowValue;let oe,de;this.currentTrackingPointer===Ze.Min?(oe=N,de=N+q,de>this.viewOptions.ceil&&(de=this.viewOptions.ceil,oe=de-q)):this.currentTrackingPointer===Ze.Max&&(de=N,oe=N-q,oe<this.viewOptions.floor&&(oe=this.viewOptions.floor,de=oe+q)),this.positionTrackingBar(oe,de)}else this.positionTrackingHandle(N)}onDragStart(e,s,c,f){const _=this.getEventPosition(s);this.dragging=new Ng,this.dragging.active=!0,this.dragging.value=this.positionToValue(_),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-_:_-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?_-this.maxHandleElement.position:this.maxHandleElement.position-_,this.onStart(e,s,c,f)}getMinValue(e,s,c){const f=this.viewOptions.rightToLeft;let _=null;return _=s?c?f?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:f?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(f?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(_)}getMaxValue(e,s,c){const f=this.viewOptions.rightToLeft;let _=null;return _=s?c?f?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:f?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:f?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(_)}onDragMove(e){const s=this.getEventPosition(e);let c,f,_,C;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(c=this.dragging.lowLimit,f=this.dragging.highLimit,_=this.maxHandleElement,C=this.minHandleElement):(c=this.dragging.highLimit,f=this.dragging.lowLimit,_=this.minHandleElement,C=this.maxHandleElement);const I=s>=this.maxHandlePosition-c;let N,q;if(s<=f){if(0===_.position)return;N=this.getMinValue(s,!0,!1),q=this.getMaxValue(s,!0,!1)}else if(I){if(C.position===this.maxHandlePosition)return;q=this.getMaxValue(s,!0,!0),N=this.getMinValue(s,!0,!0)}else N=this.getMinValue(s,!1,!1),q=this.getMaxValue(s,!1,!1);this.positionTrackingBar(N,q)}positionTrackingBar(e,s){!ye.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(s=gn.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!ye.isNullOrUndefined(this.viewOptions.maxLimit)&&s>this.viewOptions.maxLimit&&(e=gn.roundToPrecisionLimit((s=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=s,this.applyViewChange(),this.updateHandles(Ze.Min,this.valueToPosition(e)),this.updateHandles(Ze.Max,this.valueToPosition(s))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===Ze.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===Ze.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===Ze.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(Ze.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Ze.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===Ze.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(Ze.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Ze.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===Ze.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===Ze.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!ye.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!ye.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const c=Math.abs(e-(this.currentTrackingPointer===Ze.Min?this.viewHighValue:this.viewLowValue));if(!ye.isNullOrUndefined(this.viewOptions.minRange)&&c<this.viewOptions.minRange){if(this.currentTrackingPointer===Ze.Min)return gn.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Ze.Max)return gn.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!ye.isNullOrUndefined(this.viewOptions.maxRange)&&c>this.viewOptions.maxRange){if(this.currentTrackingPointer===Ze.Min)return gn.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Ze.Max)return gn.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const s=this.currentTrackingPointer===Ze.Min?this.viewHighValue-e:e-this.viewLowValue,c=ye.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,f=this.viewOptions.maxRange;return s<c?(this.currentTrackingPointer===Ze.Min?(this.viewHighValue=gn.roundToPrecisionLimit(Math.min(e+c,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=gn.roundToPrecisionLimit(this.viewHighValue-c,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ze.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Ze.Max&&(this.viewLowValue=gn.roundToPrecisionLimit(Math.max(e-c,this.viewOptions.floor),this.viewOptions.precisionLimit),e=gn.roundToPrecisionLimit(this.viewLowValue+c,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ze.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!ye.isNullOrUndefined(f)&&s>f&&(this.currentTrackingPointer===Ze.Min?(this.viewHighValue=gn.roundToPrecisionLimit(e+f,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ze.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Ze.Max&&(this.viewLowValue=gn.roundToPrecisionLimit(e-f,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ze.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new uv;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-slider"]],contentQueries:function(e,s,c){if(1&e&&o.Suo(c,ov,5),2&e){let f;o.iGM(f=o.CRH())&&(s.tooltipTemplate=f.first)}},viewQuery:function(e,s){if(1&e&&(o.Gf(Tw,5,Pu),o.Gf(_0,5,Pu),o.Gf(Iw,5,Pu),o.Gf(Ow,5,Pu),o.Gf(Pw,5,Lg),o.Gf(Rw,5,Lg),o.Gf(kw,5,yl),o.Gf(Fw,5,yl),o.Gf(Lw,5,yl),o.Gf(Nw,5,yl),o.Gf(v0,5,yl),o.Gf(y0,5,Pu)),2&e){let c;o.iGM(c=o.CRH())&&(s.leftOuterSelectionBarElement=c.first),o.iGM(c=o.CRH())&&(s.rightOuterSelectionBarElement=c.first),o.iGM(c=o.CRH())&&(s.fullBarElement=c.first),o.iGM(c=o.CRH())&&(s.selectionBarElement=c.first),o.iGM(c=o.CRH())&&(s.minHandleElement=c.first),o.iGM(c=o.CRH())&&(s.maxHandleElement=c.first),o.iGM(c=o.CRH())&&(s.floorLabelElement=c.first),o.iGM(c=o.CRH())&&(s.ceilLabelElement=c.first),o.iGM(c=o.CRH())&&(s.minHandleLabelElement=c.first),o.iGM(c=o.CRH())&&(s.maxHandleLabelElement=c.first),o.iGM(c=o.CRH())&&(s.combinedLabelElement=c.first),o.iGM(c=o.CRH())&&(s.ticksElement=c.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(e,s){1&e&&o.NdJ("resize",function(f){return s.onResize(f)},!1,o.Jf7),2&e&&(o.uIk("disabled",s.sliderElementDisabledAttr)("aria-label",s.sliderElementAriaLabel),o.ekj("vertical",s.sliderElementVerticalClass)("animate",s.sliderElementAnimateClass)("with-legend",s.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[o._Bn([hv]),o.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,s){1&e&&(o.TgZ(0,"span",0,1),o._UZ(2,"span",2),o.qZA(),o.TgZ(3,"span",3,4),o._UZ(5,"span",2),o.qZA(),o.TgZ(6,"span",5,6),o._UZ(8,"span",2),o.qZA(),o.TgZ(9,"span",7,8),o._UZ(11,"span",9),o.qZA(),o._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),o.TgZ(26,"span",24,25),o.YNc(28,Uw,4,9,"span",26),o.qZA()),2&e&&(o.xp6(6),o.ekj("ngx-slider-transparent",s.fullBarTransparentClass),o.xp6(3),o.ekj("ngx-slider-draggable",s.selectionBarDraggableClass),o.xp6(2),o.Q6J("ngStyle",s.barStyle),o.xp6(1),o.Q6J("ngStyle",s.minPointerStyle),o.xp6(2),o.Udp("display",s.range?"inherit":"none"),o.Q6J("ngStyle",s.maxPointerStyle),o.xp6(12),o.ekj("ngx-slider-ticks-values-under",s.ticksUnderValuesClass),o.Q6J("hidden",!s.showTicks),o.xp6(2),o.Q6J("ngForOf",s.ticks))},dependencies:function(){return[Bt,yi,Ut,K,Pu,Lg,yl,b0]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-pointer:after{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,s){1&e&&(o.YNc(0,lv,2,6,"ng-container",0),o.YNc(1,w0,3,3,"ng-container",0)),2&e&&(o.Q6J("ngIf",s.template),o.xp6(1),o.Q6J("ngIf",!s.template))},dependencies:[Ut,re],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),D0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[md]}),n})();function x0(n,r){1&n&&(o.TgZ(0,"div",11),o.O4$(),o.TgZ(1,"svg",12),o._UZ(2,"path",13),o.qZA()())}function Gw(n,r){1&n&&(o.TgZ(0,"div",11),o.O4$(),o.TgZ(1,"svg",12),o._UZ(2,"path",14),o.qZA()())}function qw(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",9),o.NdJ("click",function(){const f=o.CHM(e).$implicit,_=o.oxw();return o.KtG(_.setToolType(f.type))}),o.ALo(1,"async"),o.YNc(2,x0,3,0,"div",10),o.YNc(3,Gw,3,0,"div",10),o.qZA()}if(2&n){const e=r.$implicit,s=o.oxw();o.ekj("selected",e.type===o.lcZ(1,4,s.state.annotation.tool$).type),o.xp6(2),o.Q6J("ngIf",e.type===s.toolTypesEnum.BRUSH),o.xp6(1),o.Q6J("ngIf",e.type===s.toolTypesEnum.FILL)}}function Zw(n,r){1&n&&(o.TgZ(0,"div",11),o.O4$(),o.TgZ(1,"svg",12),o._UZ(2,"path",15),o.qZA()())}function zw(n,r){1&n&&(o.TgZ(0,"div",11),o.O4$(),o.TgZ(1,"svg",12),o._UZ(2,"path",16),o.qZA()())}function M0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",9),o.NdJ("click",function(){const f=o.CHM(e).$implicit,_=o.oxw();return o.KtG(_.setToolMode(f.type))}),o.ALo(1,"async"),o.YNc(2,Zw,3,0,"div",10),o.YNc(3,zw,3,0,"div",10),o.qZA()}if(2&n){const e=r.$implicit,s=o.oxw();o.ekj("selected",e.type===o.lcZ(1,4,s.state.annotation.tool$).mode),o.xp6(2),o.Q6J("ngIf",e.type===s.toolModesEnum.ADD),o.xp6(1),o.Q6J("ngIf",e.type===s.toolModesEnum.SUBTRACT)}}function Tb(n,r){if(1&n&&(o.TgZ(0,"option",20),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.s9C("label",e.name?e.name:"Mask"+e.id),o.xp6(1),o.hij(" ",e.id,"")}}function A0(n,r){if(1&n&&(o.ynx(0),o.YNc(1,Tb,2,2,"option",19),o.BQk()),2&n){const e=r.$implicit,s=o.oxw().ngIf;o.xp6(1),o.Q6J("ngIf",e.id!==s.id)}}function Ww(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div"),o._uU(1),o.TgZ(2,"select",null,17),o.YNc(4,A0,2,1,"ng-container",18),o.ALo(5,"async"),o.qZA(),o.TgZ(6,"button",9),o.NdJ("click",function(){const f=o.CHM(e).ngIf,_=o.MAs(3),C=o.oxw(2);return o.KtG(C.mergeMasksButtonClicked(f.id,_.value))}),o._uU(7,"OK"),o.qZA()()}if(2&n){const e=r.ngIf,s=o.oxw(2);o.xp6(1),o.hij("Merge ",e.name?e.name:"Mask"+e.id," with "),o.xp6(3),o.Q6J("ngForOf",o.lcZ(5,2,s.state.annotation.masks$))}}function Kw(n,r){if(1&n&&(o.ynx(0),o.YNc(1,Ww,8,4,"div",8),o.ALo(2,"async"),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,e.state.annotation.selectedMask$))}}let Ib=(()=>{class n{constructor(e,s){this.store=e,this.state=s,this.toolTypes=[{name:St[St.BRUSH],type:St.BRUSH,icon:"assets/svg/draw.svg"},{name:St[St.FILL],type:St.FILL,icon:"assets/svg/poly_line.svg"}],this.toolModes=[{name:At[At.ADD],type:At.ADD,icon:"assets/svg/plus_circle.svg"},{name:At[At.SUBTRACT],type:At.SUBTRACT,icon:"assets/svg/minus.svg"}],this.toolTypesEnum=St,this.toolModesEnum=At,this.sliderOptions={floor:0,ceil:100}}setToolType(e){this.store.dispatch(Kp({brushType:e}))}setToolMode(e){this.store.dispatch(Ph({modeType:e}))}onOpacitySliderChange(e){this.store.dispatch(cl({opacity:e/100}))}onBrushSizeSliderChange(e){this.store.dispatch(Rh({size:e}))}mergeMasksButtonClicked(e,s){this.state.annotation.masks$.pipe(ai(),ot(c=>{"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof s&&(s=parseInt(s,10));const f=c.find(C=>C.id===e),_=c.find(C=>C.id===s);!f||!_||confirm(`Merge "${Xy(_)}" into "${Xy(f)}"?`)&&this.store.dispatch(An.mergeMasks({mask1Id:e,mask2Id:s}))})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ae.yh),o.Y36(Cr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-annotation-controls"]],decls:23,vars:9,consts:[["id","tool_section_header"],["id","tools"],[3,"selected","click",4,"ngFor","ngForOf"],["id","tool_modes"],[1,"tool_item"],[1,"tool_label"],[1,"tool_control","custom-slider"],[3,"options","value","valueChange"],[4,"ngIf"],[3,"click"],["class","icon_container",4,"ngIf"],[1,"icon_container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48"],["d","M28 42q-.6 0-1.05-.45-.45-.45-.45-1.05 0-.65.45-1.075Q27.4 39 28 39q2.95 0 4.975-1.2Q35 36.6 35 35q0-1.15-1.475-2.25t-3.975-1.7l2.35-2.35q3.15.95 4.625 2.625T38 35q0 3.35-3.05 5.175Q31.9 42 28 42ZM12 27.3q-3.2-.7-4.6-2.2Q6 23.6 6 22q0-1.75 1.3-3.15t6-3.1q3.3-1.2 4.25-1.95.95-.75.95-1.75 0-1.25-1.1-2.15Q16.3 9 14 9q-1.35 0-2.3.35-.95.35-1.7 1.1-.4.4-1.025.475Q8.35 11 7.85 10.6q-.55-.4-.575-1-.025-.6.375-1.05.85-1.1 2.55-1.825Q11.9 6 14 6q3.4 0 5.45 1.625Q21.5 9.25 21.5 12.05q0 2.05-1.425 3.475Q18.65 16.95 14.5 18.5q-3.35 1.25-4.425 1.975Q9 21.2 9 22q0 .8 1.35 1.525 1.35.725 4.05 1.375Zm24.8-7.7-6.4-6.4 2.25-2.25q.9-.9 2-.9t2 .9l2.4 2.4q.9.9.9 2t-.9 2ZM11 39h2.1l17.25-17.25-2.1-2.1L11 36.9Zm-3 3v-6.4l20.25-20.25 6.4 6.4L14.4 42Zm20.25-22.35 2.1 2.1Z"],["d","M31 44v-4.75L15.5 31.5H6v-11h8.75l6.25-7V4h11v11h-8.3L17 22.5v6.45l14 6.95V33h11v11Zm-7-32h5V7h-5ZM9 28.5h5v-5H9ZM34 41h5v-5h-5ZM26.5 9.5ZM11.5 26Zm25 12.5Z"],["d","M22.65 34h3v-8.3H34v-3h-8.35V14h-3v8.7H14v3h8.65ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 23.95q0-4.1 1.575-7.75 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24.05 4q4.1 0 7.75 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm.05-3q7.05 0 12-4.975T41 23.95q0-7.05-4.95-12T24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24.05 41ZM24 24Z"],["d","M10 25.5v-3h28v3Z"],["mergeMasksSelect",""],[4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[3,"label"]],template:function(e,s){if(1&e&&(o.TgZ(0,"div")(1,"div",0),o._uU(2," Annotation "),o.qZA(),o.TgZ(3,"div",1),o._uU(4," Tool: "),o.TgZ(5,"div"),o.YNc(6,qw,4,6,"div",2),o.qZA()(),o.TgZ(7,"div",3),o._uU(8," Mode: "),o.TgZ(9,"div"),o.YNc(10,M0,4,6,"div",2),o.qZA()(),o.TgZ(11,"div",4)(12,"div",5),o._uU(13," Mask Opacity "),o.qZA(),o.TgZ(14,"div",6)(15,"ngx-slider",7),o.NdJ("valueChange",function(f){return s.onOpacitySliderChange(f)}),o.qZA()()(),o.TgZ(16,"div",4)(17,"div",5),o._uU(18," Brush Size "),o.qZA(),o.TgZ(19,"div",6)(20,"ngx-slider",7),o.NdJ("valueChange",function(f){return s.onBrushSizeSliderChange(f)}),o.qZA()()(),o.YNc(21,Kw,3,3,"ng-container",8),o.ALo(22,"async"),o.qZA()),2&e){let c;o.xp6(6),o.Q6J("ngForOf",s.toolTypes),o.xp6(4),o.Q6J("ngForOf",s.toolModes),o.xp6(5),o.Q6J("options",s.sliderOptions)("value",100),o.xp6(5),o.Q6J("options",s.sliderOptions)("value",48),o.xp6(1),o.Q6J("ngIf",((null==(c=o.lcZ(22,7,s.state.annotation.masks$))?null:c.length)||0)>1)}},dependencies:[yi,Ut,j_,Gr,Bg,Pt],styles:["#tool_section_header[_ngcontent-%COMP%]{font-size:18px;margin-bottom:12px}.icon_container[_ngcontent-%COMP%]{height:25px;width:25px;cursor:pointer}.icon_container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%;fill:#000;stroke-width:2px}#tools[_ngcontent-%COMP%], #tool_modes[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}#tools[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], #tool_modes[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row}#tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #tool_modes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:4px;border:rgba(0,0,0,.3) solid 1px;padding:6px;display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer}#tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.selected[_ngcontent-%COMP%], #tool_modes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.selected[_ngcontent-%COMP%]{background-color:#fff3}"]}),n})();const Ob=["dialogPopup"],Yw=["hueSlider"],Qw=["alphaSlider"];function S0(n,r){if(1&n&&o._UZ(0,"div"),2&n){const e=o.oxw();o.Gre("arrow arrow-",e.cpUsePosition,""),o.Udp("top",e.arrowTop,"px")}}function T0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",28),o.NdJ("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onColorChange(c))})("dragStart",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.onDragStart("saturation-lightness"))})("dragEnd",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.onDragEnd("saturation-lightness"))}),o._UZ(1,"div",14),o.qZA()}if(2&n){const e=o.oxw();o.Udp("background-color",e.hueSliderColor),o.Q6J("rgX",1)("rgY",1),o.xp6(1),o.Udp("top",null==e.slider?null:e.slider.v,"px")("left",null==e.slider?null:e.slider.s,"px")}}function Jw(n,r){1&n&&(o.O4$(),o.TgZ(0,"svg",29),o._UZ(1,"path",30)(2,"path",31),o.qZA())}function I0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAddPresetColor(c,f.selectedColor))}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw();o.Tol(e.cpAddColorButtonClass),o.Q6J("disabled",e.cpPresetColors&&e.cpPresetColors.length>=e.cpMaxPresetColorsLength),o.xp6(1),o.hij(" ",e.cpAddColorButtonText," ")}}function Xw(n,r){1&n&&o._UZ(0,"div",33)}function eE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAlphaInput(c))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",null==e.cmykText?null:e.cmykText.a)}}function tE(n,r){1&n&&(o.TgZ(0,"div"),o._uU(1,"A"),o.qZA())}function nE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",34)(1,"div",35)(2,"input",36),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onCyanInput(c))}),o.qZA(),o.TgZ(3,"input",36),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onMagentaInput(c))}),o.qZA(),o.TgZ(4,"input",36),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onYellowInput(c))}),o.qZA(),o.TgZ(5,"input",36),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onBlackInput(c))}),o.qZA(),o.YNc(6,eE,1,2,"input",37),o.qZA(),o.TgZ(7,"div",35)(8,"div"),o._uU(9,"C"),o.qZA(),o.TgZ(10,"div"),o._uU(11,"M"),o.qZA(),o.TgZ(12,"div"),o._uU(13,"Y"),o.qZA(),o.TgZ(14,"div"),o._uU(15,"K"),o.qZA(),o.YNc(16,tE,2,0,"div",38),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("display",3!==e.format?"none":"block"),o.xp6(2),o.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.c),o.xp6(1),o.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.m),o.xp6(1),o.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.y),o.xp6(1),o.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.k),o.xp6(1),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel),o.xp6(10),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function iE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAlphaInput(c))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function rE(n,r){1&n&&(o.TgZ(0,"div"),o._uU(1,"A"),o.qZA())}function wf(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",40)(1,"div",35)(2,"input",41),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onHueInput(c))}),o.qZA(),o.TgZ(3,"input",36),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onSaturationInput(c))}),o.qZA(),o.TgZ(4,"input",36),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onLightnessInput(c))}),o.qZA(),o.YNc(5,iE,1,2,"input",37),o.qZA(),o.TgZ(6,"div",35)(7,"div"),o._uU(8,"H"),o.qZA(),o.TgZ(9,"div"),o._uU(10,"S"),o.qZA(),o.TgZ(11,"div"),o._uU(12,"L"),o.qZA(),o.YNc(13,rE,2,0,"div",38),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("display",2!==e.format?"none":"block"),o.xp6(2),o.Q6J("rg",360)("value",null==e.hslaText?null:e.hslaText.h),o.xp6(1),o.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.s),o.xp6(1),o.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.l),o.xp6(1),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel),o.xp6(8),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function O0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAlphaInput(c))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",null==e.rgbaText?null:e.rgbaText.a)}}function P0(n,r){1&n&&(o.TgZ(0,"div"),o._uU(1,"A"),o.qZA())}function R0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",42)(1,"div",35)(2,"input",43),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onRedInput(c))}),o.qZA(),o.TgZ(3,"input",43),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onGreenInput(c))}),o.qZA(),o.TgZ(4,"input",43),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onBlueInput(c))}),o.qZA(),o.YNc(5,O0,1,2,"input",37),o.qZA(),o.TgZ(6,"div",35)(7,"div"),o._uU(8,"R"),o.qZA(),o.TgZ(9,"div"),o._uU(10,"G"),o.qZA(),o.TgZ(11,"div"),o._uU(12,"B"),o.qZA(),o.YNc(13,P0,2,0,"div",38),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("display",1!==e.format?"none":"block"),o.xp6(2),o.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.r),o.xp6(1),o.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.g),o.xp6(1),o.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.b),o.xp6(1),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel),o.xp6(8),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function k0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAlphaInput(c))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",e.hexAlpha)}}function F0(n,r){1&n&&(o.TgZ(0,"div"),o._uU(1,"A"),o.qZA())}function L0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",44)(1,"div",35)(2,"input",45),o.NdJ("blur",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.onHexInput(null))})("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onHexInput(c))}),o.qZA(),o.YNc(3,k0,1,2,"input",37),o.qZA(),o.TgZ(4,"div",35)(5,"div"),o._uU(6,"Hex"),o.qZA(),o.YNc(7,F0,2,0,"div",38),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("display",0!==e.format?"none":"block"),o.ekj("hex-alpha","forced"===e.cpAlphaChannel),o.xp6(2),o.Q6J("value",e.hexText),o.xp6(1),o.Q6J("ngIf","forced"===e.cpAlphaChannel),o.xp6(4),o.Q6J("ngIf","forced"===e.cpAlphaChannel)}}function sE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAlphaInput(c))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function Pb(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",46)(1,"div",35)(2,"input",36),o.NdJ("keyup.enter",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onAcceptColor(c))})("newValue",function(c){o.CHM(e);const f=o.oxw();return o.KtG(f.onValueInput(c))}),o.qZA(),o.YNc(3,sE,1,2,"input",37),o.qZA(),o.TgZ(4,"div",35)(5,"div"),o._uU(6,"V"),o.qZA(),o.TgZ(7,"div"),o._uU(8,"A"),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(2),o.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.l),o.xp6(1),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function N0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",47)(1,"span",48),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.onFormatToggle(-1))}),o.qZA(),o.TgZ(2,"span",48),o.NdJ("click",function(){o.CHM(e);const c=o.oxw();return o.KtG(c.onFormatToggle(1))}),o.qZA()()}}function oE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"span",55),o.NdJ("click",function(c){o.CHM(e);const f=o.oxw().$implicit,_=o.oxw(3);return o.KtG(_.onRemovePresetColor(c,f))}),o.qZA()}if(2&n){const e=o.oxw(4);o.Tol(e.cpRemoveColorButtonClass)}}function aE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",53),o.NdJ("click",function(){const f=o.CHM(e).$implicit,_=o.oxw(3);return o.KtG(_.setColorFromString(f))}),o.YNc(1,oE,1,3,"span",54),o.qZA()}if(2&n){const e=r.$implicit,s=o.oxw(3);o.Udp("background-color",e),o.xp6(1),o.Q6J("ngIf",s.cpAddColorButton)}}function lE(n,r){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,aE,2,3,"div",52),o.qZA()),2&n){const e=o.oxw(2);o.Tol(e.cpPresetColorsClass),o.xp6(1),o.Q6J("ngForOf",e.cpPresetColors)}}function uE(n,r){if(1&n&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Tol(e.cpPresetEmptyMessageClass),o.xp6(1),o.Oqu(e.cpPresetEmptyMessage)}}function Ef(n,r){if(1&n&&(o.TgZ(0,"div",49),o._UZ(1,"hr"),o.TgZ(2,"div",50),o._uU(3),o.qZA(),o.YNc(4,lE,2,4,"div",51),o.YNc(5,uE,2,4,"div",51),o.qZA()),2&n){const e=o.oxw();o.xp6(3),o.Oqu(e.cpPresetLabel),o.xp6(1),o.Q6J("ngIf",null==e.cpPresetColors?null:e.cpPresetColors.length),o.xp6(1),o.Q6J("ngIf",!(null!=e.cpPresetColors&&e.cpPresetColors.length)&&e.cpAddColorButton)}}function cE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"button",58),o.NdJ("click",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onCancelColor(c))}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw(2);o.Tol(e.cpCancelButtonClass),o.xp6(1),o.Oqu(e.cpCancelButtonText)}}function fv(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"button",58),o.NdJ("click",function(c){o.CHM(e);const f=o.oxw(2);return o.KtG(f.onAcceptColor(c))}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw(2);o.Tol(e.cpOKButtonClass),o.xp6(1),o.Oqu(e.cpOKButtonText)}}function Po(n,r){if(1&n&&(o.TgZ(0,"div",56),o.YNc(1,cE,2,4,"button",57),o.YNc(2,fv,2,4,"button",57),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.cpCancelButton),o.xp6(1),o.Q6J("ngIf",e.cpOKButton)}}function dE(n,r){1&n&&o.GkF(0)}function pv(n,r){if(1&n&&(o.TgZ(0,"div",59),o.YNc(1,dE,1,0,"ng-container",60),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.cpExtraTemplate)}}var ei=(()=>(function(n){n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK"}(ei||(ei={})),ei))();class Ta{constructor(r,e,s,c){this.r=r,this.g=e,this.b=s,this.a=c}}class Ug{constructor(r,e,s,c){this.h=r,this.s=e,this.v=s,this.a=c}}class Ru{constructor(r,e,s,c){this.h=r,this.s=e,this.l=s,this.a=c}}class Cl{constructor(r,e,s,c,f=1){this.c=r,this.m=e,this.y=s,this.k=c,this.a=f}}let fE=(()=>{class n{constructor(){this.newValue=new o.vpe}inputChange(e){const s=e.target.value;if(void 0===this.rg)this.newValue.emit(s);else{const c=parseFloat(s);this.newValue.emit({v:c,rg:this.rg})}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","text",""]],hostBindings:function(e,s){1&e&&o.NdJ("input",function(f){return s.inputChange(f)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),n})(),V0=(()=>{class n{constructor(e){this.elRef=e,this.dragEnd=new o.vpe,this.dragStart=new o.vpe,this.newValue=new o.vpe,this.listenerMove=s=>this.move(s),this.listenerStop=()=>this.stop()}mouseDown(e){this.start(e)}touchStart(e){this.start(e)}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){const s=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-s.left-window.pageXOffset}getY(e){const s=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-s.top-window.pageYOffset}setCursor(e){const s=this.elRef.nativeElement.offsetWidth,c=this.elRef.nativeElement.offsetHeight,f=Math.max(0,Math.min(this.getX(e),s)),_=Math.max(0,Math.min(this.getY(e),c));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:f/s,v:1-_/c,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:_/c,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:f/s,rgX:this.rgX})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","slider",""]],hostBindings:function(e,s){1&e&&o.NdJ("mousedown",function(f){return s.mouseDown(f)})("touchstart",function(f){return s.touchStart(f)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),n})();class gv{constructor(r,e,s,c){this.h=r,this.s=e,this.v=s,this.a=c}}class jg{constructor(r,e,s,c){this.h=r,this.s=e,this.v=s,this.a=c}}let $g=(()=>{class n{constructor(){this.active=null}setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const s=e.h,c=e.s,f=e.v,_=e.a;if(0===f)return new Ru(s,0,0,_);if(0===c&&1===f)return new Ru(s,1,1,_);{const C=f*(2-c)/2;return new Ru(s,f*c/(1-Math.abs(2*C-1)),C,_)}}hsla2hsva(e){const s=Math.min(e.h,1),c=Math.min(e.s,1),f=Math.min(e.l,1),_=Math.min(e.a,1);if(0===f)return new Ug(s,0,0,_);{const C=f+c*(1-Math.abs(2*f-1))/2;return new Ug(s,2*(C-f)/C,C,_)}}hsvaToRgba(e){let s,c,f;const _=e.h,C=e.s,b=e.v,I=e.a,N=Math.floor(6*_),q=6*_-N,oe=b*(1-C),de=b*(1-q*C),ge=b*(1-(1-q)*C);switch(N%6){case 0:s=b,c=ge,f=oe;break;case 1:s=de,c=b,f=oe;break;case 2:s=oe,c=b,f=ge;break;case 3:s=oe,c=de,f=b;break;case 4:s=ge,c=oe,f=b;break;case 5:s=b,c=oe,f=de;break;default:s=0,c=0,f=0}return new Ta(s,c,f,I)}cmykToRgb(e){return new Ta((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const s=1-Math.max(e.r,e.g,e.b);return 1===s?new Cl(0,0,0,1,e.a):new Cl((1-e.r-s)/(1-s),(1-e.g-s)/(1-s),(1-e.b-s)/(1-s),s,e.a)}rgbaToHsva(e){let s,c;const f=Math.min(e.r,1),_=Math.min(e.g,1),C=Math.min(e.b,1),b=Math.min(e.a,1),I=Math.max(f,_,C),N=Math.min(f,_,C),q=I,oe=I-N;if(c=0===I?0:oe/I,I===N)s=0;else{switch(I){case f:s=(_-C)/oe+(_<C?6:0);break;case _:s=(C-f)/oe+2;break;case C:s=(f-_)/oe+4;break;default:s=0}s/=6}return new Ug(s,c,q,b)}rgbaToHex(e,s){let c="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return s&&(c+=(256|Math.round(255*e.a)).toString(16).substr(1)),c}normalizeCMYK(e){return new Cl(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new Cl(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new Ta(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",s=!1){let c=null;e=(e||"").toLowerCase();const f=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(_){return new Ta(parseInt(_[2],10)/255,parseInt(_[3],10)/255,parseInt(_[4],10)/255,isNaN(parseFloat(_[5]))?1:parseFloat(_[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(_){return new Ru(parseInt(_[2],10)/360,parseInt(_[3],10)/100,parseInt(_[4],10)/100,isNaN(parseFloat(_[5]))?1:parseFloat(_[5]))}}];f.push(s?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(_){return new Ta(parseInt(_[1],16)/255,parseInt(_[2],16)/255,parseInt(_[3],16)/255,parseInt(_[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(_){return new Ta(parseInt(_[1],16)/255,parseInt(_[2],16)/255,parseInt(_[3],16)/255,1)}}),f.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(_){return new Ta(parseInt(_[1]+_[1],16)/255,parseInt(_[2]+_[2],16)/255,parseInt(_[3]+_[3],16)/255,1)}});for(const _ in f)if(f.hasOwnProperty(_)){const C=f[_],b=C.re.exec(e),I=b&&C.parse(b);if(I)return I instanceof Ta?c=this.rgbaToHsva(I):I instanceof Ru&&(c=this.hsla2hsva(I)),c}return c}outputFormat(e,s,c){switch("auto"===s&&(s=e.a<1?"rgba":"hex"),s){case"hsla":const f=this.hsva2hsla(e),_=new Ru(Math.round(360*f.h),Math.round(100*f.s),Math.round(100*f.l),Math.round(100*f.a)/100);return e.a<1||"always"===c?"hsla("+_.h+","+_.s+"%,"+_.l+"%,"+_.a+")":"hsl("+_.h+","+_.s+"%,"+_.l+"%)";case"rgba":const C=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===c?"rgba("+C.r+","+C.g+","+C.b+","+Math.round(100*C.a)/100+")":"rgb("+C.r+","+C.g+","+C.b+")";default:const b="always"===c||"forced"===c;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),b)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const B0=typeof window<"u"&&"ontouchstart"in window;let pE=(()=>{class n{constructor(e,s,c,f,_,C){this.ngZone=e,this.elRef=s,this.cdRef=c,this.document=f,this.platformId=_,this.service=C,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[ei.HEX,ei.RGBA,ei.HSLA,ei.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=function tm(n){return n===Vu}(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(e){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(e)}handleEnter(e){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(e)}ngOnInit(){this.slider=new gv(0,0,0,0),this.sliderDimMax=new jg(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?ei.CMYK:"rgba"===this.cpOutputFormat?ei.RGBA:"hsla"===this.cpOutputFormat?ei.HSLA:ei.HEX,this.listenerMouseDown=c=>{this.onMouseDown(c)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new jg(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(e,s=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,s),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e,s,c,f,_,C,b,I,N,q,oe,de,ge,nt,xe,Ae,Te,Pe,Je,vt,Zt,ci,vs,Al,_C,XE,Kg,eb,tb,vC,Fu,yC,jv,$v,nb,Gv,qv,Yg){this.setInitialColor(c),this.setColorMode(I),this.isIE10=10===function hE(){let n="";typeof navigator<"u"&&(n=navigator.userAgent.toLowerCase());const r=n.indexOf("msie ");return r>0&&parseInt(n.substring(r+5,n.indexOf(".",r)),10)}(),this.directiveInstance=e,this.directiveElementRef=s,this.cpDisableInput=de,this.cpCmykEnabled=N,this.cpAlphaChannel=q,this.cpOutputFormat=oe,this.cpDialogDisplay=C,this.cpIgnoredElements=ge,this.cpSaveClickOutside=nt,this.cpCloseClickOutside=xe,this.useRootViewContainer=Ae,this.width=this.cpWidth=parseInt(f,10),this.height=this.cpHeight=parseInt(_,10),this.cpPosition=Te,this.cpPositionOffset=parseInt(Pe,10),this.cpOKButton=XE,this.cpOKButtonText=eb,this.cpOKButtonClass=Kg,this.cpCancelButton=tb,this.cpCancelButtonText=Fu,this.cpCancelButtonClass=vC,this.cpEyeDropper=Gv,this.fallbackColor=b||"#fff",this.setPresetConfig(vt,Zt),this.cpPresetColorsClass=ci,this.cpMaxPresetColorsLength=vs,this.cpPresetEmptyMessage=Al,this.cpPresetEmptyMessageClass=_C,this.cpAddColorButton=yC,this.cpAddColorButtonText=$v,this.cpAddColorButtonClass=jv,this.cpRemoveColorButtonClass=nb,this.cpTriggerElement=qv,this.cpExtraTemplate=Yg,Je||(this.dialogArrowOffset=0),"inline"===C&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===oe&&"always"!==q&&"forced"!==q&&(this.cpAlphaChannel="disabled")}setColorMode(e){switch(e.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(e){this.initialColor=e}setPresetConfig(e,s){this.cpPresetLabel=e,this.cpPresetColors=s}setColorFromString(e,s=!0,c=!0){let f;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(f=this.service.stringToHsva(e,!0),!f&&!this.hsva&&(f=this.service.stringToHsva(e,!1))):f=this.service.stringToHsva(e,!1),!f&&!this.hsva&&(f=this.service.stringToHsva(this.fallbackColor,!1)),f&&(this.hsva=f,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(s,c))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})}onMouseDown(e){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&e.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,e.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,e.target)&&0===this.cpIgnoredElements.filter(s=>s===e.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(e){e.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(e){this.hsva=null,e.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(s=>{this.setColorFromString(s.sRGBHex,!0)})}onFormatToggle(e){const s=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),c=((this.dialogInputFields.indexOf(this.format)+e)%s+s)%s;this.format=this.dialogInputFields[c]}onColorChange(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(e){this.hsva.v=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(e){if(null===e)this.updateColorPicker();else{e&&"#"!==e[0]&&(e="#"+e);let s=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(s=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const c=s.test(e);c&&(e.length<5&&(e="#"+e.substring(1).split("").map(f=>f+f).join("")),"forced"===this.cpAlphaChannel&&(e+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(e,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:c,value:e,color:this.outputColor})}}onRedInput(e){const s=this.service.hsvaToRgba(this.hsva),c=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;c&&(s.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(s),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:c,value:s.r,color:this.outputColor})}onBlueInput(e){const s=this.service.hsvaToRgba(this.hsva),c=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;c&&(s.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(s),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:c,value:s.b,color:this.outputColor})}onGreenInput(e){const s=this.service.hsvaToRgba(this.hsva),c=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;c&&(s.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(s),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:c,value:s.g,color:this.outputColor})}onHueInput(e){const s=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;s&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:s,value:this.hsva.h,color:this.outputColor})}onValueInput(e){const s=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;s&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:s,value:this.hsva.v,color:this.outputColor})}onAlphaInput(e){const s=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;s&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:s,value:this.hsva.a,color:this.outputColor})}onLightnessInput(e){const s=this.service.hsva2hsla(this.hsva),c=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;c&&(s.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(s),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:c,value:s.l,color:this.outputColor})}onSaturationInput(e){const s=this.service.hsva2hsla(this.hsva),c=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;c&&(s.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(s),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:c,value:s.s,color:this.outputColor})}onCyanInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.c=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.m=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.y=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.k=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(e,s){e.stopPropagation(),this.cpPresetColors.filter(c=>c===s).length||(this.cpPresetColors=this.cpPresetColors.concat(s),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(e,s){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(c=>c!==s),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{B0?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(B0?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,s=!0,c=!1){if(this.sliderDimMax){let f,_,C;2===this.cpColorMode&&(this.hsva.s=0);const b=this.outputColor;if(_=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(c?(C=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(C)):(C=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(C))),C=this.service.denormalizeRGBA(C),this.sliderH=this.hsva.h):C=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),f=this.service.denormalizeRGBA(this.service.hsvaToRgba(new Ug(this.sliderH||this.hsva.h,1,1,1))),s&&(this.hslaText=new Ru(Math.round(360*_.h),Math.round(100*_.s),Math.round(100*_.l),Math.round(100*_.a)/100),this.rgbaText=new Ta(C.r,C.g,C.b,Math.round(100*C.a)/100),this.cpCmykEnabled&&(this.cmykText=new Cl(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(C,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==ei.RGBA&&this.format!==ei.CMYK&&this.format!==ei.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?ei.RGBA:ei.HEX),this.hueSliderColor="rgb("+f.r+","+f.g+","+f.b+")",this.alphaSliderColor="rgb("+C.r+","+C.g+","+C.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==ei.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const I=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${I})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new gv((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&b!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let c,e="static",s="",f=null,_=null,C=this.directiveElementRef.nativeElement.parentNode;const b=this.dialogElement.nativeElement.offsetHeight;for(;null!==C&&"HTML"!==C.tagName;){if(c=window.getComputedStyle(C),e=c.getPropertyValue("position"),s=c.getPropertyValue("transform"),"static"!==e&&null===f&&(f=C),s&&"none"!==s&&null===_&&(_=C),"fixed"===e){f=_;break}C=C.parentNode}const I=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&(!f||f instanceof HTMLUnknownElement))this.top=I.top,this.left=I.left;else{null===f&&(f=C);const q=this.createDialogBox(f,"fixed"!==e);this.top=I.top-q.top,this.left=I.left-q.left}"fixed"===e&&(this.position="fixed");let N=this.cpPosition;"auto"===this.cpPosition&&(N=function Hg(n,r){let e="right",s="bottom";const{height:c,width:f}=n,{top:_,left:C}=r,b=_+r.height,I=C+r.width,N=_-c<0,q=b+c>(window.innerHeight||document.documentElement.clientHeight),oe=C-f<0,de=I+f>(window.innerWidth||document.documentElement.clientWidth);return q&&(s="top"),N&&(s="bottom"),oe&&(e="right"),de&&(e="left"),N&&q&&oe&&de?["left","right","top","bottom"].reduce((xe,Ae)=>n[xe]>n[Ae]?xe:Ae):oe&&de?N?"bottom":q||_>b?"top":"bottom":N&&q?oe?"right":de||C>I?"left":"right":`${s}-${e}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===N?(this.arrowTop=b-1,this.top-=b+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*I.width-this.dialogArrowOffset):"bottom"===N?(this.top+=I.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*I.width-this.dialogArrowOffset):"top-left"===N||"left-top"===N?(this.top-=b-I.height+I.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===N||"right-top"===N?(this.top-=b-I.height+I.height*this.cpPositionOffset/100,this.left+=I.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===N||"bottom-left"===N||"left-bottom"===N?(this.top+=I.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=I.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=I.width+this.dialogArrowSize-2),this.cpUsePosition=N}}isDescendant(e,s){let c=s.parentNode;for(;null!==c;){if(c===e)return!0;c=c.parentNode}return!1}createDialogBox(e,s){const{top:c,left:f}=e.getBoundingClientRect();return{top:c+(s?window.pageYOffset:0),left:f+(s?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(B),o.Y36(o.Lbi),o.Y36($g))},n.\u0275cmp=o.Xpm({type:n,selectors:[["color-picker"]],viewQuery:function(e,s){if(1&e&&(o.Gf(Ob,7),o.Gf(Yw,7),o.Gf(Qw,7)),2&e){let c;o.iGM(c=o.CRH())&&(s.dialogElement=c.first),o.iGM(c=o.CRH())&&(s.hueSlider=c.first),o.iGM(c=o.CRH())&&(s.alphaSlider=c.first)}},hostBindings:function(e,s){1&e&&o.NdJ("keyup.esc",function(f){return s.handleEsc(f)},!1,o.evT)("keyup.enter",function(f){return s.handleEnter(f)},!1,o.evT)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("click",function(f){return f.stopPropagation()}),o.YNc(2,S0,1,5,"div",2),o.YNc(3,T0,2,8,"div",3),o.TgZ(4,"div",4)(5,"div",5),o._UZ(6,"div",6),o.TgZ(7,"div",7),o.NdJ("click",function(){return s.eyeDropperSupported&&s.cpEyeDropper&&s.onEyeDropper()}),o.YNc(8,Jw,3,0,"svg",8),o.qZA(),o.YNc(9,I0,2,5,"button",9),o.qZA(),o.TgZ(10,"div",10),o.YNc(11,Xw,1,0,"div",11),o.TgZ(12,"div",12,13),o.NdJ("newValue",function(f){return s.onHueChange(f)})("dragStart",function(){return s.onDragStart("hue")})("dragEnd",function(){return s.onDragEnd("hue")}),o._UZ(14,"div",14),o.qZA(),o.TgZ(15,"div",15,16),o.NdJ("newValue",function(f){return s.onValueChange(f)})("dragStart",function(){return s.onDragStart("value")})("dragEnd",function(){return s.onDragEnd("value")}),o._UZ(17,"div",14),o.qZA(),o.TgZ(18,"div",17,18),o.NdJ("newValue",function(f){return s.onAlphaChange(f)})("dragStart",function(){return s.onDragStart("alpha")})("dragEnd",function(){return s.onDragEnd("alpha")}),o._UZ(20,"div",14),o.qZA()()(),o.YNc(21,nE,17,12,"div",19),o.YNc(22,wf,14,10,"div",20),o.YNc(23,R0,14,10,"div",21),o.YNc(24,L0,8,7,"div",22),o.YNc(25,Pb,9,3,"div",23),o.YNc(26,N0,3,0,"div",24),o.YNc(27,Ef,6,3,"div",25),o.YNc(28,Po,3,2,"div",26),o.YNc(29,pv,2,1,"div",27),o.qZA()),2&e&&(o.Udp("display",s.show?"block":"none")("visibility",s.hidden?"hidden":"visible")("top",s.top,"px")("left",s.left,"px")("position",s.position)("height",s.cpHeight,"px")("width",s.cpWidth,"px"),o.ekj("open",s.show),o.xp6(2),o.Q6J("ngIf","popup"===s.cpDialogDisplay),o.xp6(1),o.Q6J("ngIf",1===(s.cpColorMode||1)),o.xp6(4),o.Udp("background-color",s.selectedColor)("cursor",s.eyeDropperSupported&&s.cpEyeDropper?"pointer":null),o.xp6(1),o.Q6J("ngIf",s.eyeDropperSupported&&s.cpEyeDropper),o.xp6(1),o.Q6J("ngIf",s.cpAddColorButton),o.xp6(2),o.Q6J("ngIf","disabled"===s.cpAlphaChannel),o.xp6(1),o.Udp("display",1===(s.cpColorMode||1)?"block":"none"),o.Q6J("rgX",1),o.xp6(2),o.Udp("left",null==s.slider?null:s.slider.h,"px"),o.xp6(1),o.Udp("display",2===(s.cpColorMode||1)?"block":"none"),o.Q6J("rgX",1),o.xp6(2),o.Udp("right",null==s.slider?null:s.slider.v,"px"),o.xp6(1),o.Udp("display","disabled"===s.cpAlphaChannel?"none":"block")("background-color",s.alphaSliderColor),o.Q6J("rgX",1),o.xp6(2),o.Udp("left",null==s.slider?null:s.slider.a,"px"),o.xp6(1),o.Q6J("ngIf",!s.cpDisableInput&&1===(s.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!s.cpDisableInput&&1===(s.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!s.cpDisableInput&&1===(s.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!s.cpDisableInput&&1===(s.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!s.cpDisableInput&&2===(s.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!s.cpDisableInput&&1===(s.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",(null==s.cpPresetColors?null:s.cpPresetColors.length)||s.cpAddColorButton),o.xp6(1),o.Q6J("ngIf",s.cpOKButton||s.cpCancelButton),o.xp6(1),o.Q6J("ngIf",s.cpExtraTemplate))},dependencies:[yi,Ut,re,fE,V0],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),n})(),mv=(()=>{class n{constructor(e,s,c,f,_,C){this.injector=e,this.cfr=s,this.appRef=c,this.vcRef=f,this.elRef=_,this._service=C,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new o.vpe(!0),this.cpToggleChange=new o.vpe(!0),this.cpSliderChange=new o.vpe(!0),this.cpSliderDragEnd=new o.vpe(!0),this.cpSliderDragStart=new o.vpe(!0),this.colorPickerOpen=new o.vpe(!0),this.colorPickerClose=new o.vpe(!0),this.colorPickerCancel=new o.vpe(!0),this.colorPickerSelect=new o.vpe(!0),this.colorPickerChange=new o.vpe(!1),this.cpCmykColorChange=new o.vpe(!0),this.cpPresetColorsChange=new o.vpe(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(e){this.inputChange(e)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let e=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const f=this.injector.get(this.appRef.componentTypes[0],o.zs3.NULL);f!==o.zs3.NULL?e=f.vcRef||f.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const s=this.cfr.resolveComponentFactory(pE);if(this.viewAttachedToAppRef)this.cmpRef=s.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const c=o.zs3.create({providers:[],parent:e.injector});this.cmpRef=e.createComponent(s,0,c,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(e){this.cpCmykColorChange.emit(e)}stateChanged(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(e,s=!0){this.ignoreChanges=s,this.colorPickerChange.emit(e)}colorSelected(e){this.colorPickerSelect.emit(e)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const e=this.elRef.nativeElement,s=this.cpIgnoredElements.filter(c=>c===e);!this.cpDisabled&&!s.length&&(typeof document<"u"&&e===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(e){this.cpInputChange.emit(e)}sliderChanged(e){this.cpSliderChange.emit(e)}sliderDragEnd(e){this.cpSliderDragEnd.emit(e)}sliderDragStart(e){this.cpSliderDragStart.emit(e)}presetColorsChanged(e){this.cpPresetColorsChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.zs3),o.Y36(o._Vd),o.Y36(o.z2F),o.Y36(o.s_b),o.Y36(o.SBq),o.Y36($g))},n.\u0275dir=o.lG2({type:n,selectors:[["","colorPicker",""]],hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s.handleClick()})("focus",function(){return s.handleFocus()})("input",function(f){return s.handleInput(f)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[o.TTD]}),n})(),_v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$g],imports:[md]}),n})();function U0(n,r){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"input",21),o.NdJ("blur",function(c){o.CHM(e);const f=o.oxw(2).$implicit,_=o.oxw();return o.KtG(_.onMaskNameChange(c,f))}),o.qZA(),o.BQk()}if(2&n){const e=o.oxw(2).$implicit;o.xp6(1),o.s9C("value",e.name)}}function vv(n,r){if(1&n&&(o.TgZ(0,"div",22),o._uU(1),o.qZA()),2&n){const e=o.oxw(2).$implicit;o.xp6(1),o.hij(" ",e.name," ")}}function yv(n,r){if(1&n&&(o.ynx(0),o.YNc(1,U0,2,1,"ng-container",13),o.YNc(2,vv,2,1,"div",19),o.TgZ(3,"span",20),o._uU(4),o.qZA(),o.BQk()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",e.selected),o.xp6(1),o.Q6J("ngIf",!e.selected),o.xp6(2),o.Oqu(e.name)}}function gE(n,r){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"input",21),o.NdJ("blur",function(c){o.CHM(e);const f=o.oxw(2).$implicit,_=o.oxw();return o.KtG(_.onMaskNameChange(c,f))}),o.qZA(),o.BQk()}if(2&n){const e=o.oxw(2).$implicit;o.xp6(1),o.MGl("value","Mask ",e.id,"")}}function mE(n,r){if(1&n&&(o.TgZ(0,"div",22),o._uU(1),o.qZA()),2&n){const e=o.oxw(2).$implicit;o.xp6(1),o.hij(" Mask ",e.id," ")}}function _E(n,r){if(1&n&&(o.ynx(0),o.YNc(1,gE,2,1,"ng-container",13),o.YNc(2,mE,2,1,"div",19),o.TgZ(3,"span",20),o._uU(4),o.qZA(),o.BQk()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",e.selected),o.xp6(1),o.Q6J("ngIf",!e.selected),o.xp6(2),o.hij("Mask ",e.id,"")}}function vE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){o.CHM(e);const c=o.oxw().$implicit,f=o.oxw();return o.KtG(f.onShowMaskSelect(c.id))}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",23),o.qZA()()}}function H0(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2).$implicit,f=o.oxw();return o.KtG(f.onShowMaskSelect(c.id))}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",25),o.qZA()()}}function Cv(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){o.CHM(e);const c=o.oxw(2).$implicit,f=o.oxw();return o.KtG(f.onShowMaskSelect(c.id))}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",26),o.qZA()()}}function j0(n,r){if(1&n&&(o.YNc(0,H0,3,0,"div",24),o.YNc(1,Cv,3,0,"div",24)),2&n){const e=o.oxw().$implicit;o.Q6J("ngIf",e.checked),o.xp6(1),o.Q6J("ngIf",!e.checked)}}function $0(n,r){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"div",10)(1,"div",11)(2,"div")(3,"div",12),o.YNc(4,yv,5,3,"ng-container",13),o.YNc(5,_E,5,3,"ng-container",13),o.qZA()(),o.TgZ(6,"div"),o.YNc(7,vE,3,0,"div",14),o.YNc(8,j0,2,2,"ng-template",null,15,o.W1O),o.TgZ(10,"input",16),o.NdJ("colorPickerSelect",function(c){const _=o.CHM(e).$implicit,C=o.oxw();return o.KtG(C.maskColorSet(_,c))}),o.qZA(),o.TgZ(11,"div",6),o.NdJ("click",function(){const f=o.CHM(e).$implicit,_=o.oxw();return o.KtG(_.maskSelected(f.id))}),o.O4$(),o.TgZ(12,"svg",7),o._UZ(13,"path",17),o.qZA()(),o.kcU(),o.TgZ(14,"div",6),o.NdJ("click",function(){const f=o.CHM(e).$implicit,_=o.oxw();return o.KtG(_.removeMaskButtonClicked(f))}),o.O4$(),o.TgZ(15,"svg",7),o._UZ(16,"path",18),o.qZA()()()()()}if(2&n){const e=r.$implicit,s=o.MAs(9);o.ekj("selected",e.selected),o.xp6(4),o.Q6J("ngIf",e.name),o.xp6(1),o.Q6J("ngIf",!e.name),o.xp6(2),o.Q6J("ngIf",e.selected)("ngIfElse",s),o.xp6(3),o.Udp("background-color",e.color),o.Q6J("colorPicker",e.color||"")("cpOKButton",!0)("cpCancelButton",!0)}}const G0=function(){return{floor:.5,ceil:5,step:.1}};let q0=(()=>{class n{constructor(e,s){this.store=e,this.state=s,this.add_mask_icon=jn("assets/svg/plus_circle.svg"),this.trash_icon=jn("assets/svg/trash.svg"),this.edit_icon=jn("assets/svg/edit.svg"),this.visibilityIcons={visible:jn("assets/svg/visibility_on.svg"),visibility_disabled:jn("assets/svg/visibility_disabled.svg"),visibility_off:jn("assets/svg/visibility_off.svg")},this._masks$=new hi.X([]),this.masks$=this._masks$.asObservable(),this.maskIds$=this.masks$.pipe((0,Be.U)(c=>c.map(f=>f.id))),this.sliderOptions={floor:0,ceil:100},this.maskViewData$=Ui([this.state.annotation.showMaskIds$,this.state.annotation.masks$,this.state.annotation.selectedMaskId$]).pipe((0,Be.U)(([c,f,_])=>f.map(C=>({...C,checked:c.includes(C.id),selected:C.id===_}))),bi(1))}set masks(e){this._masks$.next(e)}maskIdIsShown(e){return this.state.annotation.showMaskIds$.pipe(ai(),(0,Be.U)(s=>s.includes(e)))}maskSelected(e){this.store.dispatch(It({id:e}))}onMaskNameChange(e,s){this.store.dispatch(An.updateMask({mask:{id:s.id,name:e.target.value},id:s.id}))}maskColorSet(e,s){this.masks$.pipe(ai(),ot(c=>{const f=c.find(_=>_.id==e.id);this.store.dispatch(An.updateMask({mask:{...f,color:s},id:e.id}))})).subscribe()}addMaskButtonClicked(){this.store.dispatch(An.createMask())}removeMaskButtonClicked(e){this.store.dispatch(e.id<0?An.removeMask({maskId:e.id}):An.requestDeleteMask({maskId:e.id}))}onShowMaskSelect(e){this.maskViewData$.pipe(ai(),ot(s=>{const c=s.filter(_=>_.checked).map(_=>_.id),f=c.indexOf(e);f>-1?c.splice(f,1):c.push(e),this.store.dispatch(wu({ids:c}))})).subscribe()}onZoomSliderChange(e){this.store.dispatch(Oh({zoom:e}))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ae.yh),o.Y36(Cr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-annotation-view-options"]],inputs:{masks:"masks"},decls:17,vars:6,consts:[["id","tool_section_header"],[1,"tool_item"],[1,"tool_label"],[1,"tool_control","custom-slider"],[3,"options","value","valueChange"],["maskVisibilityCheckboxes",""],[1,"icon_container",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48"],["d","M22.65 34h3v-8.3H34v-3h-8.35V14h-3v8.7H14v3h8.65ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 23.95q0-4.1 1.575-7.75 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24.05 4q4.1 0 7.75 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm.05-3q7.05 0 12-4.975T41 23.95q0-7.05-4.95-12T24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24.05 41ZM24 24Z"],["class","mask_picker_container",3,"selected",4,"ngFor","ngForOf"],[1,"mask_picker_container"],[1,"mask_info"],[1,"mask_info_name"],[4,"ngIf"],["class","icon_container",3,"click",4,"ngIf","ngIfElse"],["showVisibility",""],[1,"mask_color_patch",3,"colorPicker","cpOKButton","cpCancelButton","colorPickerSelect"],["d","M9 39h2.2l22.15-22.15-2.2-2.2L9 36.8Zm30.7-24.3-6.4-6.4 2.1-2.1q.85-.85 2.1-.85t2.1.85l2.2 2.2q.85.85.85 2.1t-.85 2.1Zm-2.1 2.1L12.4 42H6v-6.4l25.2-25.2Zm-5.35-1.05-1.1-1.1 2.2 2.2Z"],["d","M13.05 42q-1.25 0-2.125-.875T10.05 39V10.5H8v-3h9.4V6h13.2v1.5H40v3h-2.05V39q0 1.2-.9 2.1-.9.9-2.1.9Zm21.9-31.5h-21.9V39h21.9Zm-16.6 24.2h3V14.75h-3Zm8.3 0h3V14.75h-3Zm-13.6-24.2V39Z"],["class","mask_name_text",4,"ngIf"],[1,"tooltiptext"],[3,"value","blur"],[1,"mask_name_text"],["d","M24 44q-4.25 0-7.9-1.525-3.65-1.525-6.35-4.225-2.7-2.7-4.225-6.35Q4 28.25 4 24q0-4.2 1.525-7.85Q7.05 12.5 9.75 9.8q2.7-2.7 6.35-4.25Q19.75 4 24 4q4.2 0 7.85 1.55Q35.5 7.1 38.2 9.8q2.7 2.7 4.25 6.35Q44 19.8 44 24q0 .4-.025.8t-.075.8q-.65-.4-1.425-.85Q41.7 24.3 41 24q0-7.25-4.875-12.125T24 7q-3.3 0-6.15 1.075Q15 9.15 12.9 11l13.65 13.65q-.65.3-1.25.65-.6.35-1.2.75L10.95 12.9q-1.85 2.15-2.9 5Q7 20.75 7 24q0 6.25 3.725 10.825Q14.45 39.4 20.3 40.6q.75.85 1.75 1.8 1 .95 1.95 1.6Zm10-3q3.2 0 6.05-1.625Q42.9 37.75 44.7 35q-1.8-2.75-4.65-4.375Q37.2 29 34 29q-3.2 0-6.05 1.625Q25.1 32.25 23.3 35q1.8 2.75 4.65 4.375Q30.8 41 34 41Zm0 3q-4.8 0-8.575-2.525Q21.65 38.95 20 35q1.65-3.95 5.425-6.475Q29.2 26 34 26q4.8 0 8.575 2.525Q46.35 31.05 48 35q-1.65 3.95-5.425 6.475Q38.8 44 34 44Zm0-6q-1.25 0-2.125-.875T31 35q0-1.25.875-2.125T34 32q1.25 0 2.125.875T37 35q0 1.25-.875 2.125T34 38Z"],["class","icon_container",3,"click",4,"ngIf"],["d","M24 31.5q3.55 0 6.025-2.475Q32.5 26.55 32.5 23q0-3.55-2.475-6.025Q27.55 14.5 24 14.5q-3.55 0-6.025 2.475Q15.5 19.45 15.5 23q0 3.55 2.475 6.025Q20.45 31.5 24 31.5Zm0-2.9q-2.35 0-3.975-1.625T18.4 23q0-2.35 1.625-3.975T24 17.4q2.35 0 3.975 1.625T29.6 23q0 2.35-1.625 3.975T24 28.6Zm0 9.4q-7.3 0-13.2-4.15Q4.9 29.7 2 23q2.9-6.7 8.8-10.85Q16.7 8 24 8q7.3 0 13.2 4.15Q43.1 16.3 46 23q-2.9 6.7-8.8 10.85Q31.3 38 24 38Zm0-15Zm0 12q6.05 0 11.125-3.275T42.85 23q-2.65-5.45-7.725-8.725Q30.05 11 24 11t-11.125 3.275Q7.8 17.55 5.1 23q2.7 5.45 7.775 8.725Q17.95 35 24 35Z"],["d","m31.45 27.05-2.2-2.2q1.3-3.55-1.35-5.9-2.65-2.35-5.75-1.2l-2.2-2.2q.85-.55 1.9-.8 1.05-.25 2.15-.25 3.55 0 6.025 2.475Q32.5 19.45 32.5 23q0 1.1-.275 2.175-.275 1.075-.775 1.875Zm6.45 6.45-2-2q2.45-1.8 4.275-4.025Q42 25.25 42.85 23q-2.5-5.55-7.5-8.775Q30.35 11 24.5 11q-2.1 0-4.3.4-2.2.4-3.45.95L14.45 10q1.75-.8 4.475-1.4Q21.65 8 24.25 8q7.15 0 13.075 4.075Q43.25 16.15 46 23q-1.3 3.2-3.35 5.85-2.05 2.65-4.75 4.65Zm2.9 11.3-8.4-8.25q-1.75.7-3.95 1.075T24 38q-7.3 0-13.25-4.075T2 23q1-2.6 2.775-5.075T9.1 13.2L2.8 6.9l2.1-2.15L42.75 42.6ZM11.15 15.3q-1.85 1.35-3.575 3.55Q5.85 21.05 5.1 23q2.55 5.55 7.675 8.775Q17.9 35 24.4 35q1.65 0 3.25-.2t2.4-.6l-3.2-3.2q-.55.25-1.35.375T24 31.5q-3.5 0-6-2.45T15.5 23q0-.75.125-1.5T16 20.15Zm15.25 7.1Zm-5.8 2.9Z"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o._uU(1," View Options\n"),o.qZA(),o.TgZ(2,"div",1)(3,"div",2),o._uU(4," Zoom "),o.qZA(),o.TgZ(5,"div",3)(6,"ngx-slider",4),o.NdJ("valueChange",function(f){return s.onZoomSliderChange(f)}),o.qZA()()(),o.TgZ(7,"div",1)(8,"fieldset",null,5)(10,"legend"),o._uU(11,"Masks "),o.TgZ(12,"div",6),o.NdJ("click",function(){return s.addMaskButtonClicked()}),o.O4$(),o.TgZ(13,"svg",7),o._UZ(14,"path",8),o.qZA()()(),o.YNc(15,$0,17,11,"div",9),o.ALo(16,"async"),o.qZA()()),2&e&&(o.xp6(6),o.Q6J("options",o.DdM(5,G0))("value",.5),o.xp6(9),o.Q6J("ngForOf",o.lcZ(16,3,s.maskViewData$)))},dependencies:[yi,Ut,Bg,mv,Pt],styles:[".tool_item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.tool_item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#add_mask_icon[_ngcontent-%COMP%]{height:24px;cursor:pointer}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{display:flex;align-items:center;width:60px;justify-content:space-between}#tool_section_header[_ngcontent-%COMP%]{font-size:18px;margin-bottom:12px}.mask_color_patch[_ngcontent-%COMP%]{background-color:#fff;border:solid black 1px;height:16px;width:16px;border-radius:6px;cursor:pointer}.mask_picker_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;border-radius:4px;margin-bottom:4px}.mask_picker_container.selected[_ngcontent-%COMP%]{background-color:#fff6}.mask_picker_container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.mask_picker_container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:4px}.mask_picker_container[_ngcontent-%COMP%]:hover:not(.selected){background-color:#fff3}.mask_picker_container[_ngcontent-%COMP%]   .mask_info[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:solid 1px black;padding:0 2px;border-radius:4px;width:100%}.mask_picker_container[_ngcontent-%COMP%]   .mask_info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.mask_picker_container[_ngcontent-%COMP%]   .mask_info_name[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;position:relative}.mask_picker_container[_ngcontent-%COMP%]   .mask_info_name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:inherit;font-size:13px;text-overflow:ellipsis;overflow:hidden;width:160px;border:none;background-color:transparent;padding:0}.mask_picker_container[_ngcontent-%COMP%]   .mask_info_name[_ngcontent-%COMP%]   .mask_name_text[_ngcontent-%COMP%]{display:block;cursor:default;font-size:13px;text-overflow:ellipsis;overflow:hidden;width:160px;white-space:nowrap}.mask_picker_container[_ngcontent-%COMP%]   .mask_info_name[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{width:auto;background-color:#000c;color:#fff;text-align:center;padding:2px 4px;border-radius:4px;z-index:1;opacity:0;transition:opacity .5s linear .5s;visibility:hidden;position:absolute;top:-50px;left:-20px;max-width:200px}.mask_picker_container[_ngcontent-%COMP%]   .mask_info_name[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{opacity:1;visibility:visible}.icon_container[_ngcontent-%COMP%]{height:25px;width:25px;cursor:pointer}.icon_container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100%;fill:#000;stroke-width:2px}.visibility_icon[_ngcontent-%COMP%], .trash_icon[_ngcontent-%COMP%], .edit_icon[_ngcontent-%COMP%]{height:24px;cursor:pointer}"]}),n})();function yE(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",7),o.NdJ("click",function(){const f=o.CHM(e).$implicit,_=o.oxw();return o.KtG(_.mode$.next(f))}),o.TgZ(1,"div"),o._uU(2),o.qZA()()}if(2&n){const e=r.$implicit;o.Q6J("routerLink",e.route),o.xp6(2),o.Oqu(null==e?null:e.name)}}function Z0(n,r){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-annotation-view-options",8),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("masks",o.lcZ(2,1,e.state.annotation.masks$))}}function z0(n,r){1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-annotation-controls"),o.qZA())}let CE=(()=>{class n{constructor(e,s,c){this.store=e,this.router=s,this.state=c,this.title="hsi_annotate",this.modes=[{name:"Browse",route:"browse"}],this.annotationMode$=this.store.select(f=>f.app.annotationIsActive),this.mode$=new hi.X(this.modes[0])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ae.yh),o.Y36(Un),o.Y36(Cr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:12,vars:7,consts:[["id","app_container"],["id","sidenav"],["id","sidenav_title"],["id","app_modes"],["class","app_mode",3,"routerLink","click",4,"ngFor","ngForOf"],[4,"ngIf"],["id","view_container"],[1,"app_mode",3,"routerLink","click"],[3,"masks"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._uU(3,"HSI Annotate"),o.qZA(),o.TgZ(4,"div",3),o.YNc(5,yE,3,2,"div",4),o.qZA(),o.YNc(6,Z0,3,3,"div",5),o.ALo(7,"async"),o.YNc(8,z0,2,0,"div",5),o.ALo(9,"async"),o.qZA(),o.TgZ(10,"div",6),o._UZ(11,"router-outlet"),o.qZA()()),2&e&&(o.xp6(5),o.Q6J("ngForOf",s.modes),o.xp6(1),o.Q6J("ngIf",o.lcZ(7,3,s.annotationMode$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(9,5,s.annotationMode$)))},dependencies:[yi,Ut,Xd,wo,Ib,q0,Pt],styles:["#app_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%;width:100%}#sidenav_title[_ngcontent-%COMP%]{font-size:24px}#sidenav[_ngcontent-%COMP%]{width:230px;background-color:#deb887;padding:12px;overflow-y:auto}#sidenav[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:12px 0;padding:12px 8px;background-color:#f1c892;border-radius:4px}#sidenav[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{padding:0 8px;background-color:#deb887}#sidenav[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){background-color:#deb887}#db_selector[_ngcontent-%COMP%]{width:90%;height:45px}#db_selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:30px;width:100px}#view_container[_ngcontent-%COMP%]{width:calc(100% - 230px);background-color:gray;overflow:auto}.app_mode[_ngcontent-%COMP%]{cursor:pointer;height:30px;display:flex;justify-content:center;align-items:center;width:90%;border-radius:10px;border-bottom:black solid 1px}.app_mode[_ngcontent-%COMP%]:hover{background-color:#0000001a}  .custom-slider .ngx-slider .ngx-slider-bar{background:#ffe4d1;height:2px}  .custom-slider .ngx-slider .ngx-slider-selection{background:orange}  .custom-slider .ngx-slider .ngx-slider-pointer{width:8px;height:16px;top:auto;bottom:0;background-color:#333;border-top-left-radius:3px;border-top-right-radius:3px}  .custom-slider .ngx-slider .ngx-slider-pointer:after{display:none}  .custom-slider .ngx-slider .ngx-slider-bubble{bottom:14px}  .custom-slider .ngx-slider .ngx-slider-limit{font-weight:700;color:orange}  .custom-slider .ngx-slider .ngx-slider-tick{width:1px;height:10px;margin-left:4px;border-radius:0;background:#ffe4d1;top:-1px}  .custom-slider .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:orange}"]}),n})();var W0=M(825);class wv{}class zi{}class Er{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const c=e.slice(0,s),f=c.toLowerCase(),_=e.slice(s+1).trim();this.maybeSetNormalizedName(c,f),this.headers.has(f)?this.headers.get(f).push(_):this.headers.set(f,[_])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(e=>{let s=r[e];const c=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(c,s),this.maybeSetNormalizedName(e,c))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof Er?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){const e=new Er;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Er?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){const e=r.name.toLowerCase();switch(r.op){case"a":case"s":let s=r.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(r.name,e);const c=("a"===r.op?this.headers.get(e):void 0)||[];c.push(...s),this.headers.set(e,c);break;case"d":const f=r.value;if(f){let _=this.headers.get(e);if(!_)return;_=_.filter(C=>-1===f.indexOf(C)),0===_.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,_)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}}class wE{encodeKey(r){return Ev(r)}encodeValue(r){return Ev(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const Lb=/%(\d[a-f0-9])/gi,K0={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ev(n){return encodeURIComponent(n).replace(Lb,(r,e)=>K0[e]??r)}function wl(n){return`${n}`}class El{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new wE,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Fb(n,r){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(c=>{const f=c.indexOf("="),[_,C]=-1==f?[r.decodeKey(c),""]:[r.decodeKey(c.slice(0,f)),r.decodeValue(c.slice(f+1))],b=e.get(_)||[];b.push(C),e.set(_,b)}),e}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{const s=r.fromObject[e],c=Array.isArray(s)?s.map(wl):[wl(s)];this.map.set(e,c)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){const e=[];return Object.keys(r).forEach(s=>{const c=r[s];Array.isArray(c)?c.forEach(f=>{e.push({param:s,value:f,op:"a"})}):e.push({param:s,value:c,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const e=this.encoder.encodeKey(r);return this.map.get(r).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const e=new El({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const e=("a"===r.op?this.map.get(r.param):void 0)||[];e.push(wl(r.value)),this.map.set(r.param,e);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let s=this.map.get(r.param)||[];const c=s.indexOf(wl(r.value));-1!==c&&s.splice(c,1),s.length>0?this.map.set(r.param,s):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class EE{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function J0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function X0(n){return typeof Blob<"u"&&n instanceof Blob}function eC(n){return typeof FormData<"u"&&n instanceof FormData}class od{constructor(r,e,s,c){let f;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function Q0(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==s?s:null,f=c):f=s,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new Er),this.context||(this.context=new EE),this.params){const _=this.params.toString();if(0===_.length)this.urlWithParams=e;else{const C=e.indexOf("?");this.urlWithParams=e+(-1===C?"?":C<e.length-1?"&":"")+_}}else this.params=new El,this.urlWithParams=e}serializeBody(){return null===this.body?null:J0(this.body)||X0(this.body)||eC(this.body)||function bv(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof El?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eC(this.body)?null:X0(this.body)?this.body.type||null:J0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof El?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){const e=r.method||this.method,s=r.url||this.url,c=r.responseType||this.responseType,f=void 0!==r.body?r.body:this.body,_=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,C=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let b=r.headers||this.headers,I=r.params||this.params;const N=r.context??this.context;return void 0!==r.setHeaders&&(b=Object.keys(r.setHeaders).reduce((q,oe)=>q.set(oe,r.setHeaders[oe]),b)),r.setParams&&(I=Object.keys(r.setParams).reduce((q,oe)=>q.set(oe,r.setParams[oe]),I)),new od(e,s,f,{params:I,headers:b,context:N,reportProgress:C,responseType:c,withCredentials:_})}}var ti=(()=>((ti=ti||{})[ti.Sent=0]="Sent",ti[ti.UploadProgress=1]="UploadProgress",ti[ti.ResponseHeader=2]="ResponseHeader",ti[ti.DownloadProgress=3]="DownloadProgress",ti[ti.Response=4]="Response",ti[ti.User=5]="User",ti))();class ad{constructor(r,e=200,s="OK"){this.headers=r.headers||new Er,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||s,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class bf extends ad{constructor(r={}){super(r),this.type=ti.ResponseHeader}clone(r={}){return new bf({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Dv extends ad{constructor(r={}){super(r),this.type=ti.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new Dv({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class xv extends ad{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function Mv(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Av=(()=>{class n{constructor(e){this.handler=e}request(e,s,c={}){let f;if(e instanceof od)f=e;else{let b,I;b=c.headers instanceof Er?c.headers:new Er(c.headers),c.params&&(I=c.params instanceof El?c.params:new El({fromObject:c.params})),f=new od(e,s,void 0!==c.body?c.body:null,{headers:b,context:c.context,params:I,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const _=(0,je.of)(f).pipe((0,pr.b)(b=>this.handler.handle(b)));if(e instanceof od||"events"===c.observe)return _;const C=_.pipe((0,Rn.h)(b=>b instanceof Dv));switch(c.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return C.pipe((0,Be.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return C.pipe((0,Be.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return C.pipe((0,Be.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return C.pipe((0,Be.U)(b=>b.body))}case"response":return C;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new El).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,c={}){return this.request("PATCH",e,Mv(c,s))}post(e,s,c={}){return this.request("POST",e,Mv(c,s))}put(e,s,c={}){return this.request("PUT",e,Mv(c,s))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ku{constructor(r,e){this.next=r,this.interceptor=e}handle(r){return this.interceptor.intercept(r,this.next)}}const tC=new o.OlP("HTTP_INTERCEPTORS");let nC=(()=>{class n{intercept(e,s){return s.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const xE=/^\)\]\}',?\n/;let Sv=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pn.y(s=>{const c=this.xhrFactory.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((de,ge)=>c.setRequestHeader(de,ge.join(","))),e.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const de=e.detectContentTypeHeader();null!==de&&c.setRequestHeader("Content-Type",de)}if(e.responseType){const de=e.responseType.toLowerCase();c.responseType="json"!==de?de:"text"}const f=e.serializeBody();let _=null;const C=()=>{if(null!==_)return _;const de=c.statusText||"OK",ge=new Er(c.getAllResponseHeaders()),nt=function rC(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(c)||e.url;return _=new bf({headers:ge,status:c.status,statusText:de,url:nt}),_},b=()=>{let{headers:de,status:ge,statusText:nt,url:xe}=C(),Ae=null;204!==ge&&(Ae=typeof c.response>"u"?c.responseText:c.response),0===ge&&(ge=Ae?200:0);let Te=ge>=200&&ge<300;if("json"===e.responseType&&"string"==typeof Ae){const Pe=Ae;Ae=Ae.replace(xE,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(Je){Ae=Pe,Te&&(Te=!1,Ae={error:Je,text:Ae})}}Te?(s.next(new Dv({body:Ae,headers:de,status:ge,statusText:nt,url:xe||void 0})),s.complete()):s.error(new xv({error:Ae,headers:de,status:ge,statusText:nt,url:xe||void 0}))},I=de=>{const{url:ge}=C(),nt=new xv({error:de,status:c.status||0,statusText:c.statusText||"Unknown Error",url:ge||void 0});s.error(nt)};let N=!1;const q=de=>{N||(s.next(C()),N=!0);let ge={type:ti.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(ge.total=de.total),"text"===e.responseType&&!!c.responseText&&(ge.partialText=c.responseText),s.next(ge)},oe=de=>{let ge={type:ti.UploadProgress,loaded:de.loaded};de.lengthComputable&&(ge.total=de.total),s.next(ge)};return c.addEventListener("load",b),c.addEventListener("error",I),c.addEventListener("timeout",I),c.addEventListener("abort",I),e.reportProgress&&(c.addEventListener("progress",q),null!==f&&c.upload&&c.upload.addEventListener("progress",oe)),c.send(f),s.next({type:ti.Sent}),()=>{c.removeEventListener("error",I),c.removeEventListener("abort",I),c.removeEventListener("load",b),c.removeEventListener("timeout",I),e.reportProgress&&(c.removeEventListener("progress",q),null!==f&&c.upload&&c.upload.removeEventListener("progress",oe)),c.readyState!==c.DONE&&c.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Pl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Tv=new o.OlP("XSRF_COOKIE_NAME"),Iv=new o.OlP("XSRF_HEADER_NAME");class Ov{}let ME=(()=>{class n{constructor(e,s,c){this.doc=e,this.platform=s,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oa(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(B),o.LFG(o.Lbi),o.LFG(Tv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Gg=(()=>{class n{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const c=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||c.startsWith("http://")||c.startsWith("https://"))return s.handle(e);const f=this.tokenService.getToken();return null!==f&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,f)})),s.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ov),o.LFG(Iv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),sC=(()=>{class n{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(tC,[]);this.chain=s.reduceRight((c,f)=>new ku(c,f),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zi),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),TE=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Gg,useClass:nC}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Tv,useValue:e.cookieName}:[],e.headerName?{provide:Iv,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Gg,{provide:tC,useExisting:Gg,multi:!0},{provide:Ov,useClass:ME},{provide:Tv,useValue:"XSRF-TOKEN"},{provide:Iv,useValue:"X-XSRF-TOKEN"}]}),n})(),IE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Av,{provide:wv,useClass:sC},Sv,{provide:zi,useExisting:Sv}],imports:[TE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var Hb=M(5032);class bl{constructor(r,e,s){this.kind=r,this.value=e,this.error=s,this.hasValue="N"===r}observe(r){return PE(this,r)}do(r,e,s){const{kind:c,value:f,error:_}=this;return"N"===c?r?.(f):"E"===c?e?.(_):s?.()}accept(r,e,s){var c;return(0,ki.m)(null===(c=r)||void 0===c?void 0:c.next)?this.observe(r):this.do(r,e,s)}toObservable(){const{kind:r,value:e,error:s}=this,c="N"===r?(0,je.of)(e):"E"===r?Rs(()=>s):"C"===r?oi.E:0;if(!c)throw new TypeError(`Unexpected notification kind ${r}`);return c}static createNext(r){return new bl("N",r)}static createError(r){return new bl("E",void 0,r)}static createComplete(){return bl.completeNotification}}function PE(n,r){var e,s,c;const{kind:f,value:_,error:C}=n;if("string"!=typeof f)throw new TypeError('Invalid notification, missing "kind"');"N"===f?null===(e=r.next)||void 0===e||e.call(r,_):"E"===f?null===(s=r.error)||void 0===s||s.call(r,C):null===(c=r.complete)||void 0===c||c.call(r)}function RE(n,r,e,s){return(0,hn.e)((c,f)=>{let _;r&&"function"!=typeof r?({duration:e,element:_,connector:s}=r):_=r;const C=new Map,b=ge=>{C.forEach(ge),ge(f)},I=ge=>b(nt=>nt.error(ge));let N=0,q=!1;const oe=new Bn.Q(f,ge=>{try{const nt=n(ge);let xe=C.get(nt);if(!xe){C.set(nt,xe=s?s():new Ht.x);const Ae=function de(ge,nt){const xe=new Pn.y(Ae=>{N++;const Te=nt.subscribe(Ae);return()=>{Te.unsubscribe(),0==--N&&q&&oe.unsubscribe()}});return xe.key=ge,xe}(nt,xe);if(f.next(Ae),e){const Te=(0,Bn.x)(xe,()=>{xe.complete(),Te?.unsubscribe()},void 0,void 0,()=>C.delete(nt));oe.add((0,is.Xf)(e(Ae)).subscribe(Te))}}xe.next(_?_(ge):ge)}catch(nt){I(nt)}},()=>b(ge=>ge.complete()),I,()=>C.clear(),()=>(q=!0,0===N));c.subscribe(oe)})}bl.completeNotification=new bl("C");const Df={dispatch:!0,useEffectsErrorHandler:!0},Pv="__@ngrx/effects_create__";function Ro(n,r){const e=n(),s={...Df,...r};return Object.defineProperty(e,Pv,{value:s}),e}function qg(n){return Object.getOwnPropertyNames(n).filter(s=>!(!n[s]||!n[s].hasOwnProperty(Pv))&&n[s][Pv].hasOwnProperty("dispatch")).map(s=>({propertyName:s,...n[s][Pv]}))}function Zg(n){return Object.getPrototypeOf(n)}const xf="__@ngrx/effects__";function Rv(n){return(0,ae.qC)(oC,Zg)(n)}function oC(n){return function kv(n){return n.constructor.hasOwnProperty(xf)}(n)?n.constructor[xf]:[]}function LE(n,r,e){const s=Zg(n).constructor.name,c=function FE(n){return[Rv,qg].reduce((e,s)=>e.concat(s(n)),[])}(n).map(({propertyName:f,dispatch:_,useEffectsErrorHandler:C})=>{const b="function"==typeof n[f]?n[f]():n[f],I=C?e(b,r):b;return!1===_?I.pipe(function jb(){return(0,hn.e)((n,r)=>{n.subscribe((0,Bn.x)(r,Hb.Z))})}()):I.pipe(function $b(){return(0,hn.e)((n,r)=>{n.subscribe((0,Bn.x)(r,e=>{r.next(bl.createNext(e))},()=>{r.next(bl.createComplete()),r.complete()},e=>{r.next(bl.createError(e)),r.complete()}))})}()).pipe((0,Be.U)(q=>({effect:n[f],notification:q,propertyName:f,sourceName:s,sourceInstance:n})))});return(0,$s.T)(...c)}function Mf(n,r,e=10){return n.pipe((0,Dn.K)(s=>(r&&r.handleError(s),e<=1?n:Mf(n,r,e-1))))}let VE=(()=>{class n extends Pn.y{constructor(e){super(),e&&(this.source=e)}lift(e){const s=new n;return s.source=this,s.operator=e,s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae.Y$))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dl(...n){return(0,Rn.h)(r=>n.some(e=>"string"==typeof e?e===r.type:e.type===r.type))}const BE=new o.OlP("@ngrx/effects Internal Root Guard"),Fv=new o.OlP("@ngrx/effects User Provided Effects"),Lv=new o.OlP("@ngrx/effects Internal Root Effects"),aC=new o.OlP("@ngrx/effects Root Effects"),lC=new o.OlP("@ngrx/effects Internal Feature Effects"),UE=new o.OlP("@ngrx/effects Feature Effects"),HE=new o.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Mf}),Nv="@ngrx/effects/init";function ZE(n){return Af(n,"ngrxOnInitEffects")}function Af(n,r){return n&&r in n&&"function"==typeof n[r]}(0,ae.PH)(Nv);let zg=(()=>{class n extends Ht.x{constructor(e,s){super(),this.errorHandler=e,this.effectsErrorHandler=s}addEffects(e){this.next(e)}toActions(){return this.pipe(RE(Zg),(0,kt.z)(e=>e.pipe(RE(cC))),(0,kt.z)(e=>{const s=e.pipe(Nc(f=>function zE(n,r){return e=>{const s=LE(e,n,r);return function Bv(n){return Af(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(s):s}}(this.errorHandler,this.effectsErrorHandler)(f)),(0,Be.U)(f=>(function qb(n,r){if("N"===n.notification.kind){const e=n.notification.value;!function Ys(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&r.handleError(new Error(`Effect ${function jE({propertyName:n,sourceInstance:r,sourceName:e}){const s="function"==typeof r[n];return`"${e}.${String(n)}${s?"()":""}"`}(n)} dispatched an invalid action: ${function Vv(n){try{return JSON.stringify(n)}catch{return n}}(e)}`))}}(f,this.errorHandler),f.notification)),(0,Rn.h)(f=>"N"===f.kind&&null!=f.value),function Gb(){return(0,hn.e)((n,r)=>{n.subscribe((0,Bn.x)(r,e=>PE(e,r)))})}()),c=e.pipe((0,on.q)(1),(0,Rn.h)(ZE),(0,Be.U)(f=>f.ngrxOnInitEffects()));return(0,$s.T)(s,c)}))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.qLn),o.LFG(HE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cC(n){return function _s(n){return Af(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let Wg=(()=>{class n{constructor(e,s){this.effectSources=e,this.store=s,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zg),o.LFG(ae.yh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uv=(()=>{class n{constructor(e,s,c,f,_,C,b){this.sources=e,s.start(),f.forEach(I=>e.addEffects(I)),c.dispatch({type:Nv})}addEffects(e){this.sources.addEffects(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zg),o.LFG(Wg),o.LFG(ae.yh),o.LFG(aC),o.LFG(ae.cr,8),o.LFG(ae.CK,8),o.LFG(BE,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),WE=(()=>{class n{constructor(e,s,c,f){s.forEach(_=>_.forEach(C=>e.addEffects(C)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Uv),o.LFG(UE),o.LFG(ae.cr,8),o.LFG(ae.CK,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),dC=(()=>{class n{static forFeature(e=[]){return{ngModule:WE,providers:[e,{provide:lC,multi:!0,useValue:e},{provide:Fv,multi:!0,useValue:[]},{provide:UE,multi:!0,useFactory:hC,deps:[o.zs3,lC,Fv]}]}}static forRoot(e=[]){return{ngModule:Uv,providers:[e,{provide:Lv,useValue:[e]},{provide:BE,useFactory:xl,deps:[[Wg,new o.FiY,new o.tp0],[Lv,new o.PiD]]},{provide:Fv,multi:!0,useValue:[]},{provide:aC,useFactory:hC,deps:[o.zs3,Lv,Fv]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function hC(n,r,e){const s=[];for(const c of r)s.push(...c);for(const c of e)s.push(...c);return function Hv(n,r){return r.map(e=>n.get(e))}(n,s)}function xl(n,r){if((1!==r.length||0!==r[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let pC=(()=>{class n{constructor(e){this.http=e}getTissueClasses(){return this.http.get(un.urls.tissueClasses)}getSpims(){return this.http.get(un.urls.spims).pipe((0,Be.U)(e=>({...e,spims:e.spims.map(s=>({...s,id:s.pk,masks:(0,hs.get)(s,"masks",[]).map((c,f)=>({...c,color:qs[f]}))}))})))}getSpim(e){return this.http.get(un.urls.spim.replace("{spimId}",e.toString())).pipe((0,Be.U)(s=>({...s,id:e,masks:s.masks.map(c=>({...c,id:c.pk}))})))}deleteSpim(e){return this.http.delete(un.urls.spim.replace("{spimId}",e.toString())+"/delete")}deleteMask(e){return this.http.delete(un.urls.mask.replace("{maskId}",e.toString())+"/delete")}updateMask(e,s){return(0,dn.D)(fetch(e.bitmap)).pipe((0,ln.w)(c=>(0,dn.D)(c.blob())),(0,ln.w)(c=>((new FormData).append("maskFile",c),this.http.post(un.urls.mask.replace("{maskId}",e.id.toString())+"/update/"+(e.name||""),c))))}generateSegmentedMasks(e,s){return this.http.post(s?un.urls.autosegWithType.replace("{spimId}",e.toString()).replace("{typeId}",s.toString()):un.urls.autoseg.replace("{spimId}",e.toString()),{}).pipe((0,Be.U)(c=>({...c,masks:c.masks.map((f,_)=>({...f,color:qs[_]}))})))}createMask(e,s){return(0,dn.D)(fetch(e.bitmap)).pipe((0,ln.w)(c=>(0,dn.D)(c.blob())),(0,ln.w)(c=>((new FormData).append("maskFile",c),this.http.post(un.urls.spim.replace("{spimId}",s.toString())+"/createmask",c))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Av))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const YE=(0,ae.Lq)({annotationIsActive:!1,generatingMasksForSpims:[]},(0,ae.on)($h,(n,r)=>({...n,annotationIsActive:r.active})),(0,ae.on)(sg,(n,r)=>({...n,generatingMasksForSpims:[...n.generatingMasksForSpims,r.spimId]})),(0,ae.on)(og,(n,r)=>{const e=[...n.generatingMasksForSpims];return e.splice(n.generatingMasksForSpims.indexOf(r.spimId),1),{...n,generatingMasksForSpims:e}})),QE=(0,ae.Lq)([],(0,ae.on)(qi,(n,r)=>[...r.tissueClasses])),gC=yr().getInitialState({maskOpacity:100,brush:{type:St.BRUSH,size:48,mode:At.ADD},selectedMaskIdsForView:[],maskColors:[...Cu],imageZoom:.5}),Kb=(0,ae.Lq)(gC,(0,ae.on)(cl,(n,r)=>({...n,maskOpacity:r.opacity})),(0,ae.on)(Oh,(n,r)=>({...n,imageZoom:r.zoom})),(0,ae.on)(Kp,(n,r)=>({...n,brush:{...n.brush,type:r.brushType}})),(0,ae.on)(Ph,(n,r)=>({...n,brush:{...n.brush,mode:r.modeType}})),(0,ae.on)(Rh,(n,r)=>({...n,brush:{...n.brush,size:r.size}})),(0,ae.on)(It,(n,r)=>{const e=(0,hs.uniq)([...n.selectedMaskIdsForView,r.id]);return{...n,selectedMaskIdsForView:e}}),(0,ae.on)(wu,(n,r)=>({...n,selectedMaskIdsForView:[...r.ids]})),(0,ae.on)(An.updateMask,(n,r)=>{if(r.mask.id==r.id)return n;const e=[...n.selectedMaskIdsForView];return e.splice(e.indexOf(r.id),1,r.mask.id),{...n,selectedMaskIdsForView:e}}),(0,ae.on)(Eu,(n,r)=>{const e=[...n.maskColors];return e[r.index]=r.color,{...n,maskColors:e}}));let mC=(()=>{class n{constructor(e,s,c,f){this.actions$=e,this.appService=s,this.state=c,this.store=f,this.loadSpims$=Ro(()=>this.actions$.pipe(Dl(Hr.requestImages),(0,kt.z)(()=>this.appService.getSpims().pipe((0,Be.U)(_=>Hr.loadImages({images:_.spims})),(0,Dn.K)(_=>(console.log(_),oi.E)))))),this.loadSpim$=Ro(()=>this.actions$.pipe(Dl(Uc.requestImage),(0,kt.z)(({id:_})=>this.appService.getSpim(_).pipe((0,ln.w)(C=>[Hr.loadImage({image:C}),An.loadMasks({masks:C.masks})]),(0,Dn.K)(C=>(console.log(C),oi.E)))))),this.deleteSpim$=Ro(()=>this.actions$.pipe(Dl(Hr.requestDeleteImage),(0,kt.z)(({id:_})=>this.appService.deleteSpim(_).pipe(ai(),(0,Be.U)(C=>Hr.removeImage({id:_})),(0,Dn.K)(C=>(console.log(C),oi.E)))))),this.loadTissueClasses$=Ro(()=>this.actions$.pipe(Dl(Zc),(0,kt.z)(()=>this.appService.getTissueClasses().pipe((0,Be.U)(_=>qi({tissueClasses:_.TissueClass})),(0,Dn.K)(_=>(console.log(_),oi.E)))))),this.updateMask$=Ro(()=>this.actions$.pipe(Dl(An.requestUpdateMask),(0,kt.z)(({mask:_,spimId:C,deleteMaskOfIdOnSuccess:b})=>this.appService.updateMask(_,C).pipe((0,ln.w)(I=>void 0!==b?this.appService.deleteMask(b).pipe(ot(()=>{this.store.dispatch(An.removeMask({maskId:b}))})):(0,je.of)()),(0,Be.U)(I=>An.updateMask({mask:_,id:_.id})),(0,Dn.K)(I=>(console.log(I),oi.E)))))),this.createMask$=Ro(()=>this.actions$.pipe(Dl(An.requestCreateMask),(0,kt.z)(({mask:_,spimId:C})=>this.appService.createMask(_,C).pipe((0,Be.U)(b=>An.updateMask({mask:{..._,...b,id:b.pk},id:_.id})),(0,Dn.K)(b=>(console.log(b),oi.E)))))),this.deleteMask$=Ro(()=>this.actions$.pipe(Dl(An.requestDeleteMask),(0,kt.z)(({maskId:_})=>this.appService.deleteMask(_).pipe((0,Be.U)(C=>An.removeMask({maskId:_})),(0,Dn.K)(C=>(console.log(C),oi.E)))))),this.mergeMasks$=Ro(()=>this.actions$.pipe(Dl(An.mergeMasks),(0,kt.z)(({mask1Id:_,mask2Id:C})=>(this.state.annotation.mergeMasks$.next({mask1Id:_,mask2Id:C}),(0,je.of)())),(0,Dn.K)(_=>(console.log(_),oi.E))),{dispatch:!1}),this.generateSegmentedMasks$=Ro(()=>this.actions$.pipe(Dl(ag),(0,kt.z)(({spimId:_,segType:C})=>(this.store.dispatch(sg({spimId:_})),this.appService.generateSegmentedMasks(_,C).pipe((0,fn.M)(this.store.select(b=>b.images.selectedImageId)),(0,ln.w)(([b,I])=>{const N=[];return _===I&&(N.push(An.clearMasks()),N.push(An.loadMasks({masks:b.masks}))),[Hr.updateImage({id:_,image:{masks:b.masks}}),og({spimId:_})]}),(0,Dn.K)(b=>(console.log(b),this.store.dispatch(og({spimId:_})),oi.E)))))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(VE),o.LFG(pC),o.LFG(Cr),o.LFG(ae.yh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),JE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[CE]}),n.\u0275inj=o.cJS({providers:[pC,Cr],imports:[Rd,IE,hw,ae.Aw.forRoot({app:YE,images:ng,masks:hy,annotate:Kb,tissueClasses:QE},{runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}),dC.forRoot([mC]),zy,Hy,W0.FT.instrument({maxAge:25,logOnly:un.production,autoPause:!0}),D0,_v]}),n})();o.B6R(Hh,function(){return[Ut,re,Sr,no,Ss,bo,jy]},function(){return[Pt,Vc]}),un.production&&(0,o.G48)(),Ko().bootstrapModule(JE).catch(n=>console.error(n))},7489:function($,k,M){var o;$=M.nmd($),function(){var x,W="Expected a function",Z="__lodash_hash_undefined__",Q="__lodash_placeholder__",Oe=1/0,ft=9007199254740991,ke=4294967295,mn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ot="[object Arguments]",Wi="[object Array]",Ki="[object Boolean]",Wr="[object Date]",Fo="[object Error]",Lo="[object Function]",No="[object GeneratorFunction]",di="[object Map]",br="[object Number]",Kr="[object Object]",ze="[object Promise]",Qs="[object RegExp]",zt="[object Set]",Js="[object String]",Cs="[object Symbol]",qn="[object WeakMap]",st="[object ArrayBuffer]",tt="[object DataView]",Wt="[object Float32Array]",Vo="[object Float64Array]",or="[object Int8Array]",Ti="[object Int16Array]",yt="[object Int32Array]",ws="[object Uint8Array]",Qt="[object Uint8ClampedArray]",Bo="[object Uint16Array]",Vt="[object Uint32Array]",Dr=/\b__p \+= '';/g,xr=/\b(__p \+=) '' \+/g,ld=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yr=/&(?:amp|lt|gt|quot|#39);/g,Uo=/[&<>"']/g,Tl=RegExp(Yr.source),Ia=RegExp(Uo.source),Es=/<%-([\s\S]+?)%>/g,Il=/<%([\s\S]+?)%>/g,Ol=/<%=([\s\S]+?)%>/g,Ho=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lu=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tn=/[\\^$.*+?()[\]{}|]/g,Zn=RegExp(Tn.source),Mr=/^\s+/,Ii=/\s/,vi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ve=/\{\n\/\* \[wrapped with (.+)\] \*/,gt=/,? & /,rn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oi=/[()=,{}\[\]\/\s]/,Ar=/\\(\\)?/g,In=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ar=/\w*$/,sn=/^[-+]0x[0-9a-f]+$/i,jo=/^0b[01]+$/i,$o=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,Xs=/^(?:0|[1-9]\d*)$/,Qr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bs=/($^)/,Ds=/['\n\r\u2028\u2029\\]/g,_n="\\ud800-\\udfff",eo="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oa="\\u2700-\\u27bf",Bt="a-z\\xdf-\\xf6\\xf8-\\xff",yi="A-Z\\xc0-\\xd6\\xd8-\\xde",to="\\ufe0e\\ufe0f",As="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cd="["+_n+"]",zn="["+As+"]",Ln="["+eo+"]",Sr="\\d+",no="["+Oa+"]",Ss="["+Bt+"]",Yi="[^"+_n+As+Sr+Oa+Bt+yi+"]",P="\\ud83c[\\udffb-\\udfff]",K="[^"+_n+"]",re="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",Me="["+yi+"]",On="(?:"+Ss+"|"+Yi+")",Cn="(?:"+Me+"|"+Yi+")",Vi="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Pt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Qi="(?:"+Ln+"|"+P+")?",dd="["+to+"]?",Qg=dd+Qi+"(?:\\u200d(?:"+[K,re,Le].join("|")+")"+dd+Qi+")*",zv="(?:"+[no,re,Le].join("|")+")"+Qg,Tf="(?:"+[K+Ln+"?",Ln,re,Le,cd].join("|")+")",pd=RegExp("['\u2019]","g"),Wv=RegExp(Ln,"g"),If=RegExp(P+"(?="+P+")|"+Tf+Qg,"g"),Kv=RegExp([Me+"?"+Ss+"+"+Vi+"(?="+[zn,Me,"$"].join("|")+")",Cn+"+"+Pt+"(?="+[zn,Me+On,"$"].join("|")+")",Me+"?"+On+"+"+Vi,Me+"+"+Pt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Sr,zv].join("|"),"g"),io=RegExp("[\\u200d"+_n+eo+to+"]"),Jg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Of=-1,Jt={};Jt[Wt]=Jt[Vo]=Jt[or]=Jt[Ti]=Jt[yt]=Jt[ws]=Jt[Qt]=Jt[Bo]=Jt[Vt]=!0,Jt[Ot]=Jt[Wi]=Jt[st]=Jt[Ki]=Jt[tt]=Jt[Wr]=Jt[Fo]=Jt[Lo]=Jt[di]=Jt[br]=Jt[Kr]=Jt[Qs]=Jt[zt]=Jt[Js]=Jt[qn]=!1;var Kt={};Kt[Ot]=Kt[Wi]=Kt[st]=Kt[tt]=Kt[Ki]=Kt[Wr]=Kt[Wt]=Kt[Vo]=Kt[or]=Kt[Ti]=Kt[yt]=Kt[di]=Kt[br]=Kt[Kr]=Kt[Qs]=Kt[zt]=Kt[Js]=Kt[Cs]=Kt[ws]=Kt[Qt]=Kt[Bo]=Kt[Vt]=!0,Kt[Fo]=Kt[Lo]=Kt[qn]=!1;var Vu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},em=parseFloat,lr=parseInt,Bu="object"==typeof global&&global&&global.Object===Object&&global,tm="object"==typeof self&&self&&self.Object===Object&&self,ni=Bu||tm||Function("return this")(),nm=k&&!k.nodeType&&k,_d=nm&&$&&!$.nodeType&&$,Nn=_d&&_d.exports===nm,vd=Nn&&Bu.process,Tr=function(){try{return _d&&_d.require&&_d.require("util").types||vd&&vd.binding&&vd.binding("util")}catch{}}(),ka=Tr&&Tr.isArrayBuffer,Bi=Tr&&Tr.isDate,im=Tr&&Tr.isMap,Pl=Tr&&Tr.isRegExp,Fa=Tr&&Tr.isSet,Gt=Tr&&Tr.isTypedArray;function ur(j,le,ee){switch(ee.length){case 0:return j.call(le);case 1:return j.call(le,ee[0]);case 2:return j.call(le,ee[0],ee[1]);case 3:return j.call(le,ee[0],ee[1],ee[2])}return j.apply(le,ee)}function La(j,le,ee,qe){for(var dt=-1,Ft=null==j?0:j.length;++dt<Ft;){var bn=j[dt];le(qe,bn,ee(bn),j)}return qe}function Ir(j,le){for(var ee=-1,qe=null==j?0:j.length;++ee<qe&&!1!==le(j[ee],ee,j););return j}function ro(j,le){for(var ee=null==j?0:j.length;ee--&&!1!==le(j[ee],ee,j););return j}function yd(j,le){for(var ee=-1,qe=null==j?0:j.length;++ee<qe;)if(!le(j[ee],ee,j))return!1;return!0}function Jr(j,le){for(var ee=-1,qe=null==j?0:j.length,dt=0,Ft=[];++ee<qe;){var bn=j[ee];le(bn,ee,j)&&(Ft[dt++]=bn)}return Ft}function _t(j,le){return!(null==j||!j.length)&&qo(j,le,0)>-1}function Cd(j,le,ee){for(var qe=-1,dt=null==j?0:j.length;++qe<dt;)if(ee(le,j[qe]))return!0;return!1}function wn(j,le){for(var ee=-1,qe=null==j?0:j.length,dt=Array(qe);++ee<qe;)dt[ee]=le(j[ee],ee,j);return dt}function so(j,le){for(var ee=-1,qe=le.length,dt=j.length;++ee<qe;)j[dt+ee]=le[ee];return j}function wd(j,le,ee,qe){var dt=-1,Ft=null==j?0:j.length;for(qe&&Ft&&(ee=j[++dt]);++dt<Ft;)ee=le(ee,j[dt],dt,j);return ee}function rm(j,le,ee,qe){var dt=null==j?0:j.length;for(qe&&dt&&(ee=j[--dt]);dt--;)ee=le(ee,j[dt],dt,j);return ee}function Go(j,le){for(var ee=-1,qe=null==j?0:j.length;++ee<qe;)if(le(j[ee],ee,j))return!0;return!1}var sm=cr("length");function Rt(j,le,ee){var qe;return ee(j,function(dt,Ft,bn){if(le(dt,Ft,bn))return qe=Ft,!1}),qe}function Uu(j,le,ee,qe){for(var dt=j.length,Ft=ee+(qe?1:-1);qe?Ft--:++Ft<dt;)if(le(j[Ft],Ft,j))return Ft;return-1}function qo(j,le,ee){return le==le?function Ff(j,le,ee){for(var qe=ee-1,dt=j.length;++qe<dt;)if(j[qe]===le)return qe;return-1}(j,le,ee):Uu(j,Ed,ee)}function ii(j,le,ee,qe){for(var dt=ee-1,Ft=j.length;++dt<Ft;)if(qe(j[dt],le))return dt;return-1}function Ed(j){return j!=j}function Rl(j,le){var ee=null==j?0:j.length;return ee?Dd(j,le)/ee:NaN}function cr(j){return function(le){return null==le?x:le[j]}}function Hu(j){return function(le){return null==j?x:j[le]}}function bd(j,le,ee,qe,dt){return dt(j,function(Ft,bn,qt){ee=qe?(qe=!1,Ft):le(ee,Ft,bn,qt)}),ee}function Dd(j,le){for(var ee,qe=-1,dt=j.length;++qe<dt;){var Ft=le(j[qe]);Ft!==x&&(ee=ee===x?Ft:ee+Ft)}return ee}function Rf(j,le){for(var ee=-1,qe=Array(j);++ee<j;)qe[ee]=le(ee);return qe}function Vn(j){return j&&j.slice(0,Wn(j)+1).replace(Mr,"")}function En(j){return function(le){return j(le)}}function kl(j,le){return wn(le,function(ee){return j[ee]})}function Ts(j,le){return j.has(le)}function Is(j,le){for(var ee=-1,qe=j.length;++ee<qe&&qo(le,j[ee],0)>-1;);return ee}function lm(j,le){for(var ee=j.length;ee--&&qo(le,j[ee],0)>-1;);return ee}function um(j,le){for(var ee=j.length,qe=0;ee--;)j[ee]===le&&++qe;return qe}var Yv=Hu({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Qv=Hu({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kf(j){return"\\"+Vu[j]}function Na(j){return io.test(j)}function Ad(j){var le=-1,ee=Array(j.size);return j.forEach(function(qe,dt){ee[++le]=[dt,qe]}),ee}function Sd(j,le){return function(ee){return j(le(ee))}}function oo(j,le){for(var ee=-1,qe=j.length,dt=0,Ft=[];++ee<qe;){var bn=j[ee];(bn===le||bn===Q)&&(j[ee]=Q,Ft[dt++]=ee)}return Ft}function $u(j){var le=-1,ee=Array(j.size);return j.forEach(function(qe){ee[++le]=qe}),ee}function Xr(j){return Na(j)?function cn(j){for(var le=If.lastIndex=0;If.test(j);)++le;return le}(j):sm(j)}function Or(j){return Na(j)?function Lf(j){return j.match(If)||[]}(j):function om(j){return j.split("")}(j)}function Wn(j){for(var le=j.length;le--&&Ii.test(j.charAt(le)););return le}var ao=Hu({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Gu=function j(le){var l,ee=(le=null==le?ni:Gu.defaults(ni.Object(),le,Gu.pick(ni,gd))).Array,qe=le.Date,dt=le.Error,Ft=le.Function,bn=le.Math,qt=le.Object,Pr=le.RegExp,Va=le.String,dr=le.TypeError,qu=ee.prototype,lo=qt.prototype,Zo=le["__core-js_shared__"],Nl=Ft.prototype.toString,Xt=lo.hasOwnProperty,Vf=0,zo=(l=/[^.]+$/.exec(Zo&&Zo.keys&&Zo.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Vl=lo.toString,Td=Nl.call(qt),Bl=ni._,Bf=Pr("^"+Nl.call(Xt).replace(Tn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ul=Nn?le.Buffer:x,Ji=le.Symbol,Hl=le.Uint8Array,Wo=Ul?Ul.allocUnsafe:x,Ba=Sd(qt.getPrototypeOf,qt),jl=qt.create,Id=lo.propertyIsEnumerable,Zu=qu.splice,Uf=Ji?Ji.isConcatSpreadable:x,Ua=Ji?Ji.iterator:x,Ri=Ji?Ji.toStringTag:x,zu=function(){try{var l=Bs(qt,"defineProperty");return l({},"",{}),l}catch{}}(),$l=le.clearTimeout!==ni.clearTimeout&&le.clearTimeout,Od=qe&&qe.now!==ni.Date.now&&qe.now,Wu=le.setTimeout!==ni.setTimeout&&le.setTimeout,Ko=bn.ceil,uo=bn.floor,Ku=qt.getOwnPropertySymbols,Pd=Ul?Ul.isBuffer:x,Rd=le.isFinite,fm=qu.join,Hf=Sd(qt.keys,qt),ri=bn.max,Kn=bn.min,Ha=qe.now,pm=le.parseInt,kd=bn.random,gm=qu.reverse,Yo=Bs(le,"DataView"),ja=Bs(le,"Map"),Rr=Bs(le,"Promise"),co=Bs(le,"Set"),Gl=Bs(le,"WeakMap"),ho=Bs(qt,"create"),Qo=Gl&&new Gl,es={},ql=_o(Yo),Zl=_o(ja),jf=_o(Rr),$f=_o(co),zl=_o(Gl),Gf=Ji?Ji.prototype:x,Yu=Gf?Gf.valueOf:x,en=Gf?Gf.toString:x;function S(l){if(At(l)&&!bt(l)&&!(l instanceof Lt)){if(l instanceof ts)return l;if(Xt.call(l,"__wrapped__"))return oh(l)}return new ts(l)}var Qu=function(){function l(){}return function(h){if(!St(h))return{};if(jl)return jl(h);l.prototype=h;var g=new l;return l.prototype=x,g}}();function qf(){}function ts(l,h){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=x}function Lt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function Wl(l){var h=-1,g=null==l?0:l.length;for(this.clear();++h<g;){var w=l[h];this.set(w[0],w[1])}}function Os(l){var h=-1,g=null==l?0:l.length;for(this.clear();++h<g;){var w=l[h];this.set(w[0],w[1])}}function ns(l){var h=-1,g=null==l?0:l.length;for(this.clear();++h<g;){var w=l[h];this.set(w[0],w[1])}}function Yn(l){var h=-1,g=null==l?0:l.length;for(this.__data__=new ns;++h<g;)this.add(l[h])}function kr(l){var h=this.__data__=new Os(l);this.size=h.size}function $a(l,h){var g=bt(l),w=!g&&Hs(l),D=!g&&!w&&js(l),T=!g&&!w&&!D&&Zs(l),R=g||w||D||T,L=R?Rf(l.length,Va):[],G=L.length;for(var fe in l)(h||Xt.call(l,fe))&&(!R||!("length"==fe||D&&("offset"==fe||"parent"==fe)||T&&("buffer"==fe||"byteLength"==fe||"byteOffset"==fe)||cs(fe,G)))&&L.push(fe);return L}function Yf(l){var h=l.length;return h?l[eu(0,h-1)]:x}function Ql(l,h){return il(tr(l),fr(h,0,l.length))}function is(l){return il(tr(l))}function Ld(l,h,g){(g!==x&&!ir(l[h],g)||g===x&&!(h in l))&&hn(l,h,g)}function Ps(l,h,g){var w=l[h];(!Xt.call(l,h)||!ir(w,g)||g===x&&!(h in l))&&hn(l,h,g)}function ki(l,h){for(var g=l.length;g--;)if(ir(l[g][0],h))return g;return-1}function Rs(l,h,g,w){return kt(l,function(D,T,R){h(w,D,g(D),R)}),w}function oi(l,h){return l&&Ei(h,gi(h),l)}function hn(l,h,g){"__proto__"==h&&zu?zu(l,h,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[h]=g}function Ga(l,h){for(var g=-1,w=h.length,D=ee(w),T=null==l;++g<w;)D[g]=T?x:An(l,h[g]);return D}function fr(l,h,g){return l==l&&(g!==x&&(l=l<=g?l:g),h!==x&&(l=l>=h?l:h)),l}function Ht(l,h,g,w,D,T){var R,L=1&h,G=2&h,fe=4&h;if(g&&(R=D?g(l,w,D,T):g(l)),R!==x)return R;if(!St(l))return l;var pe=bt(l);if(pe){if(R=function Am(l){var h=l.length,g=new l.constructor(h);return h&&"string"==typeof l[0]&&Xt.call(l,"index")&&(g.index=l.index,g.input=l.input),g}(l),!L)return tr(l,R)}else{var ve=xn(l),Ne=ve==Lo||ve==No;if(js(l))return nu(l,L);if(ve==Kr||ve==Ot||Ne&&!D){if(R=G||Ne?{}:Ec(l),!L)return G?function as(l,h){return Ei(l,lu(l),h)}(l,function Nd(l,h){return l&&Ei(h,Mi(h),l)}(R,l)):function hc(l,h){return Ei(l,pa(l),h)}(l,oi(R,l))}else{if(!Kt[ve])return D?l:{};R=function eh(l,h,g){var w=l.constructor;switch(h){case st:return go(l);case Ki:case Wr:return new w(+l);case tt:return function rp(l,h){var g=h?go(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}(l,g);case Wt:case Vo:case or:case Ti:case yt:case ws:case Qt:case Bo:case Vt:return sp(l,g);case di:return new w;case br:case Js:return new w(l);case Qs:return function xm(l){var h=new l.constructor(l.source,ar.exec(l));return h.lastIndex=l.lastIndex,h}(l);case zt:return new w;case Cs:return function Ka(l){return Yu?qt(Yu.call(l)):{}}(l)}}(l,ve,L)}}T||(T=new kr);var Ge=T.get(l);if(Ge)return Ge;T.set(l,R),bo(l)?l.forEach(function(Xe){R.add(Ht(Xe,h,g,Xe,l,T))}):Cu(l)&&l.forEach(function(Xe,Mt){R.set(Mt,Ht(Xe,h,g,Mt,l,T))});var Qe=pe?x:(fe?G?ha:el:G?Mi:gi)(l);return Ir(Qe||l,function(Xe,Mt){Qe&&(Xe=l[Mt=Xe]),Ps(R,Mt,Ht(Xe,h,g,Mt,l,T))}),R}function on(l,h,g){var w=g.length;if(null==l)return!w;for(l=qt(l);w--;){var D=g[w],R=l[D];if(R===x&&!(D in l)||!(0,h[D])(R))return!1}return!0}function Jo(l,h,g){if("function"!=typeof l)throw new dr(W);return du(function(){l.apply(x,g)},h)}function Rn(l,h,g,w){var D=-1,T=_t,R=!0,L=l.length,G=[],fe=h.length;if(!L)return G;g&&(h=wn(h,En(g))),w?(T=Cd,R=!1):h.length>=200&&(T=Ts,R=!1,h=new Yn(h));e:for(;++D<L;){var pe=l[D],ve=null==g?pe:g(pe);if(pe=w||0!==pe?pe:0,R&&ve==ve){for(var Ne=fe;Ne--;)if(h[Ne]===ve)continue e;G.push(pe)}else T(h,ve,w)||G.push(pe)}return G}S.templateSettings={escape:Es,evaluate:Il,interpolate:Ol,variable:"",imports:{_:S}},(S.prototype=qf.prototype).constructor=S,(ts.prototype=Qu(qf.prototype)).constructor=ts,(Lt.prototype=Qu(qf.prototype)).constructor=Lt,Wl.prototype.clear=function Jv(){this.__data__=ho?ho(null):{},this.size=0},Wl.prototype.delete=function si(l){var h=this.has(l)&&delete this.__data__[l];return this.size-=h?1:0,h},Wl.prototype.get=function dn(l){var h=this.__data__;if(ho){var g=h[l];return g===Z?x:g}return Xt.call(h,l)?h[l]:x},Wl.prototype.has=function je(l){var h=this.__data__;return ho?h[l]!==x:Xt.call(h,l)},Wl.prototype.set=function hi(l,h){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=ho&&h===x?Z:h,this},Os.prototype.clear=function Ci(){this.__data__=[],this.size=0},Os.prototype.delete=function Pn(l){var h=this.__data__,g=ki(h,l);return!(g<0||(g==h.length-1?h.pop():Zu.call(h,g,1),--this.size,0))},Os.prototype.get=function Zf(l){var h=this.__data__,g=ki(h,l);return g<0?x:h[g][1]},Os.prototype.has=function Xu(l){return ki(this.__data__,l)>-1},Os.prototype.set=function Kl(l,h){var g=this.__data__,w=ki(g,l);return w<0?(++this.size,g.push([l,h])):g[w][1]=h,this},ns.prototype.clear=function zf(){this.size=0,this.__data__={hash:new Wl,map:new(ja||Os),string:new Wl}},ns.prototype.delete=function mm(l){var h=yc(this,l).delete(l);return this.size-=h?1:0,h},ns.prototype.get=function ec(l){return yc(this,l).get(l)},ns.prototype.has=function Be(l){return yc(this,l).has(l)},ns.prototype.set=function Wf(l,h){var g=yc(this,l),w=g.size;return g.set(l,h),this.size+=g.size==w?0:1,this},Yn.prototype.add=Yn.prototype.push=function Yl(l){return this.__data__.set(l,Z),this},Yn.prototype.has=function hr(l){return this.__data__.has(l)},kr.prototype.clear=function Bn(){this.__data__=new Os,this.size=0},kr.prototype.delete=function Fd(l){var h=this.__data__,g=h.delete(l);return this.size=h.size,g},kr.prototype.get=function Ui(l){return this.__data__.get(l)},kr.prototype.has=function _m(l){return this.__data__.has(l)},kr.prototype.set=function Kf(l,h){var g=this.__data__;if(g instanceof Os){var w=g.__data__;if(!ja||w.length<199)return w.push([l,h]),this.size=++g.size,this;g=this.__data__=new ns(w)}return g.set(l,h),this.size=g.size,this};var kt=ru(gr),ks=ru(Jl,!0);function Qf(l,h){var g=!0;return kt(l,function(w,D,T){return g=!!h(w,D,T)}),g}function tc(l,h,g){for(var w=-1,D=l.length;++w<D;){var T=l[w],R=h(T);if(null!=R&&(L===x?R==R&&!$i(R):g(R,L)))var L=R,G=T}return G}function pr(l,h){var g=[];return kt(l,function(w,D,T){h(w,D,T)&&g.push(w)}),g}function ot(l,h,g,w,D){var T=-1,R=l.length;for(g||(g=nh),D||(D=[]);++T<R;){var L=l[T];h>0&&g(L)?h>1?ot(L,h-1,g,w,D):so(D,L):w||(D[D.length]=L)}return D}var Dn=Wd(),Xo=Wd(!0);function gr(l,h){return l&&Dn(l,h,gi)}function Jl(l,h){return l&&Xo(l,h,gi)}function fo(l,h){return Jr(h,function(g){return un(l[g])})}function rs(l,h){for(var g=0,w=(h=er(h,l)).length;null!=l&&g<w;)l=l[ji(h[g++])];return g&&g==w?l:x}function ea(l,h,g){var w=h(l);return bt(l)?w:so(w,g(l))}function at(l){return null==l?l===x?"[object Undefined]":"[object Null]":Ri&&Ri in qt(l)?function Cc(l){var h=Xt.call(l,Ri),g=l[Ri];try{l[Ri]=x;var w=!0}catch{}var D=Vl.call(l);return w&&(h?l[Ri]=g:delete l[Ri]),D}(l):function Om(l){return Vl.call(l)}(l)}function ta(l,h){return l>h}function qa(l,h){return null!=l&&Xt.call(l,h)}function ss(l,h){return null!=l&&h in qt(l)}function Jf(l,h,g){for(var w=g?Cd:_t,D=l[0].length,T=l.length,R=T,L=ee(T),G=1/0,fe=[];R--;){var pe=l[R];R&&h&&(pe=wn(pe,En(h))),G=Kn(pe.length,G),L[R]=!g&&(h||D>=120&&pe.length>=120)?new Yn(R&&pe):x}pe=l[0];var ve=-1,Ne=L[0];e:for(;++ve<D&&fe.length<G;){var Ge=pe[ve],Ye=h?h(Ge):Ge;if(Ge=g||0!==Ge?Ge:0,!(Ne?Ts(Ne,Ye):w(fe,Ye,g))){for(R=T;--R;){var Qe=L[R];if(!(Qe?Ts(Qe,Ye):w(l[R],Ye,g)))continue e}Ne&&Ne.push(Ye),fe.push(Ge)}}return fe}function Za(l,h,g){var w=null==(l=Pm(l,h=er(h,l)))?l:l[ji(Li(h))];return null==w?x:ur(w,l,g)}function Xf(l){return At(l)&&at(l)==Ot}function kn(l,h,g,w,D){return l===h||(null==l||null==h||!At(l)&&!At(h)?l!=l&&h!=h:function Lr(l,h,g,w,D,T){var R=bt(l),L=bt(h),G=R?Wi:xn(l),fe=L?Wi:xn(h),pe=(G=G==Ot?Kr:G)==Kr,ve=(fe=fe==Ot?Kr:fe)==Kr,Ne=G==fe;if(Ne&&js(l)){if(!js(h))return!1;R=!0,pe=!1}if(Ne&&!pe)return T||(T=new kr),R||Zs(l)?Jd(l,h,g,w,D,T):function da(l,h,g,w,D,T,R){switch(g){case tt:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case st:return!(l.byteLength!=h.byteLength||!T(new Hl(l),new Hl(h)));case Ki:case Wr:case br:return ir(+l,+h);case Fo:return l.name==h.name&&l.message==h.message;case Qs:case Js:return l==h+"";case di:var L=Ad;case zt:if(L||(L=$u),l.size!=h.size&&!(1&w))return!1;var fe=R.get(l);if(fe)return fe==h;w|=2,R.set(l,h);var pe=Jd(L(l),L(h),w,D,T,R);return R.delete(l),pe;case Cs:if(Yu)return Yu.call(l)==Yu.call(h)}return!1}(l,h,G,g,w,D,T);if(!(1&g)){var Ge=pe&&Xt.call(l,"__wrapped__"),Ye=ve&&Xt.call(h,"__wrapped__");if(Ge||Ye){var Qe=Ge?l.value():l,Xe=Ye?h.value():h;return T||(T=new kr),D(Qe,Xe,g,w,T)}}return!!Ne&&(T||(T=new kr),function ou(l,h,g,w,D,T){var R=1&g,L=el(l),G=L.length;if(G!=el(h).length&&!R)return!1;for(var ve=G;ve--;){var Ne=L[ve];if(!(R?Ne in h:Xt.call(h,Ne)))return!1}var Ge=T.get(l),Ye=T.get(h);if(Ge&&Ye)return Ge==h&&Ye==l;var Qe=!0;T.set(l,h),T.set(h,l);for(var Xe=R;++ve<G;){var Mt=l[Ne=L[ve]],mt=h[Ne];if(w)var Si=R?w(mt,Mt,Ne,h,l,T):w(Mt,mt,Ne,l,h,T);if(!(Si===x?Mt===mt||D(Mt,mt,g,w,T):Si)){Qe=!1;break}Xe||(Xe="constructor"==Ne)}if(Qe&&!Xe){var vn=l.constructor,Jn=h.constructor;vn!=Jn&&"constructor"in l&&"constructor"in h&&!("function"==typeof vn&&vn instanceof vn&&"function"==typeof Jn&&Jn instanceof Jn)&&(Qe=!1)}return T.delete(l),T.delete(h),Qe}(l,h,g,w,D,T))}(l,h,g,w,kn,D))}function Vd(l,h,g,w){var D=g.length,T=D,R=!w;if(null==l)return!T;for(l=qt(l);D--;){var L=g[D];if(R&&L[2]?L[1]!==l[L[0]]:!(L[0]in l))return!1}for(;++D<T;){var G=(L=g[D])[0],fe=l[G],pe=L[1];if(R&&L[2]){if(fe===x&&!(G in l))return!1}else{var ve=new kr;if(w)var Ne=w(fe,pe,G,l,h,ve);if(!(Ne===x?kn(pe,fe,3,w,ve):Ne))return!1}}return!0}function Bd(l){return!(!St(l)||function Sm(l){return!!zo&&zo in l}(l))&&(un(l)?Bf:$o).test(_o(l))}function Hd(l){return"function"==typeof l?l:null==l?Ai:"object"==typeof l?bt(l)?Tt(l[0],l[1]):os(l):qh(l)}function jd(l){if(!ga(l))return Hf(l);var h=[];for(var g in qt(l))Xt.call(l,g)&&"constructor"!=g&&h.push(g);return h}function $d(l,h){return l<h}function rc(l,h){var g=-1,w=Di(l)?ee(l.length):[];return kt(l,function(D,T,R){w[++g]=h(D,T,R)}),w}function os(l){var h=au(l);return 1==h.length&&h[0][2]?rh(h[0][0],h[0][1]):function(g){return g===l||Vd(g,l,h)}}function Tt(l,h){return ih(l)&&nr(h)?rh(ji(l),h):function(g){var w=An(g,l);return w===x&&w===h?eg(g,l):kn(h,w,3)}}function na(l,h,g,w,D){l!==h&&Dn(h,function(T,R){if(D||(D=new kr),St(T))!function ty(l,h,g,w,D,T,R){var L=ma(l,g),G=ma(h,g),fe=R.get(G);if(fe)Ld(l,g,fe);else{var pe=T?T(L,G,g+"",l,h,R):x,ve=pe===x;if(ve){var Ne=bt(G),Ge=!Ne&&js(G),Ye=!Ne&&!Ge&&Zs(G);pe=G,Ne||Ge||Ye?bt(L)?pe=L:fn(L)?pe=tr(L):Ge?(ve=!1,pe=nu(G,!0)):Ye?(ve=!1,pe=sp(G,!0)):pe=[]:Ea(G)||Hs(G)?(pe=L,Hs(L)?pe=Oh(L):(!St(L)||un(L))&&(pe=Ec(G))):ve=!1}ve&&(R.set(G,pe),D(pe,G,w,T,R),R.delete(G)),Ld(l,g,pe)}}(l,h,R,g,na,w,D);else{var L=w?w(ma(l,R),T,R+"",l,h,D):x;L===x&&(L=T),Ld(l,R,L)}},Mi)}function ia(l,h){var g=l.length;if(g)return cs(h+=h<0?g:0,g)?l[h]:x}function Cm(l,h,g){h=h.length?wn(h,function(T){return bt(T)?function(R){return rs(R,1===T.length?T[0]:T)}:T}):[Ai];var w=-1;return h=wn(h,En(lt())),function am(j,le){var ee=j.length;for(j.sort(le);ee--;)j[ee]=j[ee].value;return j}(rc(l,function(T,R,L){return{criteria:wn(h,function(fe){return fe(T)}),index:++w,value:T}}),function(T,R){return function la(l,h,g){for(var w=-1,D=l.criteria,T=h.criteria,R=D.length,L=g.length;++w<R;){var G=cc(D[w],T[w]);if(G)return w>=L?G:G*("desc"==g[w]?-1:1)}return l.index-h.index}(T,R,g)})}function Xl(l,h,g){for(var w=-1,D=h.length,T={};++w<D;){var R=h[w],L=rs(l,R);g(L,R)&&po(T,er(R,l),L)}return T}function ra(l,h,g,w){var D=w?ii:qo,T=-1,R=h.length,L=l;for(l===h&&(h=tr(h)),g&&(L=wn(l,En(g)));++T<R;)for(var G=0,fe=h[T],pe=g?g(fe):fe;(G=D(L,pe,G,w))>-1;)L!==l&&Zu.call(L,G,1),Zu.call(l,G,1);return l}function sa(l,h){for(var g=l?h.length:0,w=g-1;g--;){var D=h[g];if(g==w||D!==T){var T=D;cs(D)?Zu.call(l,D,1):oa(l,D)}}return l}function eu(l,h){return l+uo(kd()*(h-l+1))}function qd(l,h){var g="";if(!l||h<1||h>ft)return g;do{h%2&&(g+=l),(h=uo(h/2))&&(l+=l)}while(h);return g}function xt(l,h){return sh(xc(l,h,Ai),l+"")}function sc(l){return Yf(Ks(l))}function Zd(l,h){var g=Ks(l);return il(g,fr(h,0,g.length))}function po(l,h,g,w){if(!St(l))return l;for(var D=-1,T=(h=er(h,l)).length,R=T-1,L=l;null!=L&&++D<T;){var G=ji(h[D]),fe=g;if("__proto__"===G||"constructor"===G||"prototype"===G)return l;if(D!=R){var pe=L[G];(fe=w?w(pe,G,L):x)===x&&(fe=St(pe)?pe:cs(h[D+1])?[]:{})}Ps(L,G,fe),L=L[G]}return l}var np=Qo?function(l,h){return Qo.set(l,h),l}:Ai,wm=zu?function(l,h){return zu(l,"toString",{configurable:!0,enumerable:!1,value:$n(h),writable:!0})}:Ai;function Em(l){return il(Ks(l))}function wi(l,h,g){var w=-1,D=l.length;h<0&&(h=-h>D?0:D+h),(g=g>D?D:g)<0&&(g+=D),D=h>g?0:g-h>>>0,h>>>=0;for(var T=ee(D);++w<D;)T[w]=l[w+h];return T}function bm(l,h){var g;return kt(l,function(w,D,T){return!(g=h(w,D,T))}),!!g}function oc(l,h,g){var w=0,D=null==l?w:l.length;if("number"==typeof h&&h==h&&D<=2147483647){for(;w<D;){var T=w+D>>>1,R=l[T];null!==R&&!$i(R)&&(g?R<=h:R<h)?w=T+1:D=T}return D}return fi(l,h,Ai,g)}function fi(l,h,g,w){var D=0,T=null==l?0:l.length;if(0===T)return 0;for(var R=(h=g(h))!=h,L=null===h,G=$i(h),fe=h===x;D<T;){var pe=uo((D+T)/2),ve=g(l[pe]),Ne=ve!==x,Ge=null===ve,Ye=ve==ve,Qe=$i(ve);if(R)var Xe=w||Ye;else Xe=fe?Ye&&(w||Ne):L?Ye&&Ne&&(w||!Ge):G?Ye&&Ne&&!Ge&&(w||!Qe):!Ge&&!Qe&&(w?ve<=h:ve<h);Xe?D=pe+1:T=pe}return Kn(T,4294967294)}function ac(l,h){for(var g=-1,w=l.length,D=0,T=[];++g<w;){var R=l[g],L=h?h(R):R;if(!g||!ir(L,G)){var G=L;T[D++]=0===R?0:R}}return T}function zd(l){return"number"==typeof l?l:$i(l)?NaN:+l}function pi(l){if("string"==typeof l)return l;if(bt(l))return wn(l,pi)+"";if($i(l))return en?en.call(l):"";var h=l+"";return"0"==h&&1/l==-Oe?"-0":h}function an(l,h,g){var w=-1,D=_t,T=l.length,R=!0,L=[],G=L;if(g)R=!1,D=Cd;else if(T>=200){var fe=h?null:Ns(l);if(fe)return $u(fe);R=!1,D=Ts,G=new Yn}else G=h?[]:L;e:for(;++w<T;){var pe=l[w],ve=h?h(pe):pe;if(pe=g||0!==pe?pe:0,R&&ve==ve){for(var Ne=G.length;Ne--;)if(G[Ne]===ve)continue e;h&&G.push(ve),L.push(pe)}else D(G,ve,g)||(G!==L&&G.push(ve),L.push(pe))}return L}function oa(l,h){return null==(l=Pm(l,h=er(h,l)))||delete l[ji(Li(h))]}function Fs(l,h,g,w){return po(l,h,g(rs(l,h)),w)}function za(l,h,g,w){for(var D=l.length,T=w?D:-1;(w?T--:++T<D)&&h(l[T],T,l););return g?wi(l,w?0:T,w?T+1:D):wi(l,w?T+1:0,w?D:T)}function Dm(l,h){var g=l;return g instanceof Lt&&(g=g.value()),wd(h,function(w,D){return D.func.apply(D.thisArg,so([w],D.args))},g)}function lc(l,h,g){var w=l.length;if(w<2)return w?an(l[0]):[];for(var D=-1,T=ee(w);++D<w;)for(var R=l[D],L=-1;++L<w;)L!=D&&(T[D]=Rn(T[D]||R,l[L],h,g));return an(ot(T,1),h,g)}function ip(l,h,g){for(var w=-1,D=l.length,T=h.length,R={};++w<D;)g(R,l[w],w<T?h[w]:x);return R}function uc(l){return fn(l)?l:[]}function aa(l){return"function"==typeof l?l:Ai}function er(l,h){return bt(l)?l:ih(l,h)?[l]:ds(It(l))}var Wa=xt;function Ls(l,h,g){var w=l.length;return g=g===x?w:g,!h&&g>=w?l:wi(l,h,g)}var tu=$l||function(l){return ni.clearTimeout(l)};function nu(l,h){if(h)return l.slice();var g=l.length,w=Wo?Wo(g):new l.constructor(g);return l.copy(w),w}function go(l){var h=new l.constructor(l.byteLength);return new Hl(h).set(new Hl(l)),h}function sp(l,h){var g=h?go(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function cc(l,h){if(l!==h){var g=l!==x,w=null===l,D=l==l,T=$i(l),R=h!==x,L=null===h,G=h==h,fe=$i(h);if(!L&&!fe&&!T&&l>h||T&&R&&G&&!L&&!fe||w&&R&&G||!g&&G||!D)return 1;if(!w&&!T&&!fe&&l<h||fe&&g&&D&&!w&&!T||L&&g&&D||!R&&D||!G)return-1}return 0}function dc(l,h,g,w){for(var D=-1,T=l.length,R=g.length,L=-1,G=h.length,fe=ri(T-R,0),pe=ee(G+fe),ve=!w;++L<G;)pe[L]=h[L];for(;++D<R;)(ve||D<T)&&(pe[g[D]]=l[D]);for(;fe--;)pe[L++]=l[D++];return pe}function iu(l,h,g,w){for(var D=-1,T=l.length,R=-1,L=g.length,G=-1,fe=h.length,pe=ri(T-L,0),ve=ee(pe+fe),Ne=!w;++D<pe;)ve[D]=l[D];for(var Ge=D;++G<fe;)ve[Ge+G]=h[G];for(;++R<L;)(Ne||D<T)&&(ve[Ge+g[R]]=l[D++]);return ve}function tr(l,h){var g=-1,w=l.length;for(h||(h=ee(w));++g<w;)h[g]=l[g];return h}function Ei(l,h,g,w){var D=!g;g||(g={});for(var T=-1,R=h.length;++T<R;){var L=h[T],G=w?w(g[L],l[L],L,g,l):x;G===x&&(G=l[L]),D?hn(g,L,G):Ps(g,L,G)}return g}function Ya(l,h){return function(g,w){var D=bt(g)?La:Rs,T=h?h():{};return D(g,l,lt(w,2),T)}}function Hi(l){return xt(function(h,g){var w=-1,D=g.length,T=D>1?g[D-1]:x,R=D>2?g[2]:x;for(T=l.length>3&&"function"==typeof T?(D--,T):x,R&&Fi(g[0],g[1],R)&&(T=D<3?x:T,D=1),h=qt(h);++w<D;){var L=g[w];L&&l(h,L,w,T)}return h})}function ru(l,h){return function(g,w){if(null==g)return g;if(!Di(g))return l(g,w);for(var D=g.length,T=h?D:-1,R=qt(g);(h?T--:++T<D)&&!1!==w(R[T],T,R););return g}}function Wd(l){return function(h,g,w){for(var D=-1,T=qt(h),R=w(h),L=R.length;L--;){var G=R[l?L:++D];if(!1===g(T[G],G,T))break}return h}}function op(l){return function(h){var g=Na(h=It(h))?Or(h):x,w=g?g[0]:h.charAt(0),D=g?Ls(g,1).join(""):h.slice(1);return w[l]()+D}}function Qa(l){return function(h){return wd(fg(Nh(h).replace(pd,"")),l,"")}}function su(l){return function(){var h=arguments;switch(h.length){case 0:return new l;case 1:return new l(h[0]);case 2:return new l(h[0],h[1]);case 3:return new l(h[0],h[1],h[2]);case 4:return new l(h[0],h[1],h[2],h[3]);case 5:return new l(h[0],h[1],h[2],h[3],h[4]);case 6:return new l(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new l(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var g=Qu(l.prototype),w=l.apply(g,h);return St(w)?w:g}}function fc(l){return function(h,g,w){var D=qt(h);if(!Di(h)){var T=lt(g,3);h=gi(h),g=function(L){return T(D[L],L,D)}}var R=l(h,g,w);return R>-1?D[T?h[R]:R]:x}}function Kd(l){return mr(function(h){var g=h.length,w=g,D=ts.prototype.thru;for(l&&h.reverse();w--;){var T=h[w];if("function"!=typeof T)throw new dr(W);if(D&&!R&&"wrapper"==mo(T))var R=new ts([],!0)}for(w=R?w:g;++w<g;){var L=mo(T=h[w]),G="wrapper"==L?fa(T):x;R=G&&Dc(G[0])&&424==G[1]&&!G[4].length&&1==G[9]?R[mo(G[0])].apply(R,G[3]):1==T.length&&Dc(T)?R[L]():R.thru(T)}return function(){var fe=arguments,pe=fe[0];if(R&&1==fe.length&&bt(pe))return R.plant(pe).value();for(var ve=0,Ne=g?h[ve].apply(this,fe):pe;++ve<g;)Ne=h[ve].call(this,Ne);return Ne}})}function Ja(l,h,g,w,D,T,R,L,G,fe){var pe=128&h,ve=1&h,Ne=2&h,Ge=24&h,Ye=512&h,Qe=Ne?x:su(l);return function Xe(){for(var Mt=arguments.length,mt=ee(Mt),Si=Mt;Si--;)mt[Si]=arguments[Si];if(Ge)var vn=us(Xe),Jn=um(mt,vn);if(w&&(mt=dc(mt,w,D,Ge)),T&&(mt=iu(mt,T,R,Ge)),Mt-=Jn,Ge&&Mt<fe){var tn=oo(mt,vn);return _c(l,h,Ja,Xe.placeholder,g,mt,tn,L,G,fe-Mt)}var li=ve?g:this,mi=Ne?li[l]:l;return Mt=mt.length,L?mt=ny(mt,L):Ye&&Mt>1&&mt.reverse(),pe&&G<Mt&&(mt.length=G),this&&this!==ni&&this instanceof Xe&&(mi=Qe||su(mi)),mi.apply(li,mt)}}function lp(l,h){return function(g,w){return function Fr(l,h,g,w){return gr(l,function(D,T,R){h(w,g(D),T,R)}),w}(g,l,h(w),{})}}function pc(l,h){return function(g,w){var D;if(g===x&&w===x)return h;if(g!==x&&(D=g),w!==x){if(D===x)return w;"string"==typeof g||"string"==typeof w?(g=pi(g),w=pi(w)):(g=zd(g),w=zd(w)),D=l(g,w)}return D}}function gc(l){return mr(function(h){return h=wn(h,En(lt())),xt(function(g){var w=this;return l(h,function(D){return ur(D,w,g)})})})}function Xa(l,h){var g=(h=h===x?" ":pi(h)).length;if(g<2)return g?qd(h,l):h;var w=qd(h,Ko(l/Xr(h)));return Na(h)?Ls(Or(w),0,l).join(""):w.slice(0,l)}function mc(l){return function(h,g,w){return w&&"number"!=typeof w&&Fi(h,g,w)&&(g=w=x),h=yr(h),g===x?(g=h,h=0):g=yr(g),function Xi(l,h,g,w){for(var D=-1,T=ri(Ko((h-l)/(g||1)),0),R=ee(T);T--;)R[w?T:++D]=l,l+=g;return R}(h,g,w=w===x?h<g?1:-1:yr(w),l)}}function ca(l){return function(h,g){return"string"==typeof h&&"string"==typeof g||(h=Gi(h),g=Gi(g)),l(h,g)}}function _c(l,h,g,w,D,T,R,L,G,fe){var pe=8&h;h|=pe?32:64,4&(h&=~(pe?64:32))||(h&=-4);var Qe=[l,h,D,pe?T:x,pe?R:x,pe?x:T,pe?x:R,L,G,fe],Xe=g.apply(x,Qe);return Dc(l)&&_a(Xe,Qe),Xe.placeholder=w,tl(Xe,l,h)}function ls(l){var h=bn[l];return function(g,w){if(g=Gi(g),(w=null==w?0:Kn(Dt(w),292))&&Rd(g)){var D=(It(g)+"e").split("e");return+((D=(It(h(D[0]+"e"+(+D[1]+w)))+"e").split("e"))[0]+"e"+(+D[1]-w))}return h(g)}}var Ns=co&&1/$u(new co([,-0]))[1]==Oe?function(l){return new co(l)}:So;function Yd(l){return function(h){var g=xn(h);return g==di?Ad(h):g==zt?function dm(j){var le=-1,ee=Array(j.size);return j.forEach(function(qe){ee[++le]=[qe,qe]}),ee}(h):function ju(j,le){return wn(le,function(ee){return[ee,j[ee]]})}(h,l(h))}}function Nr(l,h,g,w,D,T,R,L){var G=2&h;if(!G&&"function"!=typeof l)throw new dr(W);var fe=w?w.length:0;if(fe||(h&=-97,w=D=x),R=R===x?R:ri(Dt(R),0),L=L===x?L:Dt(L),fe-=D?D.length:0,64&h){var pe=w,ve=D;w=D=x}var Ne=G?x:fa(l),Ge=[l,h,g,w,D,pe,ve,T,R,L];if(Ne&&function cu(l,h){var g=l[1],w=h[1],D=g|w;if(!(D<131||(128==w&&8==g||128==w&&256==g&&l[7].length<=h[8]||384==w&&h[7].length<=h[8]&&8==g)))return l;1&w&&(l[2]=h[2],D|=1&g?0:4);var L=h[3];if(L){var G=l[3];l[3]=G?dc(G,L,h[4]):L,l[4]=G?oo(l[3],Q):h[4]}(L=h[5])&&(l[5]=(G=l[5])?iu(G,L,h[6]):L,l[6]=G?oo(l[5],Q):h[6]),(L=h[7])&&(l[7]=L),128&w&&(l[8]=null==l[8]?h[8]:Kn(l[8],h[8])),null==l[9]&&(l[9]=h[9]),l[0]=h[0],l[1]=D}(Ge,Ne),l=Ge[0],h=Ge[1],g=Ge[2],w=Ge[3],D=Ge[4],!(L=Ge[9]=Ge[9]===x?G?0:l.length:ri(Ge[9]-fe,0))&&24&h&&(h&=-25),h&&1!=h)Ye=8==h||16==h?function ap(l,h,g){var w=su(l);return function D(){for(var T=arguments.length,R=ee(T),L=T,G=us(D);L--;)R[L]=arguments[L];var fe=T<3&&R[0]!==G&&R[T-1]!==G?[]:oo(R,G);return(T-=fe.length)<g?_c(l,h,Ja,D.placeholder,x,R,fe,x,x,g-T):ur(this&&this!==ni&&this instanceof D?w:l,this,R)}}(l,h,L):32!=h&&33!=h||D.length?Ja.apply(x,Ge):function ua(l,h,g,w){var D=1&h,T=su(l);return function R(){for(var L=-1,G=arguments.length,fe=-1,pe=w.length,ve=ee(pe+G),Ne=this&&this!==ni&&this instanceof R?T:l;++fe<pe;)ve[fe]=w[fe];for(;G--;)ve[fe++]=arguments[++L];return ur(Ne,D?g:this,ve)}}(l,h,g,w);else var Ye=function Mm(l,h,g){var w=1&h,D=su(l);return function T(){return(this&&this!==ni&&this instanceof T?D:l).apply(w?g:this,arguments)}}(l,h,g);return tl((Ne?np:_a)(Ye,Ge),l,h)}function Qd(l,h,g,w){return l===x||ir(l,lo[g])&&!Xt.call(w,g)?h:l}function Vs(l,h,g,w,D,T){return St(l)&&St(h)&&(T.set(h,l),na(l,h,x,Vs,T),T.delete(h)),l}function vc(l){return Ea(l)?x:l}function Jd(l,h,g,w,D,T){var R=1&g,L=l.length,G=h.length;if(L!=G&&!(R&&G>L))return!1;var fe=T.get(l),pe=T.get(h);if(fe&&pe)return fe==h&&pe==l;var ve=-1,Ne=!0,Ge=2&g?new Yn:x;for(T.set(l,h),T.set(h,l);++ve<L;){var Ye=l[ve],Qe=h[ve];if(w)var Xe=R?w(Qe,Ye,ve,h,l,T):w(Ye,Qe,ve,l,h,T);if(Xe!==x){if(Xe)continue;Ne=!1;break}if(Ge){if(!Go(h,function(Mt,mt){if(!Ts(Ge,mt)&&(Ye===Mt||D(Ye,Mt,g,w,T)))return Ge.push(mt)})){Ne=!1;break}}else if(Ye!==Qe&&!D(Ye,Qe,g,w,T)){Ne=!1;break}}return T.delete(l),T.delete(h),Ne}function mr(l){return sh(xc(l,x,hu),l+"")}function el(l){return ea(l,gi,pa)}function ha(l){return ea(l,Mi,lu)}var fa=Qo?function(l){return Qo.get(l)}:So;function mo(l){for(var h=l.name+"",g=es[h],w=Xt.call(es,h)?g.length:0;w--;){var D=g[w],T=D.func;if(null==T||T==l)return D.name}return h}function us(l){return(Xt.call(S,"placeholder")?S:l).placeholder}function lt(){var l=S.iteratee||zc;return l=l===zc?Hd:l,arguments.length?l(arguments[0],arguments[1]):l}function yc(l,h){var g=l.__data__;return function bc(l){var h=typeof l;return"string"==h||"number"==h||"symbol"==h||"boolean"==h?"__proto__"!==l:null===l}(h)?g["string"==typeof h?"string":"hash"]:g.map}function au(l){for(var h=gi(l),g=h.length;g--;){var w=h[g],D=l[w];h[g]=[w,D,nr(D)]}return h}function Bs(l,h){var g=function xd(j,le){return null==j?x:j[le]}(l,h);return Bd(g)?g:x}var pa=Ku?function(l){return null==l?[]:(l=qt(l),Jr(Ku(l),function(h){return Id.call(l,h)}))}:fl,lu=Ku?function(l){for(var h=[];l;)so(h,pa(l)),l=Ba(l);return h}:fl,xn=at;function Xd(l,h,g){for(var w=-1,D=(h=er(h,l)).length,T=!1;++w<D;){var R=ji(h[w]);if(!(T=null!=l&&g(l,R)))break;l=l[R]}return T||++w!=D?T:!!(D=null==l?0:l.length)&&Gs(D)&&cs(R,D)&&(bt(l)||Hs(l))}function Ec(l){return"function"!=typeof l.constructor||ga(l)?{}:Qu(Ba(l))}function nh(l){return bt(l)||Hs(l)||!!(Uf&&l&&l[Uf])}function cs(l,h){var g=typeof l;return!!(h=h??ft)&&("number"==g||"symbol"!=g&&Xs.test(l))&&l>-1&&l%1==0&&l<h}function Fi(l,h,g){if(!St(g))return!1;var w=typeof h;return!!("number"==w?Di(g)&&cs(h,g.length):"string"==w&&h in g)&&ir(g[h],l)}function ih(l,h){if(bt(l))return!1;var g=typeof l;return!("number"!=g&&"symbol"!=g&&"boolean"!=g&&null!=l&&!$i(l))||Lu.test(l)||!Ho.test(l)||null!=h&&l in qt(h)}function Dc(l){var h=mo(l),g=S[h];if("function"!=typeof g||!(h in Lt.prototype))return!1;if(l===g)return!0;var w=fa(g);return!!w&&l===w[0]}(Yo&&xn(new Yo(new ArrayBuffer(1)))!=tt||ja&&xn(new ja)!=di||Rr&&xn(Rr.resolve())!=ze||co&&xn(new co)!=zt||Gl&&xn(new Gl)!=qn)&&(xn=function(l){var h=at(l),g=h==Kr?l.constructor:x,w=g?_o(g):"";if(w)switch(w){case ql:return tt;case Zl:return di;case jf:return ze;case $f:return zt;case zl:return qn}return h});var Tm=Zo?un:sr;function ga(l){var h=l&&l.constructor;return l===("function"==typeof h&&h.prototype||lo)}function nr(l){return l==l&&!St(l)}function rh(l,h){return function(g){return null!=g&&g[l]===h&&(h!==x||l in qt(g))}}function xc(l,h,g){return h=ri(h===x?l.length-1:h,0),function(){for(var w=arguments,D=-1,T=ri(w.length-h,0),R=ee(T);++D<T;)R[D]=w[h+D];D=-1;for(var L=ee(h+1);++D<h;)L[D]=w[D];return L[h]=g(R),ur(l,this,L)}}function Pm(l,h){return h.length<2?l:rs(l,wi(h,0,-1))}function ny(l,h){for(var g=l.length,w=Kn(h.length,g),D=tr(l);w--;){var T=h[w];l[w]=cs(T,g)?D[T]:x}return l}function ma(l,h){if(("constructor"!==h||"function"!=typeof l[h])&&"__proto__"!=h)return l[h]}var _a=nl(np),du=Wu||function(l,h){return ni.setTimeout(l,h)},sh=nl(wm);function tl(l,h,g){var w=h+"";return sh(l,function th(l,h){var g=h.length;if(!g)return l;var w=g-1;return h[w]=(g>1?"& ":"")+h[w],h=h.join(g>2?", ":" "),l.replace(vi,"{\n/* [wrapped with "+h+"] */\n")}(w,function up(l,h){return Ir(mn,function(g){var w="_."+g[0];h&g[1]&&!_t(l,w)&&l.push(w)}),l.sort()}(function wc(l){var h=l.match(Ve);return h?h[1].split(gt):[]}(w),g)))}function nl(l){var h=0,g=0;return function(){var w=Ha(),D=16-(w-g);if(g=w,D>0){if(++h>=800)return arguments[0]}else h=0;return l.apply(x,arguments)}}function il(l,h){var g=-1,w=l.length,D=w-1;for(h=h===x?w:h;++g<h;){var T=eu(g,D),R=l[T];l[T]=l[g],l[g]=R}return l.length=h,l}var ds=function _r(l){var h=vu(l,function(w){return 500===g.size&&g.clear(),w}),g=h.cache;return h}(function(l){var h=[];return 46===l.charCodeAt(0)&&h.push(""),l.replace(jt,function(g,w,D,T){h.push(D?T.replace(Ar,"$1"):w||g)}),h});function ji(l){if("string"==typeof l||$i(l))return l;var h=l+"";return"0"==h&&1/l==-Oe?"-0":h}function _o(l){if(null!=l){try{return Nl.call(l)}catch{}try{return l+""}catch{}}return""}function oh(l){if(l instanceof Lt)return l.clone();var h=new ts(l.__wrapped__,l.__chain__);return h.__actions__=tr(l.__actions__),h.__index__=l.__index__,h.__values__=l.__values__,h}var rl=xt(function(l,h){return fn(l)?Rn(l,ot(h,1,fn,!0)):[]}),vo=xt(function(l,h){var g=Li(h);return fn(g)&&(g=x),fn(l)?Rn(l,ot(h,1,fn,!0),lt(g,2)):[]}),ry=xt(function(l,h){var g=Li(h);return fn(g)&&(g=x),fn(l)?Rn(l,ot(h,1,fn,!0),x,g):[]});function hp(l,h,g){var w=null==l?0:l.length;if(!w)return-1;var D=null==g?0:Dt(g);return D<0&&(D=ri(w+D,0)),Uu(l,lt(h,3),D)}function ah(l,h,g){var w=null==l?0:l.length;if(!w)return-1;var D=w-1;return g!==x&&(D=Dt(g),D=g<0?ri(w+D,0):Kn(D,w-1)),Uu(l,lt(h,3),D,!0)}function hu(l){return null!=l&&l.length?ot(l,1):[]}function Mn(l){return l&&l.length?l[0]:x}var ch=xt(function(l){var h=wn(l,uc);return h.length&&h[0]===l[0]?Jf(h):[]}),pp=xt(function(l){var h=Li(l),g=wn(l,uc);return h===Li(g)?h=x:g.pop(),g.length&&g[0]===l[0]?Jf(g,lt(h,2)):[]}),Lm=xt(function(l){var h=Li(l),g=wn(l,uc);return(h="function"==typeof h?h:x)&&g.pop(),g.length&&g[0]===l[0]?Jf(g,x,h):[]});function Li(l){var h=null==l?0:l.length;return h?l[h-1]:x}var dh=xt(Sc);function Sc(l,h){return l&&l.length&&h&&h.length?ra(l,h):l}var hh=mr(function(l,h){var g=null==l?0:l.length,w=Ga(l,h);return sa(l,wn(h,function(D){return cs(D,g)?+D:D}).sort(cc)),w});function Tc(l){return null==l?l:gm.call(l)}var Pc=xt(function(l){return an(ot(l,1,fn,!0))}),fu=xt(function(l){var h=Li(l);return fn(h)&&(h=x),an(ot(l,1,fn,!0),lt(h,2))}),yo=xt(function(l){var h=Li(l);return h="function"==typeof h?h:x,an(ot(l,1,fn,!0),x,h)});function mh(l){if(!l||!l.length)return[];var h=0;return l=Jr(l,function(g){if(fn(g))return h=ri(g.length,h),!0}),Rf(h,function(g){return wn(l,cr(g))})}function _h(l,h){if(!l||!l.length)return[];var g=mh(l);return null==h?g:wn(g,function(w){return ur(h,x,w)})}var al=xt(function(l,h){return fn(l)?Rn(l,h):[]}),jm=xt(function(l){return lc(Jr(l,fn))}),bp=xt(function(l){var h=Li(l);return fn(h)&&(h=x),lc(Jr(l,fn),lt(h,2))}),vh=xt(function(l){var h=Li(l);return h="function"==typeof h?h:x,lc(Jr(l,fn),x,h)}),Dp=xt(mh),xp=xt(function(l){var h=l.length,g=h>1?l[h-1]:x;return g="function"==typeof g?(l.pop(),g):x,_h(l,g)});function Mp(l){var h=S(l);return h.__chain__=!0,h}function yh(l,h){return h(l)}var kc=mr(function(l){var h=l.length,g=h?l[0]:0,w=this.__wrapped__,D=function(T){return Ga(T,l)};return!(h>1||this.__actions__.length)&&w instanceof Lt&&cs(g)?((w=w.slice(g,+g+(h?1:0))).__actions__.push({func:yh,args:[D],thisArg:x}),new ts(w,this.__chain__).thru(function(T){return h&&!T.length&&T.push(x),T})):this.thru(D)}),Gm=Ya(function(l,h,g){Xt.call(l,g)?++l[g]:hn(l,g,1)}),Tp=fc(hp),Ip=fc(ah);function wo(l,h){return(bt(l)?Ir:kt)(l,lt(h,3))}function Eo(l,h){return(bt(l)?ro:ks)(l,lt(h,3))}var zm=Ya(function(l,h,g){Xt.call(l,g)?l[g].push(h):hn(l,g,[h])}),Pp=xt(function(l,h,g){var w=-1,D="function"==typeof h,T=Di(l)?ee(l.length):[];return kt(l,function(R){T[++w]=D?ur(h,R,g):Za(R,h,g)}),T}),ly=Ya(function(l,h,g){hn(l,g,h)});function Fc(l,h){return(bt(l)?wn:rc)(l,lt(h,3))}var bh=Ya(function(l,h,g){l[g?0:1].push(h)},function(){return[[],[]]}),Dh=xt(function(l,h){if(null==l)return[];var g=h.length;return g>1&&Fi(l,h[0],h[1])?h=[]:g>2&&Fi(h[0],h[1],h[2])&&(h=[h[0]]),Cm(l,ot(h,1),[])}),mu=Od||function(){return ni.Date.now()};function Np(l,h,g){return h=g?x:h,Nr(l,128,x,x,x,x,h=l&&null==h?l.length:h)}function xh(l,h){var g;if("function"!=typeof h)throw new dr(W);return l=Dt(l),function(){return--l>0&&(g=h.apply(this,arguments)),l<=1&&(h=x),g}}var Lc=xt(function(l,h,g){var w=1;if(g.length){var D=oo(g,us(Lc));w|=32}return Nr(l,w,h,g,D)}),Vp=xt(function(l,h,g){var w=3;if(g.length){var D=oo(g,us(Vp));w|=32}return Nr(h,w,l,g,D)});function Bp(l,h,g){var w,D,T,R,L,G,fe=0,pe=!1,ve=!1,Ne=!0;if("function"!=typeof l)throw new dr(W);function Ge(tn){var li=w,mi=D;return w=D=x,fe=tn,R=l.apply(mi,li)}function Ye(tn){return fe=tn,L=du(Mt,h),pe?Ge(tn):R}function Xe(tn){var li=tn-G;return G===x||li>=h||li<0||ve&&tn-fe>=T}function Mt(){var tn=mu();if(Xe(tn))return mt(tn);L=du(Mt,function Qe(tn){var Io=h-(tn-G);return ve?Kn(Io,T-(tn-fe)):Io}(tn))}function mt(tn){return L=x,Ne&&w?Ge(tn):(w=D=x,R)}function Jn(){var tn=mu(),li=Xe(tn);if(w=arguments,D=this,G=tn,li){if(L===x)return Ye(G);if(ve)return tu(L),L=du(Mt,h),Ge(G)}return L===x&&(L=du(Mt,h)),R}return h=Gi(h)||0,St(g)&&(pe=!!g.leading,T=(ve="maxWait"in g)?ri(Gi(g.maxWait)||0,h):T,Ne="trailing"in g?!!g.trailing:Ne),Jn.cancel=function Si(){L!==x&&tu(L),fe=0,w=G=D=L=x},Jn.flush=function vn(){return L===x?R:mt(mu())},Jn}var Up=xt(function(l,h){return Jo(l,1,h)}),Qm=xt(function(l,h,g){return Jo(l,Gi(h)||0,g)});function vu(l,h){if("function"!=typeof l||null!=h&&"function"!=typeof h)throw new dr(W);var g=function(){var w=arguments,D=h?h.apply(this,w):w[0],T=g.cache;if(T.has(D))return T.get(D);var R=l.apply(this,w);return g.cache=T.set(D,R)||T,R};return g.cache=new(vu.Cache||ns),g}function yu(l){if("function"!=typeof l)throw new dr(W);return function(){var h=arguments;switch(h.length){case 0:return!l.call(this);case 1:return!l.call(this,h[0]);case 2:return!l.call(this,h[0],h[1]);case 3:return!l.call(this,h[0],h[1],h[2])}return!l.apply(this,h)}}vu.Cache=ns;var e_=Wa(function(l,h){var g=(h=1==h.length&&bt(h[0])?wn(h[0],En(lt())):wn(ot(h,1),En(lt()))).length;return xt(function(w){for(var D=-1,T=Kn(w.length,g);++D<T;)w[D]=h[D].call(this,w[D]);return ur(l,this,w)})}),Mh=xt(function(l,h){var g=oo(h,us(Mh));return Nr(l,32,x,h,g)}),Et=xt(function(l,h){var g=oo(h,us(Et));return Nr(l,64,x,h,g)}),Ah=mr(function(l,h){return Nr(l,256,x,x,x,h)});function ir(l,h){return l===h||l!=l&&h!=h}var wa=ca(ta),r_=ca(function(l,h){return l>=h}),Hs=Xf(function(){return arguments}())?Xf:function(l){return At(l)&&Xt.call(l,"callee")&&!Id.call(l,"callee")},bt=ee.isArray,s_=ka?En(ka):function ep(l){return At(l)&&at(l)==st};function Di(l){return null!=l&&Gs(l.length)&&!un(l)}function fn(l){return At(l)&&Di(l)}var js=Pd||sr,Nc=Bi?En(Bi):function Xv(l){return At(l)&&at(l)==Wr};function rr(l){if(!At(l))return!1;var h=at(l);return h==Fo||"[object DOMException]"==h||"string"==typeof l.message&&"string"==typeof l.name&&!Ea(l)}function un(l){if(!St(l))return!1;var h=at(l);return h==Lo||h==No||"[object AsyncFunction]"==h||"[object Proxy]"==h}function Vc(l){return"number"==typeof l&&l==Dt(l)}function Gs(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=ft}function St(l){var h=typeof l;return null!=l&&("object"==h||"function"==h)}function At(l){return null!=l&&"object"==typeof l}var Cu=im?En(im):function nc(l){return At(l)&&xn(l)==di};function l_(l){return"number"==typeof l||At(l)&&at(l)==br}function Ea(l){if(!At(l)||at(l)!=Kr)return!1;var h=Ba(l);if(null===h)return!0;var g=Xt.call(h,"constructor")&&h.constructor;return"function"==typeof g&&g instanceof g&&Nl.call(g)==Td}var Wp=Pl?En(Pl):function ym(l){return At(l)&&at(l)==Qs},bo=Fa?En(Fa):function Ud(l){return At(l)&&xn(l)==zt};function ae(l){return"string"==typeof l||!bt(l)&&At(l)&&at(l)==Js}function $i(l){return"symbol"==typeof l||At(l)&&at(l)==Cs}var Zs=Gt?En(Gt):function ey(l){return At(l)&&Gs(l.length)&&!!Jt[at(l)]},Ur=ca($d),fs=ca(function(l,h){return l<=h});function Bc(l){if(!l)return[];if(Di(l))return ae(l)?Or(l):tr(l);if(Ua&&l[Ua])return function cm(j){for(var le,ee=[];!(le=j.next()).done;)ee.push(le.value);return ee}(l[Ua]());var h=xn(l);return(h==di?Ad:h==zt?$u:Ks)(l)}function yr(l){return l?(l=Gi(l))===Oe||l===-Oe?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function Dt(l){var h=yr(l),g=h%1;return h==h?g?h-g:h:0}function u_(l){return l?fr(Dt(l),0,ke):0}function Gi(l){if("number"==typeof l)return l;if($i(l))return NaN;if(St(l)){var h="function"==typeof l.valueOf?l.valueOf():l;l=St(h)?h+"":h}if("string"!=typeof l)return 0===l?l:+l;l=Vn(l);var g=jo.test(l);return g||wt.test(l)?lr(l.slice(2),g?2:8):sn.test(l)?NaN:+l}function Oh(l){return Ei(l,Mi(l))}function It(l){return null==l?"":pi(l)}var wu=Hi(function(l,h){if(ga(h)||Di(h))Ei(h,gi(h),l);else for(var g in h)Xt.call(h,g)&&Ps(l,g,h[g])}),Eu=Hi(function(l,h){Ei(h,Mi(h),l)}),dl=Hi(function(l,h,g,w){Ei(h,Mi(h),l,w)}),Kp=Hi(function(l,h,g,w){Ei(h,gi(h),l,w)}),Ph=mr(Ga),Uc=xt(function(l,h){l=qt(l);var g=-1,w=h.length,D=w>2?h[2]:x;for(D&&Fi(h[0],h[1],D)&&(w=1);++g<w;)for(var T=h[g],R=Mi(T),L=-1,G=R.length;++L<G;){var fe=R[L],pe=l[fe];(pe===x||ir(pe,lo[fe])&&!Xt.call(l,fe))&&(l[fe]=T[fe])}return l}),Yp=xt(function(l){return l.push(x,Vs),ur(bu,x,l)});function An(l,h,g){var w=null==l?x:rs(l,h);return w===x?g:w}function eg(l,h){return null!=l&&Xd(l,h,ss)}var hy=lp(function(l,h,g){null!=h&&"function"!=typeof h.toString&&(h=Vl.call(h)),l[h]=g},$n(Ai)),fy=lp(function(l,h,g){null!=h&&"function"!=typeof h.toString&&(h=Vl.call(h)),Xt.call(l,h)?l[h].push(g):l[h]=[g]},lt),py=xt(Za);function gi(l){return Di(l)?$a(l):jd(l)}function Mi(l){return Di(l)?$a(l,!0):function ic(l){if(!St(l))return function Im(l){var h=[];if(null!=l)for(var g in qt(l))h.push(g);return h}(l);var h=ga(l),g=[];for(var w in l)"constructor"==w&&(h||!Xt.call(l,w))||g.push(w);return g}(l)}var jn=Hi(function(l,h,g){na(l,h,g)}),bu=Hi(function(l,h,g,w){na(l,h,g,w)}),h_=mr(function(l,h){var g={};if(null==l)return g;var w=!1;h=wn(h,function(T){return T=er(T,l),w||(w=T.length>1),T}),Ei(l,ha(l),g),w&&(g=Ht(g,7,vc));for(var D=h.length;D--;)oa(g,h[D]);return g}),jc=mr(function(l,h){return null==l?{}:function tp(l,h){return Xl(l,h,function(g,w){return eg(l,w)})}(l,h)});function $c(l,h){if(null==l)return{};var g=wn(ha(l),function(w){return[w]});return h=lt(h),Xl(l,g,function(w,D){return h(w,D[0])})}var Hr=Yd(gi),Ws=Yd(Mi);function Ks(l){return null==l?[]:kl(l,gi(l))}var qc=Qa(function(l,h,g){return h=h.toLowerCase(),l+(g?Lh(h):h)});function Lh(l){return Gh(It(l).toLowerCase())}function Nh(l){return(l=It(l))&&l.replace(Qr,Yv).replace(Wv,"")}var Uh=Qa(function(l,h,g){return l+(g?"-":"")+h.toLowerCase()}),__=Qa(function(l,h,g){return l+(g?" ":"")+h.toLowerCase()}),gy=op("toLowerCase"),qi=Qa(function(l,h,g){return l+(g?"_":"")+h.toLowerCase()}),sg=Qa(function(l,h,g){return l+(g?" ":"")+Gh(h)}),hg=Qa(function(l,h,g){return l+(g?" ":"")+h.toUpperCase()}),Gh=op("toUpperCase");function fg(l,h,g){return l=It(l),(h=g?x:h)===x?function Md(j){return Jg.test(j)}(l)?function hm(j){return j.match(Kv)||[]}(l):function we(j){return j.match(rn)||[]}(l):l.match(h)||[]}var Du=xt(function(l,h){try{return ur(l,x,h)}catch(g){return rr(g)?g:new dt(g)}}),pg=mr(function(l,h){return Ir(h,function(g){g=ji(g),hn(l,g,Lc(l[g],l))}),l});function $n(l){return function(){return l}}var C_=Kd(),DC=Kd(!0);function Ai(l){return l}function zc(l){return Hd("function"==typeof l?l:Ht(l,1))}var Wc=xt(function(l,h){return function(g){return Za(g,l,h)}}),_g=xt(function(l,h){return function(g){return Za(l,g,h)}});function Kc(l,h,g){var w=gi(h),D=fo(h,w);null==g&&(!St(h)||!D.length&&w.length)&&(g=h,h=l,l=this,D=fo(h,gi(h)));var T=!(St(g)&&"chain"in g&&!g.chain),R=un(l);return Ir(D,function(L){var G=h[L];l[L]=G,R&&(l.prototype[L]=function(){var fe=this.__chain__;if(T||fe){var pe=l(this.__wrapped__),ve=pe.__actions__=tr(this.__actions__);return ve.push({func:G,args:arguments,thisArg:l}),pe.__chain__=fe,pe}return G.apply(l,so([this.value()],arguments))})}),l}function So(){}var w_=gc(wn),Yc=gc(yd),E_=gc(Go);function qh(l){return ih(l)?cr(ji(l)):function Gd(l){return function(h){return rs(h,l)}}(l)}var zh=mc(),Qc=mc(!0);function fl(){return[]}function sr(){return!1}var vg=pc(function(l,h){return l+h},0),yg=ls("ceil"),Qn=pc(function(l,h){return l/h},1),To=ls("floor"),Tu=pc(function(l,h){return l*h},1),Qh=ls("round"),Jh=pc(function(l,h){return l-h},0);return S.after=function Lp(l,h){if("function"!=typeof h)throw new dr(W);return l=Dt(l),function(){if(--l<1)return h.apply(this,arguments)}},S.ary=Np,S.assign=wu,S.assignIn=Eu,S.assignInWith=dl,S.assignWith=Kp,S.at=Ph,S.before=xh,S.bind=Lc,S.bindAll=pg,S.bindKey=Vp,S.castArray=function bi(){if(!arguments.length)return[];var l=arguments[0];return bt(l)?l:[l]},S.chain=Mp,S.chunk=function EC(l,h,g){h=(g?Fi(l,h,g):h===x)?1:ri(Dt(h),0);var w=null==l?0:l.length;if(!w||h<1)return[];for(var D=0,T=0,R=ee(Ko(w/h));D<w;)R[T++]=wi(l,D,D+=h);return R},S.compact=function iy(l){for(var h=-1,g=null==l?0:l.length,w=0,D=[];++h<g;){var T=l[h];T&&(D[w++]=T)}return D},S.concat=function cp(){var l=arguments.length;if(!l)return[];for(var h=ee(l-1),g=arguments[0],w=l;w--;)h[w-1]=arguments[w];return so(bt(g)?tr(g):[g],ot(h,1))},S.cond=function Mo(l){var h=null==l?0:l.length,g=lt();return l=h?wn(l,function(w){if("function"!=typeof w[1])throw new dr(W);return[g(w[0]),w[1]]}):[],xt(function(w){for(var D=-1;++D<h;){var T=l[D];if(ur(T[0],this,w))return ur(T[1],this,w)}})},S.conforms=function $r(l){return function ln(l){var h=gi(l);return function(g){return on(g,l,h)}}(Ht(l,1))},S.constant=$n,S.countBy=Gm,S.create=function Rh(l,h){var g=Qu(l);return null==h?g:oi(g,h)},S.curry=function Vr(l,h,g){var w=Nr(l,8,x,x,x,x,x,h=g?x:h);return w.placeholder=Vr.placeholder,w},S.curryRight=function _u(l,h,g){var w=Nr(l,16,x,x,x,x,x,h=g?x:h);return w.placeholder=_u.placeholder,w},S.debounce=Bp,S.defaults=Uc,S.defaultsDeep=Yp,S.defer=Up,S.delay=Qm,S.difference=rl,S.differenceBy=vo,S.differenceWith=ry,S.drop=function sy(l,h,g){var w=null==l?0:l.length;return w?wi(l,(h=g||h===x?1:Dt(h))<0?0:h,w):[]},S.dropRight=function dp(l,h,g){var w=null==l?0:l.length;return w?wi(l,0,(h=w-(h=g||h===x?1:Dt(h)))<0?0:h):[]},S.dropRightWhile=function Rm(l,h){return l&&l.length?za(l,lt(h,3),!0,!0):[]},S.dropWhile=function km(l,h){return l&&l.length?za(l,lt(h,3),!0):[]},S.fill=function Fm(l,h,g,w){var D=null==l?0:l.length;return D?(g&&"number"!=typeof g&&Fi(l,h,g)&&(g=0,w=D),function ai(l,h,g,w){var D=l.length;for((g=Dt(g))<0&&(g=-g>D?0:D+g),(w=w===x||w>D?D:Dt(w))<0&&(w+=D),w=g>w?0:u_(w);g<w;)l[g++]=h;return l}(l,h,g,w)):[]},S.filter=function Zm(l,h){return(bt(l)?Jr:pr)(l,lt(h,3))},S.flatMap=function Un(l,h){return ot(Fc(l,h),1)},S.flatMapDeep=function Eh(l,h){return ot(Fc(l,h),Oe)},S.flatMapDepth=function Op(l,h,g){return g=g===x?1:Dt(g),ot(Fc(l,h),g)},S.flatten=hu,S.flattenDeep=function fp(l){return null!=l&&l.length?ot(l,Oe):[]},S.flattenDepth=function lh(l,h){return null!=l&&l.length?ot(l,h=h===x?1:Dt(h)):[]},S.flip=function Jm(l){return Nr(l,512)},S.flow=C_,S.flowRight=DC,S.fromPairs=function uh(l){for(var h=-1,g=null==l?0:l.length,w={};++h<g;){var D=l[h];w[D[0]]=D[1]}return w},S.functions=function d_(l){return null==l?[]:fo(l,gi(l))},S.functionsIn=function Hc(l){return null==l?[]:fo(l,Mi(l))},S.groupBy=zm,S.initial=function Ac(l){return null!=l&&l.length?wi(l,0,-1):[]},S.intersection=ch,S.intersectionBy=pp,S.intersectionWith=Lm,S.invert=hy,S.invertBy=fy,S.invokeMap=Pp,S.iteratee=zc,S.keyBy=ly,S.keys=gi,S.keysIn=Mi,S.map=Fc,S.mapKeys=function tg(l,h){var g={};return h=lt(h,3),gr(l,function(w,D,T){hn(g,h(w,D,T),w)}),g},S.mapValues=function bC(l,h){var g={};return h=lt(h,3),gr(l,function(w,D,T){hn(g,D,h(w,D,T))}),g},S.matches=function gg(l){return os(Ht(l,1))},S.matchesProperty=function mg(l,h){return Tt(l,Ht(h,1))},S.memoize=vu,S.merge=jn,S.mergeWith=bu,S.method=Wc,S.methodOf=_g,S.mixin=Kc,S.negate=yu,S.nthArg=function Mu(l){return l=Dt(l),xt(function(h){return ia(h,l)})},S.omit=h_,S.omitBy=function Fh(l,h){return $c(l,yu(lt(h)))},S.once=function Xm(l){return xh(2,l)},S.orderBy=function Rp(l,h,g,w){return null==l?[]:(bt(h)||(h=null==h?[]:[h]),bt(g=w?x:g)||(g=null==g?[]:[g]),Cm(l,h,g))},S.over=w_,S.overArgs=e_,S.overEvery=Yc,S.overSome=E_,S.partial=Mh,S.partialRight=Et,S.partition=bh,S.pick=jc,S.pickBy=$c,S.property=qh,S.propertyOf=function Zh(l){return function(h){return null==l?x:rs(l,h)}},S.pull=dh,S.pullAll=Sc,S.pullAllBy=function sl(l,h,g){return l&&l.length&&h&&h.length?ra(l,h,lt(g,2)):l},S.pullAllWith=function va(l,h,g){return l&&l.length&&h&&h.length?ra(l,h,x,g):l},S.pullAt=hh,S.range=zh,S.rangeRight=Qc,S.rearg=Ah,S.reject=function uy(l,h){return(bt(l)?Jr:pr)(l,yu(lt(h,3)))},S.remove=function _p(l,h){var g=[];if(!l||!l.length)return g;var w=-1,D=[],T=l.length;for(h=lt(h,3);++w<T;){var R=l[w];h(R,w,l)&&(g.push(R),D.push(w))}return sa(l,D),g},S.rest=function Hp(l,h){if("function"!=typeof l)throw new dr(W);return xt(l,h=h===x?h:Dt(h))},S.reverse=Tc,S.sampleSize=function gu(l,h,g){return h=(g?Fi(l,h,g):h===x)?1:Dt(h),(bt(l)?Ql:Zd)(l,h)},S.set=function f_(l,h,g){return null==l?l:po(l,h,g)},S.setWith=function zs(l,h,g,w){return w="function"==typeof w?w:x,null==l?l:po(l,h,g,w)},S.shuffle=function Fp(l){return(bt(l)?is:Em)(l)},S.slice=function Vm(l,h,g){var w=null==l?0:l.length;return w?(g&&"number"!=typeof g&&Fi(l,h,g)?(h=0,g=w):(h=null==h?0:Dt(h),g=g===x?w:Dt(g)),wi(l,h,g)):[]},S.sortBy=Dh,S.sortedUniq=function Cp(l){return l&&l.length?ac(l):[]},S.sortedUniqBy=function wp(l,h){return l&&l.length?ac(l,lt(h,2)):[]},S.split=function Zc(l,h,g){return g&&"number"!=typeof g&&Fi(l,h,g)&&(h=g=x),(g=g===x?ke:g>>>0)?(l=It(l))&&("string"==typeof h||null!=h&&!Wp(h))&&!(h=pi(h))&&Na(l)?Ls(Or(l),0,g):l.split(h,g):[]},S.spread=function t_(l,h){if("function"!=typeof l)throw new dr(W);return h=null==h?0:ri(Dt(h),0),xt(function(g){var w=g[h],D=Ls(g,0,h);return w&&so(D,w),ur(l,this,D)})},S.tail=function ya(l){var h=null==l?0:l.length;return h?wi(l,1,h):[]},S.take=function Um(l,h,g){return l&&l.length?wi(l,0,(h=g||h===x?1:Dt(h))<0?0:h):[]},S.takeRight=function Ic(l,h,g){var w=null==l?0:l.length;return w?wi(l,(h=w-(h=g||h===x?1:Dt(h)))<0?0:h,w):[]},S.takeRightWhile=function Oc(l,h){return l&&l.length?za(l,lt(h,3),!1,!0):[]},S.takeWhile=function Ep(l,h){return l&&l.length?za(l,lt(h,3)):[]},S.tap=function Ap(l,h){return h(l),l},S.throttle=function hs(l,h,g){var w=!0,D=!0;if("function"!=typeof l)throw new dr(W);return St(g)&&(w="leading"in g?!!g.leading:w,D="trailing"in g?!!g.trailing:D),Bp(l,h,{leading:w,maxWait:h,trailing:D})},S.thru=yh,S.toArray=Bc,S.toPairs=Hr,S.toPairsIn=Ws,S.toPath=function gl(l){return bt(l)?wn(l,ji):$i(l)?[l]:tr(ds(It(l)))},S.toPlainObject=Oh,S.transform=function p_(l,h,g){var w=bt(l),D=w||js(l)||Zs(l);if(h=lt(h,4),null==g){var T=l&&l.constructor;g=D?w?new T:[]:St(l)&&un(T)?Qu(Ba(l)):{}}return(D?Ir:gr)(l,function(R,L,G){return h(g,R,L,G)}),g},S.unary=function Us(l){return Np(l,1)},S.union=Pc,S.unionBy=fu,S.unionWith=yo,S.uniq=function ph(l){return l&&l.length?an(l):[]},S.uniqBy=function gh(l,h){return l&&l.length?an(l,lt(h,2)):[]},S.uniqWith=function Hm(l,h){return h="function"==typeof h?h:x,l&&l.length?an(l,x,h):[]},S.unset=function ng(l,h){return null==l||oa(l,h)},S.unzip=mh,S.unzipWith=_h,S.update=function g_(l,h,g){return null==l?l:Fs(l,h,aa(g))},S.updateWith=function m_(l,h,g,w){return w="function"==typeof w?w:x,null==l?l:Fs(l,h,aa(g),w)},S.values=Ks,S.valuesIn=function hl(l){return null==l?[]:kl(l,Mi(l))},S.without=al,S.words=fg,S.wrap=function jp(l,h){return Mh(aa(h),l)},S.xor=jm,S.xorBy=bp,S.xorWith=vh,S.zip=Dp,S.zipObject=function Rc(l,h){return ip(l||[],h||[],Ps)},S.zipObjectDeep=function ay(l,h){return ip(l||[],h||[],po)},S.zipWith=xp,S.entries=Hr,S.entriesIn=Ws,S.extend=Eu,S.extendWith=dl,Kc(S,S),S.add=vg,S.attempt=Du,S.camelCase=qc,S.capitalize=Lh,S.ceil=yg,S.clamp=function Da(l,h,g){return g===x&&(g=h,h=x),g!==x&&(g=(g=Gi(g))==g?g:0),h!==x&&(h=(h=Gi(h))==h?h:0),fr(Gi(l),h,g)},S.clone=function $p(l){return Ht(l,4)},S.cloneDeep=function i_(l){return Ht(l,5)},S.cloneDeepWith=function cy(l,h){return Ht(l,5,h="function"==typeof h?h:x)},S.cloneWith=function n_(l,h){return Ht(l,4,h="function"==typeof h?h:x)},S.conformsTo=function Hn(l,h){return null==h||on(l,h,gi(h))},S.deburr=Nh,S.defaultTo=function Ao(l,h){return null==l||l!=l?h:l},S.divide=Qn,S.endsWith=function Vh(l,h,g){l=It(l),h=pi(h);var w=l.length,D=g=g===x?w:fr(Dt(g),0,w);return(g-=h.length)>=0&&l.slice(g,D)==h},S.eq=ir,S.escape=function Bh(l){return(l=It(l))&&Ia.test(l)?l.replace(Uo,Qv):l},S.escapeRegExp=function ig(l){return(l=It(l))&&Zn.test(l)?l.replace(Tn,"\\$&"):l},S.every=function qm(l,h,g){var w=bt(l)?yd:Qf;return g&&Fi(l,h,g)&&(h=x),w(l,lt(h,3))},S.find=Tp,S.findIndex=hp,S.findKey=function kh(l,h){return Rt(l,lt(h,3),gr)},S.findLast=Ip,S.findLastIndex=ah,S.findLastKey=function c_(l,h){return Rt(l,lt(h,3),Jl)},S.floor=To,S.forEach=wo,S.forEachRight=Eo,S.forIn=function Qp(l,h){return null==l?l:Dn(l,lt(h,3),Mi)},S.forInRight=function dy(l,h){return null==l?l:Xo(l,lt(h,3),Mi)},S.forOwn=function Jp(l,h){return l&&gr(l,lt(h,3))},S.forOwnRight=function Xp(l,h){return l&&Jl(l,lt(h,3))},S.get=An,S.gt=wa,S.gte=r_,S.has=function ba(l,h){return null!=l&&Xd(l,h,qa)},S.hasIn=eg,S.head=Mn,S.identity=Ai,S.includes=function Wm(l,h,g,w){l=Di(l)?l:Ks(l),g=g&&!w?Dt(g):0;var D=l.length;return g<0&&(g=ri(D+g,0)),ae(l)?g<=D&&l.indexOf(h,g)>-1:!!D&&qo(l,h,g)>-1},S.indexOf=function Mc(l,h,g){var w=null==l?0:l.length;if(!w)return-1;var D=null==g?0:Dt(g);return D<0&&(D=ri(w+D,0)),qo(l,h,D)},S.inRange=function Do(l,h,g){return h=yr(h),g===x?(g=h,h=0):g=yr(g),function vm(l,h,g){return l>=Kn(h,g)&&l<ri(h,g)}(l=Gi(l),h,g)},S.invoke=py,S.isArguments=Hs,S.isArray=bt,S.isArrayBuffer=s_,S.isArrayLike=Di,S.isArrayLikeObject=fn,S.isBoolean=function Gp(l){return!0===l||!1===l||At(l)&&at(l)==Ki},S.isBuffer=js,S.isDate=Nc,S.isElement=function $s(l){return At(l)&&1===l.nodeType&&!Ea(l)},S.isEmpty=function o_(l){if(null==l)return!0;if(Di(l)&&(bt(l)||"string"==typeof l||"function"==typeof l.splice||js(l)||Zs(l)||Hs(l)))return!l.length;var h=xn(l);if(h==di||h==zt)return!l.size;if(ga(l))return!jd(l).length;for(var g in l)if(Xt.call(l,g))return!1;return!0},S.isEqual=function ul(l,h){return kn(l,h)},S.isEqualWith=function qp(l,h,g){var w=(g="function"==typeof g?g:x)?g(l,h):x;return w===x?kn(l,h,x,g):!!w},S.isError=rr,S.isFinite=function xi(l){return"number"==typeof l&&Rd(l)},S.isFunction=un,S.isInteger=Vc,S.isLength=Gs,S.isMap=Cu,S.isMatch=function qs(l,h){return l===h||Vd(l,h,au(h))},S.isMatchWith=function Sh(l,h,g){return g="function"==typeof g?g:x,Vd(l,h,au(h),g)},S.isNaN=function a_(l){return l_(l)&&l!=+l},S.isNative=function Zp(l){if(Tm(l))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Bd(l)},S.isNil=function Th(l){return null==l},S.isNull=function zp(l){return null===l},S.isNumber=l_,S.isObject=St,S.isObjectLike=At,S.isPlainObject=Ea,S.isRegExp=Wp,S.isSafeInteger=function Ih(l){return Vc(l)&&l>=-ft&&l<=ft},S.isSet=bo,S.isString=ae,S.isSymbol=$i,S.isTypedArray=Zs,S.isUndefined=function Br(l){return l===x},S.isWeakMap=function ut(l){return At(l)&&xn(l)==qn},S.isWeakSet=function pn(l){return At(l)&&"[object WeakSet]"==at(l)},S.join=function Nm(l,h){return null==l?"":fm.call(l,h)},S.kebabCase=Uh,S.last=Li,S.lastIndexOf=function gp(l,h,g){var w=null==l?0:l.length;if(!w)return-1;var D=w;return g!==x&&(D=(D=Dt(g))<0?ri(w+D,0):Kn(D,w-1)),h==h?function Fl(j,le,ee){for(var qe=ee+1;qe--;)if(j[qe]===le)return qe;return qe}(l,h,D):Uu(l,Ed,D,!0)},S.lowerCase=__,S.lowerFirst=gy,S.lt=Ur,S.lte=fs,S.max=function b_(l){return l&&l.length?tc(l,Ai,ta):x},S.maxBy=function my(l,h){return l&&l.length?tc(l,lt(h,2),ta):x},S.mean=function xC(l){return Rl(l,Ai)},S.meanBy=function D_(l,h){return Rl(l,lt(h,2))},S.min=function x_(l){return l&&l.length?tc(l,Ai,$d):x},S.minBy=function Yh(l,h){return l&&l.length?tc(l,lt(h,2),$d):x},S.stubArray=fl,S.stubFalse=sr,S.stubObject=function Au(){return{}},S.stubString=function Su(){return""},S.stubTrue=function pl(){return!0},S.multiply=Tu,S.nth=function mp(l,h){return l&&l.length?ia(l,Dt(h)):x},S.noConflict=function xu(){return ni._===this&&(ni._=Bl),this},S.noop=So,S.now=mu,S.pad=function v_(l,h,g){l=It(l);var w=(h=Dt(h))?Xr(l):0;if(!h||w>=h)return l;var D=(h-w)/2;return Xa(uo(D),g)+l+Xa(Ko(D),g)},S.padEnd=function rg(l,h,g){l=It(l);var w=(h=Dt(h))?Xr(l):0;return h&&w<h?l+Xa(h-w,g):l},S.padStart=function y_(l,h,g){l=It(l);var w=(h=Dt(h))?Xr(l):0;return h&&w<h?Xa(h-w,g)+l:l},S.parseInt=function Hh(l,h,g){return g||null==h?h=0:h&&(h=+h),pm(It(l).replace(Mr,""),h||0)},S.random=function Cr(l,h,g){if(g&&"boolean"!=typeof g&&Fi(l,h,g)&&(h=g=x),g===x&&("boolean"==typeof h?(g=h,h=x):"boolean"==typeof l&&(g=l,l=x)),l===x&&h===x?(l=0,h=1):(l=yr(l),h===x?(h=l,l=0):h=yr(h)),l>h){var w=l;l=h,h=w}if(g||l%1||h%1){var D=kd();return Kn(l+D*(h-l+em("1e-"+((D+"").length-1))),h)}return eu(l,h)},S.reduce=function Ca(l,h,g){var w=bt(l)?wd:bd,D=arguments.length<3;return w(l,lt(h,4),g,D,kt)},S.reduceRight=function vr(l,h,g){var w=bt(l)?rm:bd,D=arguments.length<3;return w(l,lt(h,4),g,D,ks)},S.repeat=function jh(l,h,g){return h=(g?Fi(l,h,g):h===x)?1:Dt(h),qd(It(l),h)},S.replace=function $h(){var l=arguments,h=It(l[0]);return l.length<3?h:h.replace(l[1],l[2])},S.result=function Gc(l,h,g){var w=-1,D=(h=er(h,l)).length;for(D||(D=1,l=x);++w<D;){var T=null==l?x:l[ji(h[w])];T===x&&(w=D,T=g),l=un(T)?T.call(l):T}return l},S.round=Qh,S.runInContext=j,S.sample=function kp(l){return(bt(l)?Yf:sc)(l)},S.size=function Km(l){if(null==l)return 0;if(Di(l))return ae(l)?Xr(l):l.length;var h=xn(l);return h==di||h==zt?l.size:jd(l).length},S.snakeCase=qi,S.some=function Ym(l,h,g){var w=bt(l)?Go:bm;return g&&Fi(l,h,g)&&(h=x),w(l,lt(h,3))},S.sortedIndex=function vp(l,h){return oc(l,h)},S.sortedIndexBy=function yp(l,h,g){return fi(l,h,lt(g,2))},S.sortedIndexOf=function ol(l,h){var g=null==l?0:l.length;if(g){var w=oc(l,h);if(w<g&&ir(l[w],h))return w}return-1},S.sortedLastIndex=function oy(l,h){return oc(l,h,!0)},S.sortedLastIndexBy=function Bm(l,h,g){return fi(l,h,lt(g,2),!0)},S.sortedLastIndexOf=function fh(l,h){if(null!=l&&l.length){var w=oc(l,h,!0)-1;if(ir(l[w],h))return w}return-1},S.startCase=sg,S.startsWith=function og(l,h,g){return l=It(l),g=null==g?0:fr(Dt(g),0,l.length),h=pi(h),l.slice(g,g+h.length)==h},S.subtract=Jh,S.sum=function Xh(l){return l&&l.length?Dd(l,Ai):0},S.sumBy=function _y(l,h){return l&&l.length?Dd(l,lt(h,2)):0},S.template=function ag(l,h,g){var w=S.templateSettings;g&&Fi(l,h,g)&&(h=x),l=It(l),h=dl({},h,w,Qd);var L,G,D=dl({},h.imports,w.imports,Qd),T=gi(D),R=kl(D,T),fe=0,pe=h.interpolate||bs,ve="__p += '",Ne=Pr((h.escape||bs).source+"|"+pe.source+"|"+(pe===Ol?In:bs).source+"|"+(h.evaluate||bs).source+"|$","g"),Ge="//# sourceURL="+(Xt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Of+"]")+"\n";l.replace(Ne,function(Xe,Mt,mt,Si,vn,Jn){return mt||(mt=Si),ve+=l.slice(fe,Jn).replace(Ds,kf),Mt&&(L=!0,ve+="' +\n__e("+Mt+") +\n'"),vn&&(G=!0,ve+="';\n"+vn+";\n__p += '"),mt&&(ve+="' +\n((__t = ("+mt+")) == null ? '' : __t) +\n'"),fe=Jn+Xe.length,Xe}),ve+="';\n";var Ye=Xt.call(h,"variable")&&h.variable;if(Ye){if(Oi.test(Ye))throw new dt("Invalid `variable` option passed into `_.template`")}else ve="with (obj) {\n"+ve+"\n}\n";ve=(G?ve.replace(Dr,""):ve).replace(xr,"$1").replace(ld,"$1;"),ve="function("+(Ye||"obj")+") {\n"+(Ye?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(L?", __e = _.escape":"")+(G?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ve+"return __p\n}";var Qe=Du(function(){return Ft(T,Ge+"return "+ve).apply(x,R)});if(Qe.source=ve,rr(Qe))throw Qe;return Qe},S.times=function Wh(l,h){if((l=Dt(l))<1||l>ft)return[];var g=ke,w=Kn(l,ke);h=lt(h),l-=ke;for(var D=Rf(w,h);++g<l;)h(g);return D},S.toFinite=yr,S.toInteger=Dt,S.toLength=u_,S.toLower=function xo(l){return It(l).toLowerCase()},S.toNumber=Gi,S.toSafeInteger=function cl(l){return l?fr(Dt(l),-ft,ft):0===l?l:0},S.toString=It,S.toUpper=function lg(l){return It(l).toUpperCase()},S.trim=function ug(l,h,g){if((l=It(l))&&(g||h===x))return Vn(l);if(!l||!(h=pi(h)))return l;var w=Or(l),D=Or(h);return Ls(w,Is(w,D),lm(w,D)+1).join("")},S.trimEnd=function xa(l,h,g){if((l=It(l))&&(g||h===x))return l.slice(0,Wn(l)+1);if(!l||!(h=pi(h)))return l;var w=Or(l);return Ls(w,0,lm(w,Or(h))+1).join("")},S.trimStart=function jr(l,h,g){if((l=It(l))&&(g||h===x))return l.replace(Mr,"");if(!l||!(h=pi(h)))return l;var w=Or(l);return Ls(w,Is(w,Or(h))).join("")},S.truncate=function cg(l,h){var g=30,w="...";if(St(h)){var D="separator"in h?h.separator:D;g="length"in h?Dt(h.length):g,w="omission"in h?pi(h.omission):w}var T=(l=It(l)).length;if(Na(l)){var R=Or(l);T=R.length}if(g>=T)return l;var L=g-Xr(w);if(L<1)return w;var G=R?Ls(R,0,L).join(""):l.slice(0,L);if(D===x)return G+w;if(R&&(L+=G.length-L),Wp(D)){if(l.slice(L).search(D)){var fe,pe=G;for(D.global||(D=Pr(D.source,It(ar.exec(D))+"g")),D.lastIndex=0;fe=D.exec(pe);)var ve=fe.index;G=G.slice(0,ve===x?L:ve)}}else if(l.indexOf(pi(D),L)!=L){var Ne=G.lastIndexOf(D);Ne>-1&&(G=G.slice(0,Ne))}return G+w},S.unescape=function dg(l){return(l=It(l))&&Tl.test(l)?l.replace(Yr,ao):l},S.uniqueId=function Kh(l){var h=++Vf;return It(l)+h},S.upperCase=hg,S.upperFirst=Gh,S.each=wo,S.eachRight=Eo,S.first=Mn,Kc(S,function(){var l={};return gr(S,function(h,g){Xt.call(S.prototype,g)||(l[g]=h)}),l}(),{chain:!1}),S.VERSION="4.17.21",Ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){S[l].placeholder=S}),Ir(["drop","take"],function(l,h){Lt.prototype[l]=function(g){g=g===x?1:ri(Dt(g),0);var w=this.__filtered__&&!h?new Lt(this):this.clone();return w.__filtered__?w.__takeCount__=Kn(g,w.__takeCount__):w.__views__.push({size:Kn(g,ke),type:l+(w.__dir__<0?"Right":"")}),w},Lt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),Ir(["filter","map","takeWhile"],function(l,h){var g=h+1,w=1==g||3==g;Lt.prototype[l]=function(D){var T=this.clone();return T.__iteratees__.push({iteratee:lt(D,3),type:g}),T.__filtered__=T.__filtered__||w,T}}),Ir(["head","last"],function(l,h){var g="take"+(h?"Right":"");Lt.prototype[l]=function(){return this[g](1).value()[0]}}),Ir(["initial","tail"],function(l,h){var g="drop"+(h?"":"Right");Lt.prototype[l]=function(){return this.__filtered__?new Lt(this):this[g](1)}}),Lt.prototype.compact=function(){return this.filter(Ai)},Lt.prototype.find=function(l){return this.filter(l).head()},Lt.prototype.findLast=function(l){return this.reverse().find(l)},Lt.prototype.invokeMap=xt(function(l,h){return"function"==typeof l?new Lt(this):this.map(function(g){return Za(g,l,h)})}),Lt.prototype.reject=function(l){return this.filter(yu(lt(l)))},Lt.prototype.slice=function(l,h){l=Dt(l);var g=this;return g.__filtered__&&(l>0||h<0)?new Lt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),h!==x&&(g=(h=Dt(h))<0?g.dropRight(-h):g.take(h-l)),g)},Lt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Lt.prototype.toArray=function(){return this.take(ke)},gr(Lt.prototype,function(l,h){var g=/^(?:filter|find|map|reject)|While$/.test(h),w=/^(?:head|last)$/.test(h),D=S[w?"take"+("last"==h?"Right":""):h],T=w||/^find/.test(h);!D||(S.prototype[h]=function(){var R=this.__wrapped__,L=w?[1]:arguments,G=R instanceof Lt,fe=L[0],pe=G||bt(R),ve=function(Mt){var mt=D.apply(S,so([Mt],L));return w&&Ne?mt[0]:mt};pe&&g&&"function"==typeof fe&&1!=fe.length&&(G=pe=!1);var Ne=this.__chain__,Ge=!!this.__actions__.length,Ye=T&&!Ne,Qe=G&&!Ge;if(!T&&pe){R=Qe?R:new Lt(this);var Xe=l.apply(R,L);return Xe.__actions__.push({func:yh,args:[ve],thisArg:x}),new ts(Xe,Ne)}return Ye&&Qe?l.apply(this,L):(Xe=this.thru(ve),Ye?w?Xe.value()[0]:Xe.value():Xe)})}),Ir(["pop","push","shift","sort","splice","unshift"],function(l){var h=qu[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",w=/^(?:pop|shift)$/.test(l);S.prototype[l]=function(){var D=arguments;if(w&&!this.__chain__){var T=this.value();return h.apply(bt(T)?T:[],D)}return this[g](function(R){return h.apply(bt(R)?R:[],D)})}}),gr(Lt.prototype,function(l,h){var g=S[h];if(g){var w=g.name+"";Xt.call(es,w)||(es[w]=[]),es[w].push({name:h,func:g})}}),es[Ja(x,2).name]=[{name:"wrapper",func:x}],Lt.prototype.clone=function CC(){var l=new Lt(this.__wrapped__);return l.__actions__=tr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=tr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=tr(this.__views__),l},Lt.prototype.reverse=function wC(){if(this.__filtered__){var l=new Lt(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},Lt.prototype.value=function Ju(){var l=this.__wrapped__.value(),h=this.__dir__,g=bt(l),w=h<0,D=g?l.length:0,T=function uu(l,h,g){for(var w=-1,D=g.length;++w<D;){var T=g[w],R=T.size;switch(T.type){case"drop":l+=R;break;case"dropRight":h-=R;break;case"take":h=Kn(h,l+R);break;case"takeRight":l=ri(l,h-R)}}return{start:l,end:h}}(0,D,this.__views__),R=T.start,L=T.end,G=L-R,fe=w?L:R-1,pe=this.__iteratees__,ve=pe.length,Ne=0,Ge=Kn(G,this.__takeCount__);if(!g||!w&&D==G&&Ge==G)return Dm(l,this.__actions__);var Ye=[];e:for(;G--&&Ne<Ge;){for(var Qe=-1,Xe=l[fe+=h];++Qe<ve;){var Mt=pe[Qe],Si=Mt.type,vn=(0,Mt.iteratee)(Xe);if(2==Si)Xe=vn;else if(!vn){if(1==Si)continue e;break e}}Ye[Ne++]=Xe}return Ye},S.prototype.at=kc,S.prototype.chain=function ll(){return Mp(this)},S.prototype.commit=function Ch(){return new ts(this.value(),this.__chain__)},S.prototype.next=function Co(){this.__values__===x&&(this.__values__=Bc(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?x:this.__values__[this.__index__++]}},S.prototype.plant=function $m(l){for(var h,g=this;g instanceof qf;){var w=oh(g);w.__index__=0,w.__values__=x,h?D.__wrapped__=w:h=w;var D=w;g=g.__wrapped__}return D.__wrapped__=l,h},S.prototype.reverse=function wh(){var l=this.__wrapped__;if(l instanceof Lt){var h=l;return this.__actions__.length&&(h=new Lt(this)),(h=h.reverse()).__actions__.push({func:yh,args:[Tc],thisArg:x}),new ts(h,this.__chain__)}return this.thru(Tc)},S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=function Sp(){return Dm(this.__wrapped__,this.__actions__)},S.prototype.first=S.prototype.head,Ua&&(S.prototype[Ua]=function pu(){return this}),S}();ni._=Gu,(o=function(){return Gu}.call(k,M,k,$))!==x&&($.exports=o)}.call(this)},1135:($,k,M)=>{"use strict";M.d(k,{X:()=>x});var o=M(7579);class x extends o.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const V=super._subscribe(X);return!V.closed&&X.next(this._value),V}getValue(){const{hasError:X,thrownError:V,_value:W}=this;if(X)throw V;return this._throwIfClosed(),W}next(X){super.next(this._value=X)}}},9751:($,k,M)=>{"use strict";M.d(k,{y:()=>Z});var o=M(930),x=M(727),J=M(8822),X=M(9635),V=M(2416),W=M(576),B=M(2806);let Z=(()=>{class H{constructor(be){be&&(this._subscribe=be)}lift(be){const ue=new H;return ue.source=this,ue.operator=be,ue}subscribe(be,ue,He){const me=function z(H){return H&&H instanceof o.Lv||function Q(H){return H&&(0,W.m)(H.next)&&(0,W.m)(H.error)&&(0,W.m)(H.complete)}(H)&&(0,x.Nn)(H)}(be)?be:new o.Hp(be,ue,He);return(0,B.x)(()=>{const{operator:De,source:We}=this;me.add(De?De.call(me,We):We?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(be){try{return this._subscribe(be)}catch(ue){be.error(ue)}}forEach(be,ue){return new(ue=U(ue))((He,me)=>{const De=new o.Hp({next:We=>{try{be(We)}catch(it){me(it),De.unsubscribe()}},error:me,complete:He});this.subscribe(De)})}_subscribe(be){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(be)}[J.L](){return this}pipe(...be){return(0,X.U)(be)(this)}toPromise(be){return new(be=U(be))((ue,He)=>{let me;this.subscribe(De=>me=De,De=>He(De),()=>ue(me))})}}return H.create=Ce=>new H(Ce),H})();function U(H){var Ce;return null!==(Ce=H??V.v.Promise)&&void 0!==Ce?Ce:Promise}},4707:($,k,M)=>{"use strict";M.d(k,{t:()=>J});var o=M(7579),x=M(6063);class J extends o.x{constructor(V=1/0,W=1/0,B=x.l){super(),this._bufferSize=V,this._windowTime=W,this._timestampProvider=B,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=W===1/0,this._bufferSize=Math.max(1,V),this._windowTime=Math.max(1,W)}next(V){const{isStopped:W,_buffer:B,_infiniteTimeWindow:Z,_timestampProvider:U,_windowTime:Q}=this;W||(B.push(V),!Z&&B.push(U.now()+Q)),this._trimBuffer(),super.next(V)}_subscribe(V){this._throwIfClosed(),this._trimBuffer();const W=this._innerSubscribe(V),{_infiniteTimeWindow:B,_buffer:Z}=this,U=Z.slice();for(let Q=0;Q<U.length&&!V.closed;Q+=B?1:2)V.next(U[Q]);return this._checkFinalizedStatuses(V),W}_trimBuffer(){const{_bufferSize:V,_timestampProvider:W,_buffer:B,_infiniteTimeWindow:Z}=this,U=(Z?1:2)*V;if(V<1/0&&U<B.length&&B.splice(0,B.length-U),!Z){const Q=W.now();let z=0;for(let H=1;H<B.length&&B[H]<=Q;H+=2)z=H;z&&B.splice(0,z+1)}}}},7579:($,k,M)=>{"use strict";M.d(k,{x:()=>B});var o=M(9751),x=M(727);const X=(0,M(3888).d)(U=>function(){U(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=M(8737),W=M(2806);let B=(()=>{class U extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const H=new Z(this,this);return H.operator=z,H}_throwIfClosed(){if(this.closed)throw new X}next(z){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const H of this.currentObservers)H.next(z)}})}error(z){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:H}=this;for(;H.length;)H.shift().error(z)}})}complete(){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:H,isStopped:Ce,observers:be}=this;return H||Ce?x.Lc:(this.currentObservers=null,be.push(z),new x.w0(()=>{this.currentObservers=null,(0,V.P)(be,z)}))}_checkFinalizedStatuses(z){const{hasError:H,thrownError:Ce,isStopped:be}=this;H?z.error(Ce):be&&z.complete()}asObservable(){const z=new o.y;return z.source=this,z}}return U.create=(Q,z)=>new Z(Q,z),U})();class Z extends B{constructor(Q,z){super(),this.destination=Q,this.source=z}next(Q){var z,H;null===(H=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===H||H.call(z,Q)}error(Q){var z,H;null===(H=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===H||H.call(z,Q)}complete(){var Q,z;null===(z=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===z||z.call(Q)}_subscribe(Q){var z,H;return null!==(H=null===(z=this.source)||void 0===z?void 0:z.subscribe(Q))&&void 0!==H?H:x.Lc}}},930:($,k,M)=>{"use strict";M.d(k,{Hp:()=>He,Lv:()=>H});var o=M(576),x=M(727),J=M(2416),X=M(7849),V=M(5032);const W=U("C",void 0,void 0);function U(Se,_e,Re){return{kind:Se,value:_e,error:Re}}var Q=M(3410),z=M(2806);class H extends x.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,x.Nn)(_e)&&_e.add(this)):this.destination=it}static create(_e,Re,Fe){return new He(_e,Re,Fe)}next(_e){this.isStopped?We(function Z(Se){return U("N",Se,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?We(function B(Se){return U("E",void 0,Se)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?We(W,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function be(Se,_e){return Ce.call(Se,_e)}class ue{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Re}=this;if(Re.next)try{Re.next(_e)}catch(Fe){me(Fe)}}error(_e){const{partialObserver:Re}=this;if(Re.error)try{Re.error(_e)}catch(Fe){me(Fe)}else me(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Re){me(Re)}}}class He extends H{constructor(_e,Re,Fe){let et;if(super(),(0,o.m)(_e)||!_e)et={next:_e??void 0,error:Re??void 0,complete:Fe??void 0};else{let rt;this&&J.v.useDeprecatedNextContext?(rt=Object.create(_e),rt.unsubscribe=()=>this.unsubscribe(),et={next:_e.next&&be(_e.next,rt),error:_e.error&&be(_e.error,rt),complete:_e.complete&&be(_e.complete,rt)}):et=_e}this.destination=new ue(et)}}function me(Se){J.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Se):(0,X.h)(Se)}function We(Se,_e){const{onStoppedNotification:Re}=J.v;Re&&Q.z.setTimeout(()=>Re(Se,_e))}const it={closed:!0,next:V.Z,error:function De(Se){throw Se},complete:V.Z}},727:($,k,M)=>{"use strict";M.d(k,{Lc:()=>W,w0:()=>V,Nn:()=>B});var o=M(576);const J=(0,M(3888).d)(U=>function(z){U(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((H,Ce)=>`${Ce+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var X=M(8737);class V{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const be of z)be.remove(this);else z.remove(this);const{initialTeardown:H}=this;if((0,o.m)(H))try{H()}catch(be){Q=be instanceof J?be.errors:[be]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const be of Ce)try{Z(be)}catch(ue){Q=Q??[],ue instanceof J?Q=[...Q,...ue.errors]:Q.push(ue)}}if(Q)throw new J(Q)}}add(Q){var z;if(Q&&Q!==this)if(this.closed)Z(Q);else{if(Q instanceof V){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(Q)}}_hasParent(Q){const{_parentage:z}=this;return z===Q||Array.isArray(z)&&z.includes(Q)}_addParent(Q){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(Q),z):z?[z,Q]:Q}_removeParent(Q){const{_parentage:z}=this;z===Q?this._parentage=null:Array.isArray(z)&&(0,X.P)(z,Q)}remove(Q){const{_finalizers:z}=this;z&&(0,X.P)(z,Q),Q instanceof V&&Q._removeParent(this)}}V.EMPTY=(()=>{const U=new V;return U.closed=!0,U})();const W=V.EMPTY;function B(U){return U instanceof V||U&&"closed"in U&&(0,o.m)(U.remove)&&(0,o.m)(U.add)&&(0,o.m)(U.unsubscribe)}function Z(U){(0,o.m)(U)?U():U.unsubscribe()}},2416:($,k,M)=>{"use strict";M.d(k,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:($,k,M)=>{"use strict";M.d(k,{E:()=>x});const x=new(M(9751).y)(V=>V.complete())},457:($,k,M)=>{"use strict";M.d(k,{D:()=>Re});var o=M(8421),x=M(5363),J=M(4482);function X(Fe,et=0){return(0,J.e)((rt,ct)=>{ct.add(Fe.schedule(()=>rt.subscribe(ct),et))})}var B=M(9751),U=M(2202),Q=M(576),z=M(9672);function Ce(Fe,et){if(!Fe)throw new Error("Iterable cannot be null");return new B.y(rt=>{(0,z.f)(rt,et,()=>{const ct=Fe[Symbol.asyncIterator]();(0,z.f)(rt,et,()=>{ct.next().then(ie=>{ie.done?rt.complete():rt.next(ie.value)})},0,!0)})})}var be=M(3670),ue=M(8239),He=M(1144),me=M(6495),De=M(2206),We=M(4532),it=M(3260);function Re(Fe,et){return et?function _e(Fe,et){if(null!=Fe){if((0,be.c)(Fe))return function V(Fe,et){return(0,o.Xf)(Fe).pipe(X(et),(0,x.Q)(et))}(Fe,et);if((0,He.z)(Fe))return function Z(Fe,et){return new B.y(rt=>{let ct=0;return et.schedule(function(){ct===Fe.length?rt.complete():(rt.next(Fe[ct++]),rt.closed||this.schedule())})})}(Fe,et);if((0,ue.t)(Fe))return function W(Fe,et){return(0,o.Xf)(Fe).pipe(X(et),(0,x.Q)(et))}(Fe,et);if((0,De.D)(Fe))return Ce(Fe,et);if((0,me.T)(Fe))return function H(Fe,et){return new B.y(rt=>{let ct;return(0,z.f)(rt,et,()=>{ct=Fe[U.h](),(0,z.f)(rt,et,()=>{let ie,te;try{({value:ie,done:te}=ct.next())}catch(ce){return void rt.error(ce)}te?rt.complete():rt.next(ie)},0,!0)}),()=>(0,Q.m)(ct?.return)&&ct.return()})}(Fe,et);if((0,it.L)(Fe))return function Se(Fe,et){return Ce((0,it.Q)(Fe),et)}(Fe,et)}throw(0,We.z)(Fe)}(Fe,et):(0,o.Xf)(Fe)}},8421:($,k,M)=>{"use strict";M.d(k,{Xf:()=>Ce});var o=M(655),x=M(1144),J=M(8239),X=M(9751),V=M(3670),W=M(2206),B=M(4532),Z=M(6495),U=M(3260),Q=M(576),z=M(7849),H=M(8822);function Ce(Se){if(Se instanceof X.y)return Se;if(null!=Se){if((0,V.c)(Se))return function be(Se){return new X.y(_e=>{const Re=Se[H.L]();if((0,Q.m)(Re.subscribe))return Re.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,x.z)(Se))return function ue(Se){return new X.y(_e=>{for(let Re=0;Re<Se.length&&!_e.closed;Re++)_e.next(Se[Re]);_e.complete()})}(Se);if((0,J.t)(Se))return function He(Se){return new X.y(_e=>{Se.then(Re=>{_e.closed||(_e.next(Re),_e.complete())},Re=>_e.error(Re)).then(null,z.h)})}(Se);if((0,W.D)(Se))return De(Se);if((0,Z.T)(Se))return function me(Se){return new X.y(_e=>{for(const Re of Se)if(_e.next(Re),_e.closed)return;_e.complete()})}(Se);if((0,U.L)(Se))return function We(Se){return De((0,U.Q)(Se))}(Se)}throw(0,B.z)(Se)}function De(Se){return new X.y(_e=>{(function it(Se,_e){var Re,Fe,et,rt;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Re=(0,o.KL)(Se);!(Fe=yield Re.next()).done;)if(_e.next(Fe.value),_e.closed)return}catch(ct){et={error:ct}}finally{try{Fe&&!Fe.done&&(rt=Re.return)&&(yield rt.call(Re))}finally{if(et)throw et.error}}_e.complete()})})(Se,_e).catch(Re=>_e.error(Re))})}},6451:($,k,M)=>{"use strict";M.d(k,{T:()=>W});var o=M(8189),x=M(8421),J=M(515),X=M(7669),V=M(457);function W(...B){const Z=(0,X.yG)(B),U=(0,X._6)(B,1/0),Q=B;return Q.length?1===Q.length?(0,x.Xf)(Q[0]):(0,o.J)(U)((0,V.D)(Q,Z)):J.E}},9646:($,k,M)=>{"use strict";M.d(k,{of:()=>J});var o=M(7669),x=M(457);function J(...X){const V=(0,o.yG)(X);return(0,x.D)(X,V)}},5403:($,k,M)=>{"use strict";M.d(k,{Q:()=>J,x:()=>x});var o=M(930);function x(X,V,W,B,Z){return new J(X,V,W,B,Z)}class J extends o.Lv{constructor(V,W,B,Z,U,Q){super(V),this.onFinalize=U,this.shouldUnsubscribe=Q,this._next=W?function(z){try{W(z)}catch(H){V.error(H)}}:super._next,this._error=Z?function(z){try{Z(z)}catch(H){V.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=B?function(){try{B()}catch(z){V.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:W}=this;super.unsubscribe(),!W&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},262:($,k,M)=>{"use strict";M.d(k,{K:()=>X});var o=M(8421),x=M(5403),J=M(4482);function X(V){return(0,J.e)((W,B)=>{let Q,Z=null,U=!1;Z=W.subscribe((0,x.x)(B,void 0,void 0,z=>{Q=(0,o.Xf)(V(z,X(V)(W))),Z?(Z.unsubscribe(),Z=null,Q.subscribe(B)):U=!0})),U&&(Z.unsubscribe(),Z=null,Q.subscribe(B))})}},4351:($,k,M)=>{"use strict";M.d(k,{b:()=>J});var o=M(5577),x=M(576);function J(X,V){return(0,x.m)(V)?(0,o.z)(X,V,1):(0,o.z)(X,1)}},8372:($,k,M)=>{"use strict";M.d(k,{b:()=>X});var o=M(4986),x=M(4482),J=M(5403);function X(V,W=o.z){return(0,x.e)((B,Z)=>{let U=null,Q=null,z=null;const H=()=>{if(U){U.unsubscribe(),U=null;const be=Q;Q=null,Z.next(be)}};function Ce(){const be=z+V,ue=W.now();if(ue<be)return U=this.schedule(void 0,be-ue),void Z.add(U);H()}B.subscribe((0,J.x)(Z,be=>{Q=be,z=W.now(),U||(U=W.schedule(Ce,V),Z.add(U))},()=>{H(),Z.complete()},void 0,()=>{Q=U=null}))})}},1884:($,k,M)=>{"use strict";M.d(k,{x:()=>X});var o=M(4671),x=M(4482),J=M(5403);function X(W,B=o.y){return W=W??V,(0,x.e)((Z,U)=>{let Q,z=!0;Z.subscribe((0,J.x)(U,H=>{const Ce=B(H);(z||!W(Q,Ce))&&(z=!1,Q=Ce,U.next(H))}))})}function V(W,B){return W===B}},9300:($,k,M)=>{"use strict";M.d(k,{h:()=>J});var o=M(4482),x=M(5403);function J(X,V){return(0,o.e)((W,B)=>{let Z=0;W.subscribe((0,x.x)(B,U=>X.call(V,U,Z++)&&B.next(U)))})}},4004:($,k,M)=>{"use strict";M.d(k,{U:()=>J});var o=M(4482),x=M(5403);function J(X,V){return(0,o.e)((W,B)=>{let Z=0;W.subscribe((0,x.x)(B,U=>{B.next(X.call(V,U,Z++))}))})}},8189:($,k,M)=>{"use strict";M.d(k,{J:()=>J});var o=M(5577),x=M(4671);function J(X=1/0){return(0,o.z)(x.y,X)}},5577:($,k,M)=>{"use strict";M.d(k,{z:()=>Z});var o=M(4004),x=M(8421),J=M(4482),X=M(9672),V=M(5403),B=M(576);function Z(U,Q,z=1/0){return(0,B.m)(Q)?Z((H,Ce)=>(0,o.U)((be,ue)=>Q(H,be,Ce,ue))((0,x.Xf)(U(H,Ce))),z):("number"==typeof Q&&(z=Q),(0,J.e)((H,Ce)=>function W(U,Q,z,H,Ce,be,ue,He){const me=[];let De=0,We=0,it=!1;const Se=()=>{it&&!me.length&&!De&&Q.complete()},_e=Fe=>De<H?Re(Fe):me.push(Fe),Re=Fe=>{be&&Q.next(Fe),De++;let et=!1;(0,x.Xf)(z(Fe,We++)).subscribe((0,V.x)(Q,rt=>{Ce?.(rt),be?_e(rt):Q.next(rt)},()=>{et=!0},void 0,()=>{if(et)try{for(De--;me.length&&De<H;){const rt=me.shift();ue?(0,X.f)(Q,ue,()=>Re(rt)):Re(rt)}Se()}catch(rt){Q.error(rt)}}))};return U.subscribe((0,V.x)(Q,_e,()=>{it=!0,Se()})),()=>{He?.()}}(H,Ce,U,z)))}},5363:($,k,M)=>{"use strict";M.d(k,{Q:()=>X});var o=M(9672),x=M(4482),J=M(5403);function X(V,W=0){return(0,x.e)((B,Z)=>{B.subscribe((0,J.x)(Z,U=>(0,o.f)(Z,V,()=>Z.next(U),W),()=>(0,o.f)(Z,V,()=>Z.complete(),W),U=>(0,o.f)(Z,V,()=>Z.error(U),W)))})}},5026:($,k,M)=>{"use strict";M.d(k,{R:()=>X});var o=M(4482),x=M(5403);function J(V,W,B,Z,U){return(Q,z)=>{let H=B,Ce=W,be=0;Q.subscribe((0,x.x)(z,ue=>{const He=be++;Ce=H?V(Ce,ue,He):(H=!0,ue),Z&&z.next(Ce)},U&&(()=>{H&&z.next(Ce),z.complete()})))}}function X(V,W){return(0,o.e)(J(V,W,arguments.length>=2,!0))}},3099:($,k,M)=>{"use strict";M.d(k,{B:()=>V});var o=M(8421),x=M(7579),J=M(930),X=M(4482);function V(B={}){const{connector:Z=(()=>new x.x),resetOnError:U=!0,resetOnComplete:Q=!0,resetOnRefCountZero:z=!0}=B;return H=>{let Ce,be,ue,He=0,me=!1,De=!1;const We=()=>{be?.unsubscribe(),be=void 0},it=()=>{We(),Ce=ue=void 0,me=De=!1},Se=()=>{const _e=Ce;it(),_e?.unsubscribe()};return(0,X.e)((_e,Re)=>{He++,!De&&!me&&We();const Fe=ue=ue??Z();Re.add(()=>{He--,0===He&&!De&&!me&&(be=W(Se,z))}),Fe.subscribe(Re),!Ce&&He>0&&(Ce=new J.Hp({next:et=>Fe.next(et),error:et=>{De=!0,We(),be=W(it,U,et),Fe.error(et)},complete:()=>{me=!0,We(),be=W(it,Q),Fe.complete()}}),(0,o.Xf)(_e).subscribe(Ce))})(H)}}function W(B,Z,...U){if(!0===Z)return void B();if(!1===Z)return;const Q=new J.Hp({next:()=>{Q.unsubscribe(),B()}});return Z(...U).subscribe(Q)}},5684:($,k,M)=>{"use strict";M.d(k,{T:()=>x});var o=M(9300);function x(J){return(0,o.h)((X,V)=>J<=V)}},3900:($,k,M)=>{"use strict";M.d(k,{w:()=>X});var o=M(8421),x=M(4482),J=M(5403);function X(V,W){return(0,x.e)((B,Z)=>{let U=null,Q=0,z=!1;const H=()=>z&&!U&&Z.complete();B.subscribe((0,J.x)(Z,Ce=>{U?.unsubscribe();let be=0;const ue=Q++;(0,o.Xf)(V(Ce,ue)).subscribe(U=(0,J.x)(Z,He=>Z.next(W?W(Ce,He,ue,be++):He),()=>{U=null,H()}))},()=>{z=!0,H()}))})}},5698:($,k,M)=>{"use strict";M.d(k,{q:()=>X});var o=M(515),x=M(4482),J=M(5403);function X(V){return V<=0?()=>o.E:(0,x.e)((W,B)=>{let Z=0;W.subscribe((0,J.x)(B,U=>{++Z<=V&&(B.next(U),V<=Z&&B.complete())}))})}},2722:($,k,M)=>{"use strict";M.d(k,{R:()=>V});var o=M(4482),x=M(5403),J=M(8421),X=M(5032);function V(W){return(0,o.e)((B,Z)=>{(0,J.Xf)(W).subscribe((0,x.x)(Z,()=>Z.complete(),X.Z)),!Z.closed&&B.subscribe(Z)})}},1749:($,k,M)=>{"use strict";M.d(k,{V:()=>U});var o=M(4986),J=M(4482),X=M(8421),V=M(3888),W=M(5403),B=M(9672);const Z=(0,V.d)(z=>function(Ce=null){z(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ce});function U(z,H){const{first:Ce,each:be,with:ue=Q,scheduler:He=H??o.z,meta:me=null}=function x(z){return z instanceof Date&&!isNaN(z)}(z)?{first:z}:"number"==typeof z?{each:z}:z;if(null==Ce&&null==be)throw new TypeError("No timeout provided.");return(0,J.e)((De,We)=>{let it,Se,_e=null,Re=0;const Fe=et=>{Se=(0,B.f)(We,He,()=>{try{it.unsubscribe(),(0,X.Xf)(ue({meta:me,lastValue:_e,seen:Re})).subscribe(We)}catch(rt){We.error(rt)}},et)};it=De.subscribe((0,W.x)(We,et=>{Se?.unsubscribe(),Re++,We.next(_e=et),be>0&&Fe(be)},void 0,void 0,()=>{Se?.closed||Se?.unsubscribe(),_e=null})),!Re&&Fe(null!=Ce?"number"==typeof Ce?Ce:+Ce-He.now():be)})}function Q(z){throw new Z(z)}},1365:($,k,M)=>{"use strict";M.d(k,{M:()=>B});var o=M(4482),x=M(5403),J=M(8421),X=M(4671),V=M(5032),W=M(7669);function B(...Z){const U=(0,W.jO)(Z);return(0,o.e)((Q,z)=>{const H=Z.length,Ce=new Array(H);let be=Z.map(()=>!1),ue=!1;for(let He=0;He<H;He++)(0,J.Xf)(Z[He]).subscribe((0,x.x)(z,me=>{Ce[He]=me,!ue&&!be[He]&&(be[He]=!0,(ue=be.every(X.y))&&(be=null))},V.Z));Q.subscribe((0,x.x)(z,He=>{if(ue){const me=[He,...Ce];z.next(U?U(...me):me)}}))})}},4408:($,k,M)=>{"use strict";M.d(k,{o:()=>V});var o=M(727);class x extends o.w0{constructor(B,Z){super()}schedule(B,Z=0){return this}}const J={setInterval(W,B,...Z){const{delegate:U}=J;return U?.setInterval?U.setInterval(W,B,...Z):setInterval(W,B,...Z)},clearInterval(W){const{delegate:B}=J;return(B?.clearInterval||clearInterval)(W)},delegate:void 0};var X=M(8737);class V extends x{constructor(B,Z){super(B,Z),this.scheduler=B,this.work=Z,this.pending=!1}schedule(B,Z=0){var U;if(this.closed)return this;this.state=B;const Q=this.id,z=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(z,Q,Z)),this.pending=!0,this.delay=Z,this.id=null!==(U=this.id)&&void 0!==U?U:this.requestAsyncId(z,this.id,Z),this}requestAsyncId(B,Z,U=0){return J.setInterval(B.flush.bind(B,this),U)}recycleAsyncId(B,Z,U=0){if(null!=U&&this.delay===U&&!1===this.pending)return Z;null!=Z&&J.clearInterval(Z)}execute(B,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const U=this._execute(B,Z);if(U)return U;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(B,Z){let Q,U=!1;try{this.work(B)}catch(z){U=!0,Q=z||new Error("Scheduled action threw falsy error")}if(U)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:B,scheduler:Z}=this,{actions:U}=Z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(U,this),null!=B&&(this.id=this.recycleAsyncId(Z,B,null)),this.delay=null,super.unsubscribe()}}}},7565:($,k,M)=>{"use strict";M.d(k,{v:()=>J});var o=M(6063);class x{constructor(V,W=x.now){this.schedulerActionCtor=V,this.now=W}schedule(V,W=0,B){return new this.schedulerActionCtor(this,V).schedule(B,W)}}x.now=o.l.now;class J extends x{constructor(V,W=x.now){super(V,W),this.actions=[],this._active=!1}flush(V){const{actions:W}=this;if(this._active)return void W.push(V);let B;this._active=!0;do{if(B=V.execute(V.state,V.delay))break}while(V=W.shift());if(this._active=!1,B){for(;V=W.shift();)V.unsubscribe();throw B}}}},4986:($,k,M)=>{"use strict";M.d(k,{z:()=>J});var o=M(4408);const J=new(M(7565).v)(o.o)},6063:($,k,M)=>{"use strict";M.d(k,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},233:($,k,M)=>{"use strict";M.d(k,{N:()=>V});var o=M(4408),J=M(7565);const V=new class X extends J.v{}(class x extends o.o{constructor(Z,U){super(Z,U),this.scheduler=Z,this.work=U}schedule(Z,U=0){return U>0?super.schedule(Z,U):(this.delay=U,this.state=Z,this.scheduler.flush(this),this)}execute(Z,U){return U>0||this.closed?super.execute(Z,U):this._execute(Z,U)}requestAsyncId(Z,U,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(Z,U,Q):(Z.flush(this),0)}})},3410:($,k,M)=>{"use strict";M.d(k,{z:()=>o});const o={setTimeout(x,J,...X){const{delegate:V}=o;return V?.setTimeout?V.setTimeout(x,J,...X):setTimeout(x,J,...X)},clearTimeout(x){const{delegate:J}=o;return(J?.clearTimeout||clearTimeout)(x)},delegate:void 0}},2202:($,k,M)=>{"use strict";M.d(k,{h:()=>x});const x=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:($,k,M)=>{"use strict";M.d(k,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:($,k,M)=>{"use strict";M.d(k,{_6:()=>W,jO:()=>X,yG:()=>V});var o=M(576);function J(B){return B[B.length-1]}function X(B){return(0,o.m)(J(B))?B.pop():void 0}function V(B){return function x(B){return B&&(0,o.m)(B.schedule)}(J(B))?B.pop():void 0}function W(B,Z){return"number"==typeof J(B)?B.pop():Z}},8737:($,k,M)=>{"use strict";function o(x,J){if(x){const X=x.indexOf(J);0<=X&&x.splice(X,1)}}M.d(k,{P:()=>o})},3888:($,k,M)=>{"use strict";function o(x){const X=x(V=>{Error.call(V),V.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}M.d(k,{d:()=>o})},2806:($,k,M)=>{"use strict";M.d(k,{O:()=>X,x:()=>J});var o=M(2416);let x=null;function J(V){if(o.v.useDeprecatedSynchronousErrorHandling){const W=!x;if(W&&(x={errorThrown:!1,error:null}),V(),W){const{errorThrown:B,error:Z}=x;if(x=null,B)throw Z}}else V()}function X(V){o.v.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=V)}},9672:($,k,M)=>{"use strict";function o(x,J,X,V=0,W=!1){const B=J.schedule(function(){X(),W?x.add(this.schedule(null,V)):this.unsubscribe()},V);if(x.add(B),!W)return B}M.d(k,{f:()=>o})},4671:($,k,M)=>{"use strict";function o(x){return x}M.d(k,{y:()=>o})},1144:($,k,M)=>{"use strict";M.d(k,{z:()=>o});const o=x=>x&&"number"==typeof x.length&&"function"!=typeof x},2206:($,k,M)=>{"use strict";M.d(k,{D:()=>x});var o=M(576);function x(J){return Symbol.asyncIterator&&(0,o.m)(J?.[Symbol.asyncIterator])}},576:($,k,M)=>{"use strict";function o(x){return"function"==typeof x}M.d(k,{m:()=>o})},3670:($,k,M)=>{"use strict";M.d(k,{c:()=>J});var o=M(8822),x=M(576);function J(X){return(0,x.m)(X[o.L])}},6495:($,k,M)=>{"use strict";M.d(k,{T:()=>J});var o=M(2202),x=M(576);function J(X){return(0,x.m)(X?.[o.h])}},8239:($,k,M)=>{"use strict";M.d(k,{t:()=>x});var o=M(576);function x(J){return(0,o.m)(J?.then)}},3260:($,k,M)=>{"use strict";M.d(k,{L:()=>X,Q:()=>J});var o=M(655),x=M(576);function J(V){return(0,o.FC)(this,arguments,function*(){const B=V.getReader();try{for(;;){const{value:Z,done:U}=yield(0,o.qq)(B.read());if(U)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Z)}}finally{B.releaseLock()}})}function X(V){return(0,x.m)(V?.getReader)}},4482:($,k,M)=>{"use strict";M.d(k,{A:()=>x,e:()=>J});var o=M(576);function x(X){return(0,o.m)(X?.lift)}function J(X){return V=>{if(x(V))return V.lift(function(W){try{return X(W,this)}catch(B){this.error(B)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:($,k,M)=>{"use strict";function o(){}M.d(k,{Z:()=>o})},9635:($,k,M)=>{"use strict";M.d(k,{U:()=>J,z:()=>x});var o=M(4671);function x(...X){return J(X)}function J(X){return 0===X.length?o.y:1===X.length?X[0]:function(W){return X.reduce((B,Z)=>Z(B),W)}}},7849:($,k,M)=>{"use strict";M.d(k,{h:()=>J});var o=M(2416),x=M(3410);function J(X){x.z.setTimeout(()=>{const{onUnhandledError:V}=o.v;if(!V)throw X;V(X)})}},4532:($,k,M)=>{"use strict";function o(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(k,{z:()=>o})},655:($,k,M)=>{"use strict";function Z(ie,te,ce,se){return new(ce||(ce=Promise))(function(Oe,ft){function Yt(_i){try{ke(se.next(_i))}catch(zr){ft(zr)}}function $t(_i){try{ke(se.throw(_i))}catch(zr){ft(zr)}}function ke(_i){_i.done?Oe(_i.value):function $e(Oe){return Oe instanceof ce?Oe:new ce(function(ft){ft(Oe)})}(_i.value).then(Yt,$t)}ke((se=se.apply(ie,te||[])).next())})}function me(ie){return this instanceof me?(this.v=ie,this):new me(ie)}function De(ie,te,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,se=ce.apply(ie,te||[]),Oe=[];return $e={},ft("next"),ft("throw"),ft("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function ft(mn){se[mn]&&($e[mn]=function(Ot){return new Promise(function(Wi,Fn){Oe.push([mn,Ot,Wi,Fn])>1||Yt(mn,Ot)})})}function Yt(mn,Ot){try{!function $t(mn){mn.value instanceof me?Promise.resolve(mn.value.v).then(ke,_i):zr(Oe[0][2],mn)}(se[mn](Ot))}catch(Wi){zr(Oe[0][3],Wi)}}function ke(mn){Yt("next",mn)}function _i(mn){Yt("throw",mn)}function zr(mn,Ot){mn(Ot),Oe.shift(),Oe.length&&Yt(Oe[0][0],Oe[0][1])}}function it(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,te=ie[Symbol.asyncIterator];return te?te.call(ie):(ie=function H(ie){var te="function"==typeof Symbol&&Symbol.iterator,ce=te&&ie[te],se=0;if(ce)return ce.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&se>=ie.length&&(ie=void 0),{value:ie&&ie[se++],done:!ie}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),ce={},se("next"),se("throw"),se("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function se(Oe){ce[Oe]=ie[Oe]&&function(ft){return new Promise(function(Yt,$t){!function $e(Oe,ft,Yt,$t){Promise.resolve($t).then(function(ke){Oe({value:ke,done:Yt})},ft)}(Yt,$t,(ft=ie[Oe](ft)).done,ft.value)})}}}M.d(k,{FC:()=>De,KL:()=>it,mG:()=>Z,qq:()=>me})},4650:($,k,M)=>{"use strict";M.d(k,{$8M:()=>Qo,$Z:()=>ae,AFp:()=>Zg,ALo:()=>L0,AaK:()=>Z,B6R:()=>Uo,BQk:()=>T_,CHM:()=>Uu,CRH:()=>q0,CZH:()=>qg,CqO:()=>P_,D6c:()=>vD,DdM:()=>S0,EJc:()=>VE,EpF:()=>td,F$t:()=>Ey,F4k:()=>O_,FYo:()=>Sp,FiY:()=>ot,G48:()=>nt,Gf:()=>$0,GfV:()=>Tp,GkF:()=>I_,Gpc:()=>z,Gre:()=>zC,Hsn:()=>k_,JOm:()=>Xi,Jf7:()=>Fc,KtG:()=>qo,LFG:()=>on,LSH:()=>ch,Lbi:()=>kE,Lck:()=>E0,MAs:()=>SC,MGl:()=>df,MMx:()=>Ng,NdJ:()=>uf,O4$:()=>Lf,OlP:()=>en,Oqu:()=>By,PXZ:()=>QE,PiD:()=>Dn,Q6J:()=>A_,QGY:()=>lf,QP$:()=>Mr,Qsj:()=>Gm,R0b:()=>_s,RDi:()=>eh,Rgc:()=>ei,SBq:()=>pu,Sil:()=>aC,Suo:()=>G0,TTD:()=>gd,TgZ:()=>ed,Tol:()=>Ig,Udp:()=>$_,VKq:()=>T0,W1O:()=>wv,X6Q:()=>ge,XFs:()=>ze,Xpm:()=>Yr,Xts:()=>va,Y36:()=>bo,YKP:()=>cv,YNc:()=>M_,Yjl:()=>Lu,Yz7:()=>Ot,Z0I:()=>Wr,ZZ4:()=>ib,_Bn:()=>Sa,_UZ:()=>bg,_Vd:()=>ll,_c5:()=>mD,_uU:()=>Z_,aQg:()=>rb,c2e:()=>LE,cJS:()=>Fn,cg1:()=>Q_,dDg:()=>WE,dqk:()=>Wt,eFA:()=>mC,ekj:()=>Tg,eoX:()=>dC,evT:()=>Rp,f3M:()=>Rn,g9A:()=>kv,h0i:()=>gn,hGG:()=>_D,hij:()=>z_,iGM:()=>j0,ifc:()=>tt,ip1:()=>Ro,jDz:()=>dv,kEZ:()=>I0,kL8:()=>Yy,kYT:()=>Il,kcU:()=>Nf,lG2:()=>Ho,lcZ:()=>N0,lqb:()=>yo,lri:()=>Wg,n5z:()=>Rr,oAB:()=>Es,oJD:()=>Mc,oxw:()=>PC,qLn:()=>Eo,qOj:()=>Qh,qZA:()=>Eg,rWj:()=>Uv,s9C:()=>F_,sBO:()=>Pe,sIi:()=>G,s_b:()=>Hg,soG:()=>Mf,tBr:()=>pr,tb:()=>oC,tp0:()=>Xo,uIk:()=>Si,vHH:()=>ue,vpe:()=>Po,wAp:()=>ht,xp6:()=>Ah,ynx:()=>Dg,z2F:()=>b,zSh:()=>Ic,zs3:()=>wa});var o=M(7579),x=M(727),J=M(9751),X=M(6451),V=M(3099);function W(t){for(let i in t)if(t[i]===W)return i;throw Error("Could not find renamed property on target object.")}function B(t,i){for(const a in i)i.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=i[a])}function Z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const a=i.indexOf("\n");return-1===a?i:i.substring(0,a)}function U(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const Q=W({__forward_ref__:W});function z(t){return t.__forward_ref__=z,t.toString=function(){return Z(this())},t}function H(t){return Ce(t)?t():t}function Ce(t){return"function"==typeof t&&t.hasOwnProperty(Q)&&t.__forward_ref__===z}class ue extends Error{constructor(i,a){super(function He(t,i){return`NG0${Math.abs(t)}${i?": "+i.trim():""}`}(i,a)),this.code=i}}function me(t){return"string"==typeof t?t:null==t?"":String(t)}function _e(t,i){throw new ue(-201,!1)}function $t(t,i){null==t&&function ke(t,i,a,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${a} ${u} ${i} <=Actual]`))}(i,t,null,"!=")}function Ot(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ki(t){return ko(t,di)||ko(t,Sl)}function Wr(t){return null!==Ki(t)}function ko(t,i){return t.hasOwnProperty(i)?t[i]:null}function No(t){return t&&(t.hasOwnProperty(br)||t.hasOwnProperty(Kr))?t[br]:null}const di=W({\u0275prov:W}),br=W({\u0275inj:W}),Sl=W({ngInjectableDef:W}),Kr=W({ngInjectorDef:W});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let ys;function zt(t){const i=ys;return ys=t,i}function Js(t,i,a){const u=Ki(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ze.Optional?null:void 0!==i?i:void _e(Z(t))}function Ni(t){return{toString:t}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),tt=(()=>{return(t=tt||(tt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",tt;var t})();const Wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ti={},yt=[],ws=W({\u0275cmp:W}),Qt=W({\u0275dir:W}),Bo=W({\u0275pipe:W}),Vt=W({\u0275mod:W}),Dr=W({\u0275fac:W}),xr=W({__NG_ELEMENT_ID__:W});let ld=0;function Yr(t){return Ni(()=>{const a=!0===t.standalone,u={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||tt.Emulated,id:"c"+ld++,styles:t.styles||yt,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.dependencies,m=t.features;return d.inputs=Ol(t.inputs,u),d.outputs=Ol(t.outputs),m&&m.forEach(v=>v(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Tl).filter(Ia):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(Zn).filter(Ia):null,d})}function Uo(t,i,a){const u=t.\u0275cmp;u.directiveDefs=()=>("function"==typeof i?i():i).map(Tl),u.pipeDefs=()=>("function"==typeof a?a():a).map(Zn)}function Tl(t){return jt(t)||Tn(t)}function Ia(t){return null!==t}function Es(t){return Ni(()=>({type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Il(t,i){return Ni(()=>{const a=Ii(t,!0);a.declarations=i.declarations||yt,a.imports=i.imports||yt,a.exports=i.exports||yt})}function Ol(t,i){if(null==t)return Ti;const a={};for(const u in t)if(t.hasOwnProperty(u)){let d=t[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=u,i&&(i[d]=p)}return a}const Ho=Yr;function Lu(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function jt(t){return t[ws]||null}function Tn(t){return t[Qt]||null}function Zn(t){return t[Bo]||null}function Mr(t){const i=jt(t)||Tn(t)||Zn(t);return null!==i&&i.standalone}function Ii(t,i){const a=t[Vt]||null;if(!a&&!0===i)throw new Error(`Type ${Z(t)} does not have '\u0275mod' property.`);return a}function zn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ln(t){return Array.isArray(t)&&!0===t[1]}function Sr(t){return 0!=(8&t.flags)}function no(t){return 2==(2&t.flags)}function Ss(t){return 1==(1&t.flags)}function Yi(t){return null!==t.template}function P(t){return 0!=(256&t[2])}function io(t,i){return t.hasOwnProperty(Dr)?t[Dr]:null}class Jg{constructor(i,a,u){this.previousValue=i,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function gd(){return Of}function Of(t){return t.type.prototype.ngOnChanges&&(t.setInput=Kt),Jt}function Jt(){const t=Xg(this),i=t?.current;if(i){const a=t.previous;if(a===Ti)t.previous=i;else for(let u in i)a[u]=i[u];t.current=null,this.ngOnChanges(i)}}function Kt(t,i,a,u){const d=Xg(t)||function md(t,i){return t[Pf]=i}(t,{previous:Ti,current:null}),p=d.current||(d.current={}),m=d.previous,v=this.declaredInputs[a],y=m[v];p[v]=new Jg(y&&y.currentValue,i,m===Ti),t[u]=i}gd.ngInherit=!0;const Pf="__ngSimpleChanges__";function Xg(t){return t[Pf]||null}function Nn(t){for(;Array.isArray(t);)t=t[0];return t}function ka(t,i){return Nn(i[t])}function Bi(t,i){return Nn(i[t.index])}function Pl(t,i){return t.data[i]}function Fa(t,i){return t[i]}function Gt(t,i){const a=i[t];return zn(a)?a:a[0]}function La(t){return 64==(64&t[2])}function ro(t,i){return null==i?null:t[i]}function yd(t){t[18]=0}function Jr(t,i){t[5]+=i;let a=t,u=t[3];for(;null!==u&&(1===i&&1===a[5]||-1===i&&0===a[5]);)u[5]+=i,a=u,u=u[3]}const _t={lFrame:$u(null),bindingsEnabled:!0};function Go(){return _t.bindingsEnabled}function we(){return _t.lFrame.lView}function Rt(){return _t.lFrame.tView}function Uu(t){return _t.lFrame.contextLView=t,t[8]}function qo(t){return _t.lFrame.contextLView=null,t}function ii(){let t=Ed();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ed(){return _t.lFrame.currentTNode}function cr(t,i){const a=_t.lFrame;a.currentTNode=t,a.isParent=i}function Hu(){return _t.lFrame.isParent}function bd(){_t.lFrame.isParent=!1}function Vn(){const t=_t.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function Ts(){return _t.lFrame.bindingIndex++}function Is(t){const i=_t.lFrame,a=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,a}function Yv(t,i){const a=_t.lFrame;a.bindingIndex=a.bindingRootIndex=t,kf(i)}function kf(t){_t.lFrame.currentDirectiveIndex=t}function Na(){return _t.lFrame.currentQueryIndex}function Md(t){_t.lFrame.currentQueryIndex=t}function cm(t){const i=t[1];return 2===i.type?i.declTNode:1===i.type?t[6]:null}function Ad(t,i,a){if(a&ze.SkipSelf){let d=i,p=t;for(;!(d=d.parent,null!==d||a&ze.Host||(d=cm(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;i=d,t=p}const u=_t.lFrame=oo();return u.currentTNode=i,u.lView=t,!0}function Sd(t){const i=oo(),a=t[1];_t.lFrame=i,i.currentTNode=a.firstChild,i.lView=t,i.tView=a,i.contextLView=t,i.bindingIndex=a.bindingStartIndex,i.inI18n=!1}function oo(){const t=_t.lFrame,i=null===t?null:t.child;return null===i?$u(t):i}function $u(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function dm(){const t=_t.lFrame;return _t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ff=dm;function Fl(){const t=dm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wn(){return _t.lFrame.selectedIndex}function ao(t){_t.lFrame.selectedIndex=t}function cn(){const t=_t.lFrame;return Pl(t.tView,t.selectedIndex)}function Lf(){_t.lFrame.currentNamespace="svg"}function Nf(){!function Gu(){_t.lFrame.currentNamespace=null}()}function ee(t,i){for(let a=i.directiveStart,u=i.directiveEnd;a<u;a++){const p=t.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:y,ngAfterViewChecked:E,ngOnDestroy:A}=p;m&&(t.contentHooks||(t.contentHooks=[])).push(-a,m),v&&((t.contentHooks||(t.contentHooks=[])).push(a,v),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(a,v)),y&&(t.viewHooks||(t.viewHooks=[])).push(-a,y),E&&((t.viewHooks||(t.viewHooks=[])).push(a,E),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(a,E)),null!=A&&(t.destroyHooks||(t.destroyHooks=[])).push(a,A)}}function qe(t,i,a){bn(t,i,3,a)}function dt(t,i,a,u){(3&t[2])===a&&bn(t,i,a,u)}function Ft(t,i){let a=t[2];(3&a)===i&&(a&=2047,a+=1,t[2]=a)}function bn(t,i,a,u){const p=u??-1,m=i.length-1;let v=0;for(let y=void 0!==u?65535&t[18]:0;y<m;y++)if("number"==typeof i[y+1]){if(v=i[y],null!=u&&v>=u)break}else i[y]<0&&(t[18]+=65536),(v<p||-1==p)&&(qt(t,a,i,y),t[18]=(4294901760&t[18])+y+2),y++}function qt(t,i,a,u){const d=a[u]<0,p=a[u+1],v=t[d?-a[u]:a[u]];if(d){if(t[2]>>11<t[18]>>16&&(3&t[2])===i){t[2]+=2048;try{p.call(v)}finally{}}}else try{p.call(v)}finally{}}class Va{constructor(i,a,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function zo(t,i,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const p=a[u++],m=a[u++],v=a[u++];t.setAttribute(i,m,v,p)}else{const p=d,m=a[++u];Td(p)?t.setProperty(i,p,m):t.setAttribute(i,p,m),u++}}return u}function Vl(t){return 3===t||4===t||6===t}function Td(t){return 64===t.charCodeAt(0)}function Bl(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let a=-1;for(let u=0;u<i.length;u++){const d=i[u];"number"==typeof d?a=d:0===a||Bf(t,a,d,null,-1===a||2===a?i[++u]:null)}}return t}function Bf(t,i,a,u,d){let p=0,m=t.length;if(-1===i)m=-1;else for(;p<t.length;){const v=t[p++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=p-1;break}}}for(;p<t.length;){const v=t[p];if("number"==typeof v)break;if(v===a){if(null===u)return void(null!==d&&(t[p+1]=d));if(u===t[p+1])return void(t[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==m&&(t.splice(m,0,i),p=m+1),t.splice(p++,0,a),null!==u&&t.splice(p++,0,u),null!==d&&t.splice(p++,0,d)}function Ul(t){return-1!==t}function Ji(t){return 32767&t}function Wo(t,i){let a=function Hl(t){return t>>16}(t),u=i;for(;a>0;)u=u[15],a--;return u}let Ba=!0;function jl(t){const i=Ba;return Ba=t,i}let Ua=0;const Ri={};function $l(t,i){const a=Wu(t,i);if(-1!==a)return a;const u=i[1];u.firstCreatePass&&(t.injectorIndex=i.length,Od(u.data,t),Od(i,null),Od(u.blueprint,null));const d=Ko(t,i),p=t.injectorIndex;if(Ul(d)){const m=Ji(d),v=Wo(d,i),y=v[1].data;for(let E=0;E<8;E++)i[p+E]=v[m+E]|y[m+E]}return i[p+8]=d,p}function Od(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Wu(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Ko(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let a=0,u=null,d=i;for(;null!==d;){if(u=ho(d),null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function uo(t,i,a){!function zu(t,i,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(xr)&&(u=a[xr]),null==u&&(u=a[xr]=Ua++);const d=255&u;i.data[t+(d>>5)]|=1<<d}(t,i,a)}function Pd(t,i,a){if(a&ze.Optional||void 0!==t)return t;_e()}function Rd(t,i,a,u){if(a&ze.Optional&&void 0===u&&(u=null),0==(a&(ze.Self|ze.Host))){const d=t[9],p=zt(void 0);try{return d?d.get(i,u,a&ze.Optional):Js(i,u,a&ze.Optional)}finally{zt(p)}}return Pd(u,0,a)}function fm(t,i,a,u=ze.Default,d){if(null!==t){if(1024&i[2]){const m=function Gl(t,i,a,u,d){let p=t,m=i;for(;null!==p&&null!==m&&1024&m[2]&&!(256&m[2]);){const v=Hf(p,m,a,u|ze.Self,Ri);if(v!==Ri)return v;let y=p.parent;if(!y){const E=m[21];if(E){const A=E.get(a,Ri,u);if(A!==Ri)return A}y=ho(m),m=m[15]}p=y}return d}(t,i,a,u,Ri);if(m!==Ri)return m}const p=Hf(t,i,a,u,Ri);if(p!==Ri)return p}return Rd(i,a,u,d)}function Hf(t,i,a,u,d){const p=function pm(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(xr)?t[xr]:void 0;return"number"==typeof i?i>=0?255&i:ja:i}(a);if("function"==typeof p){if(!Ad(i,t,u))return u&ze.Host?Pd(d,0,u):Rd(i,a,u,d);try{const m=p(u);if(null!=m||u&ze.Optional)return m;_e()}finally{Ff()}}else if("number"==typeof p){let m=null,v=Wu(t,i),y=-1,E=u&ze.Host?i[16][6]:null;for((-1===v||u&ze.SkipSelf)&&(y=-1===v?Ko(t,i):i[v+8],-1!==y&&gm(u,!1)?(m=i[1],v=Ji(y),i=Wo(y,i)):v=-1);-1!==v;){const A=i[1];if(kd(p,v,A.data)){const O=ri(v,i,a,m,u,E);if(O!==Ri)return O}y=i[v+8],-1!==y&&gm(u,i[1].data[v+8]===E)&&kd(p,v,i)?(m=A,v=Ji(y),i=Wo(y,i)):v=-1}}return d}function ri(t,i,a,u,d,p){const m=i[1],v=m.data[t+8],A=Kn(v,m,a,null==u?no(v)&&Ba:u!=m&&0!=(3&v.type),d&ze.Host&&p===v);return null!==A?Ha(i,m,A,v):Ri}function Kn(t,i,a,u,d){const p=t.providerIndexes,m=i.data,v=1048575&p,y=t.directiveStart,A=p>>20,F=d?v+A:t.directiveEnd;for(let Y=u?v:v+A;Y<F;Y++){const he=m[Y];if(Y<y&&a===he||Y>=y&&he.type===a)return Y}if(d){const Y=m[y];if(Y&&Yi(Y)&&Y.type===a)return y}return null}function Ha(t,i,a,u){let d=t[a];const p=i.data;if(function dr(t){return t instanceof Va}(d)){const m=d;m.resolving&&function We(t,i){const a=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${a}`)}(function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():me(t)}(p[a]));const v=jl(m.canSeeViewProviders);m.resolving=!0;const y=m.injectImpl?zt(m.injectImpl):null;Ad(t,u,ze.Default);try{d=t[a]=m.factory(void 0,p,t,u),i.firstCreatePass&&a>=u.directiveStart&&function le(t,i,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=i.type.prototype;if(u){const m=Of(i);(a.preOrderHooks||(a.preOrderHooks=[])).push(t,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(t,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-t,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(t,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(t,p))}(a,p[a],i)}finally{null!==y&&zt(y),jl(v),m.resolving=!1,Ff()}}return d}function kd(t,i,a){return!!(a[i+(t>>5)]&1<<t)}function gm(t,i){return!(t&ze.Self||t&ze.Host&&i)}class Yo{constructor(i,a){this._tNode=i,this._lView=a}get(i,a,u){return fm(this._tNode,this._lView,i,u,a)}}function ja(){return new Yo(ii(),we())}function Rr(t){return Ni(()=>{const i=t.prototype.constructor,a=i[Dr]||co(i),u=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==u;){const p=d[Dr]||co(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function co(t){return Ce(t)?()=>{const i=co(H(t));return i&&i()}:io(t)}function ho(t){const i=t[1],a=i.type;return 2===a?i.declTNode:1===a?t[6]:null}function Qo(t){return function Ku(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const a=t.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const p=a[d];if(Vl(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(p===i)return a[d+1];d+=2}}}return null}(ii(),t)}const ql="__parameters__";function zl(t,i,a){return Ni(()=>{const u=function $f(t){return function(...a){if(t){const u=t(...a);for(const d in u)this[d]=u[d]}}}(i);function d(...p){if(this instanceof d)return u.apply(this,p),this;const m=new d(...p);return v.annotation=m,v;function v(y,E,A){const O=y.hasOwnProperty(ql)?y[ql]:Object.defineProperty(y,ql,{value:[]})[ql];for(;O.length<=A;)O.push(null);return(O[A]=O[A]||[]).push(m),y}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class en{constructor(i,a){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ot({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ci(t,i){void 0===i&&(i=t);for(let a=0;a<t.length;a++){let u=t[a];Array.isArray(u)?(i===t&&(i=t.slice(0,a)),Ci(u,i)):i!==t&&i.push(u)}return i}function Pn(t,i){t.forEach(a=>Array.isArray(a)?Pn(a,i):i(a))}function Zf(t,i,a){i>=t.length?t.push(a):t.splice(i,0,a)}function Xu(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Kl(t,i){const a=[];for(let u=0;u<t;u++)a.push(i);return a}function Yn(t,i,a){let u=hr(t,i);return u>=0?t[1|u]=a:(u=~u,function mm(t,i,a,u){let d=t.length;if(d==i)t.push(a,u);else if(1===d)t.push(u,t[0]),t[0]=a;else{for(d--,t.push(t[d-1],t[d]);d>i;)t[d]=t[d-2],d--;t[i]=a,t[i+1]=u}}(t,u,i,a)),u}function Yl(t,i){const a=hr(t,i);if(a>=0)return t[1|a]}function hr(t,i){return function Bn(t,i,a){let u=0,d=t.length>>a;for(;d!==u;){const p=u+(d-u>>1),m=t[p<<a];if(i===m)return p<<a;m>i?d=p:u=p+1}return~(d<<a)}(t,i,1)}const Ps={},ki="__NG_DI_FLAG__",Rs="ngTempTokenPath",Nd=/\n/gm,Ga="__source";let fr;function Ht(t){const i=fr;return fr=t,i}function ln(t,i=ze.Default){if(void 0===fr)throw new ue(-203,!1);return null===fr?Js(t,void 0,i):fr.get(t,i&ze.Optional?null:void 0,i)}function on(t,i=ze.Default){return(function Qs(){return ys}()||ln)(H(t),i)}function Rn(t,i=ze.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),on(t,i)}function kt(t){const i=[];for(let a=0;a<t.length;a++){const u=H(t[a]);if(Array.isArray(u)){if(0===u.length)throw new ue(900,!1);let d,p=ze.Default;for(let m=0;m<u.length;m++){const v=u[m],y=Qf(v);"number"==typeof y?-1===y?d=v.token:p|=y:d=v}i.push(on(d,p))}else i.push(on(u))}return i}function ks(t,i){return t[ki]=i,t.prototype[ki]=i,t}function Qf(t){return t[ki]}const pr=ks(zl("Inject",t=>({token:t})),-1),ot=ks(zl("Optional"),8),Dn=ks(zl("Self"),2),Xo=ks(zl("SkipSelf"),4);var Xi=(()=>((Xi=Xi||{})[Xi.Important=1]="Important",Xi[Xi.DashCase=2]="DashCase",Xi))();const po=new Map;let np=0;const pi="__ngContext__";function an(t,i){zn(i)?(t[pi]=i[20],function Em(t){po.set(t[20],t)}(i)):t[pi]=i}function nu(t,i){return undefined(t,i)}function Ka(t){const i=t[3];return Ln(i)?i[3]:i}function la(t){return iu(t[13])}function dc(t){return iu(t[4])}function iu(t){for(;null!==t&&!Ln(t);)t=t[4];return t}function Ei(t,i,a,u,d){if(null!=u){let p,m=!1;Ln(u)?p=u:zn(u)&&(m=!0,u=u[0]);const v=Nn(u);0===t&&null!==a?null==d?mc(i,a,v):ua(i,a,v,d||null,!0):1===t&&null!==a?ua(i,a,v,d||null,!0):2===t?function ha(t,i,a){const u=Ns(t,i);u&&function _c(t,i,a,u){t.removeChild(i,a,u)}(t,u,i,a)}(i,v,m):3===t&&i.destroyNode(v),null!=p&&function yc(t,i,a,u,d){const p=a[7];p!==Nn(a)&&Ei(i,t,u,p,d);for(let v=10;v<a.length;v++){const y=a[v];mo(y[1],y,t,i,u,p)}}(i,t,p,a,d)}}function Hi(t,i,a){return t.createElement(i,a)}function ap(t,i){const a=t[9],u=a.indexOf(i),d=i[3];512&i[2]&&(i[2]&=-513,Jr(d,-1)),a.splice(u,1)}function fc(t,i){if(t.length<=10)return;const a=10+i,u=t[a];if(u){const d=u[17];null!==d&&d!==t&&ap(d,u),i>0&&(t[a-1][4]=u[4]);const p=Xu(t,10+i);!function ru(t,i){mo(t,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=p[19];null!==m&&m.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Kd(t,i){if(!(128&i[2])){const a=i[11];a.destroyNode&&mo(t,i,a,3,null,null),function op(t){let i=t[13];if(!i)return Ja(t[1],t);for(;i;){let a=null;if(zn(i))a=i[13];else{const u=i[10];u&&(a=u)}if(!a){for(;i&&!i[4]&&i!==t;)zn(i)&&Ja(i[1],i),i=i[3];null===i&&(i=t),zn(i)&&Ja(i[1],i),a=i&&i[4]}i=a}}(i)}}function Ja(t,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function pc(t,i){let a;if(null!=t&&null!=(a=t.destroyHooks))for(let u=0;u<a.length;u+=2){const d=i[a[u]];if(!(d instanceof Va)){const p=a[u+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const v=d[p[m]],y=p[m+1];try{y.call(v)}finally{}}else try{p.call(d)}finally{}}}}(t,i),function lp(t,i){const a=t.cleanup,u=i[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const m=a[p+1],v="function"==typeof m?m(i):Nn(i[m]),y=u[d=a[p+2]],E=a[p+3];"boolean"==typeof E?v.removeEventListener(a[p],y,E):E>=0?u[d=E]():u[d=-E].unsubscribe(),p+=2}else{const m=u[d=a[p+1]];a[p].call(m)}if(null!==u){for(let p=d+1;p<u.length;p++)(0,u[p])();i[7]=null}}(t,i),1===i[1].type&&i[11].destroy();const a=i[17];if(null!==a&&Ln(i[3])){a!==i[3]&&ap(a,i);const u=i[19];null!==u&&u.detachView(t)}!function bm(t){po.delete(t[20])}(i)}}function gc(t,i,a){return function Xa(t,i,a){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return a[0];if(2&u.flags){const d=t.data[u.directiveStart].encapsulation;if(d===tt.None||d===tt.Emulated)return null}return Bi(u,a)}(t,i.parent,a)}function ua(t,i,a,u,d){t.insertBefore(i,a,u,d)}function mc(t,i,a){t.appendChild(i,a)}function ca(t,i,a,u,d){null!==u?ua(t,i,a,u,d):mc(t,i,a)}function Ns(t,i){return t.parentNode(i)}function Nr(t,i,a){return Vs(t,i,a)}let pa,Ec,nh,Vs=function Qd(t,i,a){return 40&t.type?Bi(t,a):null};function da(t,i,a,u){const d=gc(t,u,i),p=i[11],v=Nr(u.parent||i[6],u,i);if(null!=d)if(Array.isArray(a))for(let y=0;y<a.length;y++)ca(p,d,a[y],v,!1);else ca(p,d,a,v,!1)}function ou(t,i){if(null!==i){const a=i.type;if(3&a)return Bi(i,t);if(4&a)return el(-1,t[i.index]);if(8&a){const u=i.child;if(null!==u)return ou(t,u);{const d=t[i.index];return Ln(d)?el(-1,d):Nn(d)}}if(32&a)return nu(i,t)()||Nn(t[i.index]);{const u=mr(t,i);return null!==u?Array.isArray(u)?u[0]:ou(Ka(t[16]),u):ou(t,i.next)}}return null}function mr(t,i){return null!==i?t[16][6].projection[i.projection]:null}function el(t,i){const a=10+t+1;if(a<i.length){const u=i[a],d=u[1].firstChild;if(null!==d)return ou(u,d)}return i[7]}function fa(t,i,a,u,d,p,m){for(;null!=a;){const v=u[a.index],y=a.type;if(m&&0===i&&(v&&an(Nn(v),u),a.flags|=4),64!=(64&a.flags))if(8&y)fa(t,i,a.child,u,d,p,!1),Ei(i,t,d,v,p);else if(32&y){const E=nu(a,u);let A;for(;A=E();)Ei(i,t,d,A,p);Ei(i,t,d,v,p)}else 16&y?lt(t,i,u,a,d,p):Ei(i,t,d,v,p);a=m?a.projectionNext:a.next}}function mo(t,i,a,u,d,p){fa(a,u,t.firstChild,i,d,p,!1)}function lt(t,i,a,u,d,p){const m=a[16],y=m[6].projection[u.projection];if(Array.isArray(y))for(let E=0;E<y.length;E++)Ei(i,t,d,y[E],p);else fa(t,i,y,m[3],d,p,!0)}function Bs(t,i,a){t.setAttribute(i,"style",a)}function Cc(t,i,a){""===a?t.removeAttribute(i,"class"):t.setAttribute(i,"class",a)}function xn(t){return function lu(){if(void 0===pa&&(pa=null,Wt.trustedTypes))try{pa=Wt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pa}()?.createHTML(t)||t}function eh(t){Ec=t}function Fi(t){return function cs(){if(void 0===nh&&(nh=null,Wt.trustedTypes))try{nh=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nh}()?.createHTML(t)||t}class Dc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function _r(t){return t instanceof Dc?t.changingThisBreaksApplicationSecurity:t}function cu(t,i){const a=function Im(t){return t instanceof Dc&&t.getTypeName()||null}(t);if(null!=a&&a!==i){if("ResourceURL"===a&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===i}class du{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const a=(new window.DOMParser).parseFromString(xn(i),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(i):(a.removeChild(a.firstChild),a)}catch{return null}}}class sh{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(i){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=xn(i),a;const u=this.inertDocument.createElement("body");return u.innerHTML=xn(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const a=i.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const nl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function il(t){return(t=String(t)).match(nl)?t:"unsafe:"+t}function ds(t){const i={};for(const a of t.split(","))i[a]=!0;return i}function ji(...t){const i={};for(const a of t)for(const u in a)a.hasOwnProperty(u)&&(i[u]=!0);return i}const _o=ds("area,br,col,hr,img,wbr"),up=ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oh=ds("rp,rt"),rl=ji(_o,ji(up,ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ji(oh,ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ji(oh,up)),vo=ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dp=ji(vo,ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rm=ds("script,style,template");class km{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let a=i.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(i){const a=i.nodeName.toLowerCase();if(!rl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Rm.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=i.attributes;for(let d=0;d<u.length;d++){const p=u.item(d),m=p.name,v=m.toLowerCase();if(!dp.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let y=p.value;vo[v]&&(y=il(y)),this.buf.push(" ",m,'="',ah(y),'"')}return this.buf.push(">"),!0}endElement(i){const a=i.nodeName.toLowerCase();rl.hasOwnProperty(a)&&!_o.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(i){this.buf.push(ah(i))}checkClobberedElement(i,a){if(a&&(i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return a}}const Fm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hp=/([^\#-~ |!])/g;function ah(t){return t.replace(/&/g,"&amp;").replace(Fm,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(hp,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hu;function lh(t){return"content"in t&&function uh(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Mn=(()=>((Mn=Mn||{})[Mn.NONE=0]="NONE",Mn[Mn.HTML=1]="HTML",Mn[Mn.STYLE=2]="STYLE",Mn[Mn.SCRIPT=3]="SCRIPT",Mn[Mn.URL=4]="URL",Mn[Mn.RESOURCE_URL=5]="RESOURCE_URL",Mn))();function Mc(t){const i=sl();return i?Fi(i.sanitize(Mn.HTML,t)||""):cu(t,"HTML")?Fi(_r(t)):function fp(t,i){let a=null;try{hu=hu||function _a(t){const i=new sh(t);return function tl(){try{return!!(new window.DOMParser).parseFromString(xn(""),"text/html")}catch{return!1}}()?new du(i):i}(t);let u=i?String(i):"";a=hu.getInertBodyElement(u);let d=5,p=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=p,p=a.innerHTML,a=hu.getInertBodyElement(u)}while(u!==p);return xn((new km).sanitizeChildren(lh(a)||a))}finally{if(a){const u=lh(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}(function th(){return void 0!==Ec?Ec:typeof document<"u"?document:void 0}(),me(t))}function ch(t){const i=sl();return i?i.sanitize(Mn.URL,t)||"":cu(t,"URL")?_r(t):il(me(t))}function sl(){const t=we();return t&&t[12]}const va=new en("ENVIRONMENT_INITIALIZER"),hh=new en("INJECTOR",-1),_p=new en("INJECTOR_DEF_TYPES");class Tc{get(i,a=Ps){if(a===Ps){const u=new Error(`NullInjectorError: No provider for ${Z(i)}!`);throw u.name="NullInjectorError",u}return a}}function Vm(...t){return{\u0275providers:vp(0,t)}}function vp(t,...i){const a=[],u=new Set;let d;return Pn(i,p=>{const m=p;ol(m,a,[],u)&&(d||(d=[]),d.push(m))}),void 0!==d&&yp(d,a),a}function yp(t,i){for(let a=0;a<t.length;a++){const{providers:d}=t[a];Pn(d,p=>{i.push(p)})}}function ol(t,i,a,u){if(!(t=H(t)))return!1;let d=null,p=No(t);const m=!p&&jt(t);if(p||m){if(m&&!m.standalone)return!1;d=t}else{const y=t.ngModule;if(p=No(y),!p)return!1;d=y}const v=u.has(d);if(m){if(v)return!1;if(u.add(d),m.dependencies){const y="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const E of y)ol(E,i,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!v){let E;u.add(d);try{Pn(p.imports,A=>{ol(A,i,a,u)&&(E||(E=[]),E.push(A))})}finally{}void 0!==E&&yp(E,i)}if(!v){const E=io(d)||(()=>new d);i.push({provide:d,useFactory:E,deps:yt},{provide:_p,useValue:d,multi:!0},{provide:va,useValue:()=>on(d),multi:!0})}const y=p.providers;null==y||v||Pn(y,A=>{i.push(A)})}}return d!==t&&void 0!==t.providers}const Bm=W({provide:String,useValue:W});function fh(t){return null!==t&&"object"==typeof t&&Bm in t}function ya(t){return"function"==typeof t}const Ic=new en("Set Injector scope."),Oc={},Ep={};let Pc;function fu(){return void 0===Pc&&(Pc=new Tc),Pc}class yo{}class ph extends yo{constructor(i,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rc(i,m=>this.processProvider(m)),this.records.set(hh,al(void 0,this)),d.has("environment")&&this.records.set(yo,al(void 0,this));const p=this.records.get(Ic);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(_p.multi,yt,ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const a=Ht(this),u=zt(void 0);try{return i()}finally{Ht(a),zt(u)}}get(i,a=Ps,u=ze.Default){this.assertNotDestroyed();const d=Ht(this),p=zt(void 0);try{if(!(u&ze.SkipSelf)){let v=this.records.get(i);if(void 0===v){const y=function vh(t){return"function"==typeof t||"object"==typeof t&&t instanceof en}(i)&&Ki(i);v=y&&this.injectableDefInScope(y)?al(gh(i),Oc):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(u&ze.Self?fu():this.parent).get(i,a=u&ze.Optional&&a===Ps?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[Rs]=m[Rs]||[]).unshift(Z(i)),d)throw m;return function tc(t,i,a,u){const d=t[Rs];throw i[Ga]&&d.unshift(i[Ga]),t.message=function ai(t,i,a,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=Z(i);if(Array.isArray(i))d=i.map(Z).join(" -> ");else if("object"==typeof i){let p=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];p.push(m+":"+("string"==typeof v?JSON.stringify(v):Z(v)))}d=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${t.replace(Nd,"\n  ")}`}("\n"+t.message,d,a,u),t.ngTokenPath=d,t[Rs]=null,t}(m,i,"R3InjectorError",this.source)}throw m}finally{zt(p),Ht(d)}}resolveInjectorInitializers(){const i=Ht(this),a=zt(void 0);try{const u=this.get(va.multi,yt,ze.Self);for(const d of u)d()}finally{Ht(i),zt(a)}}toString(){const i=[],a=this.records;for(const u of a.keys())i.push(Z(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(i){let a=ya(i=H(i))?i:H(i&&i.provide);const u=function mh(t){return fh(t)?al(void 0,t.useValue):al(_h(t),Oc)}(i);if(ya(i)||!0!==i.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=al(void 0,Oc,!0),d.factory=()=>kt(d.multi),this.records.set(a,d)),a=i,d.multi.push(i)}this.records.set(a,u)}hydrate(i,a){return a.value===Oc&&(a.value=Ep,a.value=a.factory()),"object"==typeof a.value&&a.value&&function bp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(i){if(!i.providedIn)return!1;const a=H(i.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function gh(t){const i=Ki(t),a=null!==i?i.factory:io(t);if(null!==a)return a;if(t instanceof en)throw new ue(204,!1);if(t instanceof Function)return function Hm(t){const i=t.length;if(i>0)throw Kl(i,"?"),new ue(204,!1);const a=function Fo(t){const i=t&&(t[di]||t[Sl]);if(i){const a=function Lo(t){if(t.hasOwnProperty("name"))return t.name;const i=(""+t).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),i}return null}(t);return null!==a?()=>a.factory(t):()=>new t}(t);throw new ue(204,!1)}function _h(t,i,a){let u;if(ya(t)){const d=H(t);return io(d)||gh(d)}if(fh(t))u=()=>H(t.useValue);else if(function wp(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...kt(t.deps||[]));else if(function Cp(t){return!(!t||!t.useExisting)}(t))u=()=>on(H(t.useExisting));else{const d=H(t&&(t.useClass||t.provide));if(!function jm(t){return!!t.deps}(t))return io(d)||gh(d);u=()=>new d(...kt(t.deps))}return u}function al(t,i,a=!1){return{factory:t,value:i,multi:a?[]:void 0}}function Dp(t){return!!t.\u0275providers}function Rc(t,i){for(const a of t)Array.isArray(a)?Rc(a,i):Dp(a)?Rc(a.\u0275providers,i):i(a)}class xp{}class kc{resolveComponentFactory(i){throw function Mp(t){const i=Error(`No component factory found for ${Z(t)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=t,i}(i)}}let ll=(()=>{class t{}return t.NULL=new kc,t})();function Ch(){return Co(ii(),we())}function Co(t,i){return new pu(Bi(t,i))}let pu=(()=>{class t{constructor(a){this.nativeElement=a}}return t.__NG_ELEMENT_ID__=Ch,t})();function $m(t){return t instanceof pu?t.nativeElement:t}class Sp{}let Gm=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function qm(){const t=we(),a=Gt(ii().index,t);return(zn(a)?a:t)[11]}(),t})(),Zm=(()=>{class t{}return t.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>null}),t})();class Tp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ip=new Tp("14.2.12"),Un={};function wo(t){return t.ngOriginalError}class Eo{constructor(){this._console=console}handleError(i){const a=this._findOriginalError(i);this._console.error("ERROR",i),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(i){let a=i&&wo(i);for(;a&&wo(a);)a=wo(a);return a||null}}function Fc(t){return t.ownerDocument.defaultView}function Rp(t){return t.ownerDocument}function vr(t){return t instanceof Function?t():t}function Dh(t,i,a){let u=t.length;for(;;){const d=t.indexOf(i,a);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const p=i.length;if(d+p===u||t.charCodeAt(d+p)<=32)return d}a=d+1}}const Lp="ng-template";function Np(t,i,a){let u=0;for(;u<t.length;){let d=t[u++];if(a&&"class"===d){if(d=t[u],-1!==Dh(d.toLowerCase(),i,0))return!0}else if(1===d){for(;u<t.length&&"string"==typeof(d=t[u++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function xh(t){return 4===t.type&&t.value!==Lp}function Lc(t,i,a){return i===(4!==t.type||a?t.value:Lp)}function Vp(t,i,a){let u=4;const d=t.attrs||[],p=function Qm(t){for(let i=0;i<t.length;i++)if(Vl(t[i]))return i;return t.length}(d);let m=!1;for(let v=0;v<i.length;v++){const y=i[v];if("number"!=typeof y){if(!m)if(4&u){if(u=2|1&u,""!==y&&!Lc(t,y,a)||""===y&&1===i.length){if(Vr(u))return!1;m=!0}}else{const E=8&u?y:i[++v];if(8&u&&null!==t.attrs){if(!Np(t.attrs,E,a)){if(Vr(u))return!1;m=!0}continue}const O=_u(8&u?"class":y,d,xh(t),a);if(-1===O){if(Vr(u))return!1;m=!0;continue}if(""!==E){let F;F=O>p?"":d[O+1].toLowerCase();const Y=8&u?F:null;if(Y&&-1!==Dh(Y,E,0)||2&u&&E!==F){if(Vr(u))return!1;m=!0}}}}else{if(!m&&!Vr(u)&&!Vr(y))return!1;if(m&&Vr(y))continue;m=!1,u=y|1&u}}return Vr(u)||m}function Vr(t){return 0==(1&t)}function _u(t,i,a,u){if(null===i)return-1;let d=0;if(u||!a){let p=!1;for(;d<i.length;){const m=i[d];if(m===t)return d;if(3===m||6===m)p=!0;else{if(1===m||2===m){let v=i[++d];for(;"string"==typeof v;)v=i[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=p?1:2}return-1}return function Jm(t,i){let a=t.indexOf(4);if(a>-1)for(a++;a<t.length;){const u=t[a];if("number"==typeof u)return-1;if(u===i)return a;a++}return-1}(i,t)}function Bp(t,i,a=!1){for(let u=0;u<i.length;u++)if(Vp(t,i[u],a))return!0;return!1}function vu(t,i){e:for(let a=0;a<i.length;a++){const u=i[a];if(t.length===u.length){for(let d=0;d<t.length;d++)if(t[d]!==u[d])continue e;return!0}}return!1}function yu(t,i){return t?":not("+i.trim()+")":i}function Xm(t){let i=t[0],a=1,u=2,d="",p=!1;for(;a<t.length;){let m=t[a];if("string"==typeof m)if(2&u){const v=t[++a];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?d+="."+m:4&u&&(d+=" "+m);else""!==d&&!Vr(m)&&(i+=yu(p,d),d=""),u=m,p=p||!Vr(u);a++}return""!==d&&(i+=yu(p,d)),i}const Et={};function Ah(t){Hp(Rt(),we(),Wn()+t,!1)}function Hp(t,i,a,u){if(!u)if(3==(3&i[2])){const p=t.preOrderCheckHooks;null!==p&&qe(i,p,a)}else{const p=t.preOrderHooks;null!==p&&dt(i,p,0,a)}ao(a)}function Hn(t,i=null,a=null,u){const d=ir(t,i,a,u);return d.resolveInjectorInitializers(),d}function ir(t,i=null,a=null,u,d=new Set){const p=[a||yt,Vm(t)];return u=u||("object"==typeof t?void 0:Z(t)),new ph(p,i||fu(),u||null,d)}let wa=(()=>{class t{static create(a,u){if(Array.isArray(a))return Hn({name:""},u,a,"");{const d=a.name??"";return Hn({name:d},a.parent,a.providers,d)}}}return t.THROW_IF_NOT_FOUND=Ps,t.NULL=new Tc,t.\u0275prov=Ot({token:t,providedIn:"any",factory:()=>on(hh)}),t.__NG_ELEMENT_ID__=-1,t})();function bo(t,i=ze.Default){const a=we();return null===a?on(t,i):fm(ii(),a,H(t),i)}function ae(){throw new Error("invalid")}function Zs(t,i){return t<<17|i<<2}function Br(t){return t>>17&32767}function Ur(t){return 2|t}function fs(t){return(131068&t)>>2}function Bc(t,i){return-131069&t|i<<2}function Dt(t){return 1|t}function ng(t,i){const a=t.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],p=a[u+1];if(-1!==p){const m=t.data[p];Md(d),m.contentQueries(2,i[p],p)}}}function Ks(t,i,a,u,d,p,m,v,y,E,A){const O=i.blueprint.slice();return O[0]=d,O[2]=76|u,(null!==A||t&&1024&t[2])&&(O[2]|=1024),yd(O),O[3]=O[15]=t,O[8]=a,O[10]=m||t&&t[10],O[11]=v||t&&t[11],O[12]=y||t&&t[12]||null,O[9]=E||t&&t[9]||null,O[6]=p,O[20]=function wm(){return np++}(),O[21]=A,O[16]=2==i.type?t[16]:O,O}function hl(t,i,a,u,d){let p=t.data[i];if(null===p)p=function Da(t,i,a,u,d){const p=Ed(),m=Hu(),y=t.data[i]=function y_(t,i,a,u,d,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,a,i,u,d);return null===t.firstChild&&(t.firstChild=y),null!==p&&(m?null==p.child&&null!==y.parent&&(p.child=y):null===p.next&&(p.next=y)),y}(t,i,a,u,d),function lm(){return _t.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=d;const m=function Rl(){const t=_t.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();p.injectorIndex=null===m?-1:m.injectorIndex}return cr(p,!0),p}function Do(t,i,a,u){if(0===a)return-1;const d=i.length;for(let p=0;p<a;p++)i.push(u),t.blueprint.push(u),t.data.push(null);return d}function Cr(t,i,a){Sd(i);try{const u=t.viewQuery;null!==u&&Yc(1,u,a);const d=t.template;null!==d&&Lh(t,i,d,1,a),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ng(t,i),t.staticViewQueries&&Yc(2,t.viewQuery,a);const p=t.components;null!==p&&function m_(t,i){for(let a=0;a<i.length;a++)_g(t,i[a])}(i,p)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{i[2]&=-5,Fl()}}function qc(t,i,a,u){const d=i[2];if(128!=(128&d)){Sd(i);try{yd(i),function kl(t){return _t.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==a&&Lh(t,i,a,2,u);const m=3==(3&d);if(m){const E=t.preOrderCheckHooks;null!==E&&qe(i,E,null)}else{const E=t.preOrderHooks;null!==E&&dt(i,E,0,null),Ft(i,0)}if(function gg(t){for(let i=la(t);null!==i;i=dc(i)){if(!i[2])continue;const a=i[9];for(let u=0;u<a.length;u++){const d=a[u],p=d[3];0==(512&d[2])&&Jr(p,1),d[2]|=512}}}(i),function zc(t){for(let i=la(t);null!==i;i=dc(i))for(let a=10;a<i.length;a++){const u=i[a],d=u[1];La(u)&&qc(d,u,d.template,u[8])}}(i),null!==t.contentQueries&&ng(t,i),m){const E=t.contentCheckHooks;null!==E&&qe(i,E)}else{const E=t.contentHooks;null!==E&&dt(i,E,1),Ft(i,1)}!function p_(t,i){const a=t.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)ao(~d);else{const p=d,m=a[++u],v=a[++u];Yv(m,p),v(2,i[p])}}}finally{ao(-1)}}(t,i);const v=t.components;null!==v&&function g_(t,i){for(let a=0;a<i.length;a++)mg(t,i[a])}(i,v);const y=t.viewQuery;if(null!==y&&Yc(2,y,u),m){const E=t.viewCheckHooks;null!==E&&qe(i,E)}else{const E=t.viewHooks;null!==E&&dt(i,E,2),Ft(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Jr(i[3],-1))}finally{Fl()}}}function Lh(t,i,a,u,d){const p=Wn(),m=2&u;try{ao(-1),m&&i.length>22&&Hp(t,i,22,!1),a(u,d)}finally{ao(p)}}function Nh(t,i,a){if(Sr(i)){const d=i.directiveEnd;for(let p=i.directiveStart;p<d;p++){const m=t.data[p];m.contentQueries&&m.contentQueries(1,a[p],p)}}}function Vh(t,i,a){!Go()||(function xa(t,i,a,u){const d=a.directiveStart,p=a.directiveEnd;t.firstCreatePass||$l(a,i),an(u,i);const m=a.initialInputs;for(let v=d;v<p;v++){const y=t.data[v],E=Yi(y);E&&Mo(i,a,y);const A=Ha(i,t,v,a);an(A,i),null!==m&&Ao(0,v-d,A,y,0,m),E&&(Gt(a.index,i)[8]=A)}}(t,i,a,Bi(a,i)),128==(128&a.flags)&&function jr(t,i,a){const u=a.directiveStart,d=a.directiveEnd,p=a.index,m=function Qv(){return _t.lFrame.currentDirectiveIndex}();try{ao(p);for(let v=u;v<d;v++){const y=t.data[v],E=i[v];kf(v),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&cg(y,E)}}finally{ao(-1),kf(m)}}(t,i,a))}function Bh(t,i,a=Bi){const u=i.localNames;if(null!==u){let d=i.index+1;for(let p=0;p<u.length;p+=2){const m=u[p+1],v=-1===m?a(i,t):t[m];t[d++]=v}}}function ig(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Uh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):i}function Uh(t,i,a,u,d,p,m,v,y,E){const A=22+u,O=A+d,F=function __(t,i){const a=[];for(let u=0;u<i;u++)a.push(u<t?null:Et);return a}(A,O),Y="function"==typeof E?E():E;return F[1]={type:t,blueprint:F,template:a,queries:null,viewQuery:v,declTNode:i,data:F.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:y,consts:Y,incompleteFirstPass:!1}}function rg(t,i,a,u){const d=qh(i);null===a?d.push(u):(d.push(a),t.firstCreatePass&&Zh(t).push(u,d.length-1))}function Hh(t,i,a){for(let u in t)if(t.hasOwnProperty(u)){const d=t[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(i,d):a[u]=[i,d]}return a}function jh(t,i){const u=i.directiveEnd,d=t.data,p=i.attrs,m=[];let v=null,y=null;for(let E=i.directiveStart;E<u;E++){const A=d[E],O=A.inputs,F=null===p||xh(i)?null:C_(O,p);m.push(F),v=Hh(O,E,v),y=Hh(A.outputs,E,y)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=y}function qi(t,i,a,u,d,p,m,v){const y=Bi(i,a);let A,E=i.inputs;!v&&null!=E&&(A=E[u])?(fl(t,a,A,u,d),no(i)&&Zc(a,i.index)):3&i.type&&(u=function $h(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),d=null!=m?m(d,i.value||"",u):d,p.setProperty(y,u,d))}function Zc(t,i){const a=Gt(i,t);16&a[2]||(a[2]|=32)}function xo(t,i,a,u){let d=!1;if(Go()){const p=function dg(t,i,a){const u=t.directiveRegistry;let d=null;if(u)for(let p=0;p<u.length;p++){const m=u[p];Bp(a,m.selectors,!1)&&(d||(d=[]),uo($l(a,i),t,m.type),Yi(m)?(hg(t,a),d.unshift(m)):d.push(m))}return d}(t,i,a),m=null===u?null:{"":-1};if(null!==p){d=!0,Du(a,t.data.length,p.length);for(let A=0;A<p.length;A++){const O=p[A];O.providersResolver&&O.providersResolver(O)}let v=!1,y=!1,E=Do(t,i,p.length,null);for(let A=0;A<p.length;A++){const O=p[A];a.mergedAttrs=Bl(a.mergedAttrs,O.hostAttrs),pg(t,a,i,E,O),fg(E,O,m),null!==O.contentQueries&&(a.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=128);const F=O.type.prototype;!v&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(a.index),v=!0),!y&&(F.ngOnChanges||F.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(a.index),y=!0),E++}jh(t,a)}m&&function Gh(t,i,a){if(i){const u=t.localNames=[];for(let d=0;d<i.length;d+=2){const p=a[i[d+1]];if(null==p)throw new ue(-301,!1);u.push(i[d],p)}}}(a,u,m)}return a.mergedAttrs=Bl(a.mergedAttrs,a.attrs),d}function lg(t,i,a,u,d,p){const m=p.hostBindings;if(m){let v=t.hostBindingOpCodes;null===v&&(v=t.hostBindingOpCodes=[]);const y=~i.index;(function ug(t){let i=t.length;for(;i>0;){const a=t[--i];if("number"==typeof a&&a<0)return a}return 0})(v)!=y&&v.push(y),v.push(u,d,m)}}function cg(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function hg(t,i){i.flags|=2,(t.components||(t.components=[])).push(i.index)}function fg(t,i,a){if(a){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)a[i.exportAs[u]]=t;Yi(i)&&(a[""]=t)}}function Du(t,i,a){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+a,t.providerIndexes=i}function pg(t,i,a,u,d){t.data[u]=d;const p=d.factory||(d.factory=io(d.type)),m=new Va(p,Yi(d),bo);t.blueprint[u]=m,a[u]=m,lg(t,i,0,u,Do(t,a,d.hostVars,Et),d)}function Mo(t,i,a){const u=Bi(i,t),d=ig(a),p=t[10],m=xu(t,Ks(t,d,null,a.onPush?32:16,u,i,p,p.createRenderer(u,a),null,null,null));t[i.index]=m}function $r(t,i,a,u,d,p){const m=Bi(t,i);!function $n(t,i,a,u,d,p,m){if(null==p)t.removeAttribute(i,d,a);else{const v=null==m?me(p):m(p,u||"",d);t.setAttribute(i,d,v,a)}}(i[11],m,p,t.value,a,u,d)}function Ao(t,i,a,u,d,p){const m=p[i];if(null!==m){const v=u.setInput;for(let y=0;y<m.length;){const E=m[y++],A=m[y++],O=m[y++];null!==v?u.setInput(a,O,E,A):a[A]=O}}}function C_(t,i){let a=null,u=0;for(;u<i.length;){const d=i[u];if(0!==d)if(5!==d){if("number"==typeof d)break;t.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,t[d],i[u+1])),u+=2}else u+=2;else u+=4}return a}function Ai(t,i,a,u){return new Array(t,!0,!1,i,null,0,u,a,null,null)}function mg(t,i){const a=Gt(i,t);if(La(a)){const u=a[1];48&a[2]?qc(u,a,u.template,a[8]):a[5]>0&&Wc(a)}}function Wc(t){for(let u=la(t);null!==u;u=dc(u))for(let d=10;d<u.length;d++){const p=u[d];if(La(p))if(512&p[2]){const m=p[1];qc(m,p,m.template,p[8])}else p[5]>0&&Wc(p)}const a=t[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Gt(a[u],t);La(d)&&d[5]>0&&Wc(d)}}function _g(t,i){const a=Gt(i,t),u=a[1];(function Kc(t,i){for(let a=i.length;a<t.blueprint.length;a++)i.push(t.blueprint[a])})(u,a),Cr(u,a,a[8])}function xu(t,i){return t[13]?t[14][4]=i:t[13]=i,t[14]=i,i}function So(t){for(;t;){t[2]|=32;const i=Ka(t);if(P(t)&&!i)return t;t=i}return null}function Mu(t,i,a,u=!0){const d=i[10];d.begin&&d.begin();try{qc(t,i,t.template,a)}catch(m){throw u&&Qc(i,m),m}finally{d.end&&d.end()}}function Yc(t,i,a){Md(0),i(t,a)}function qh(t){return t[7]||(t[7]=[])}function Zh(t){return t.cleanup||(t.cleanup=[])}function Qc(t,i){const a=t[9],u=a?a.get(Eo,null):null;u&&u.handleError(i)}function fl(t,i,a,u,d){for(let p=0;p<a.length;){const m=a[p++],v=a[p++],y=i[m],E=t.data[m];null!==E.setInput?E.setInput(y,d,u,v):y[v]=d}}function Au(t,i,a){let u=a?t.styles:null,d=a?t.classes:null,p=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?p=v:1==p?d=U(d,v):2==p&&(u=U(u,v+": "+i[++m]+";"))}a?t.styles=u:t.stylesWithoutHost=u,a?t.classes=d:t.classesWithoutHost=d}function Su(t,i,a,u,d=!1){for(;null!==a;){const p=i[a.index];if(null!==p&&u.push(Nn(p)),Ln(p))for(let v=10;v<p.length;v++){const y=p[v],E=y[1].firstChild;null!==E&&Su(y[1],y,E,u)}const m=a.type;if(8&m)Su(t,i,a.child,u);else if(32&m){const v=nu(a,i);let y;for(;y=v();)u.push(y)}else if(16&m){const v=mr(i,a);if(Array.isArray(v))u.push(...v);else{const y=Ka(i[16]);Su(y[1],y,v,u,!0)}}a=d?a.projectionNext:a.next}return u}class pl{constructor(i,a){this._lView=i,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,a=i[1];return Su(a,i,a.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ln(i)){const a=i[8],u=a?a.indexOf(this):-1;u>-1&&(fc(i,u),Xu(a,u))}this._attachedToViewContainer=!1}Kd(this._lView[1],this._lView)}onDestroy(i){rg(this._lView[1],this._lView,null,i)}markForCheck(){So(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Mu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mm(t,i){mo(t,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i}}class Wh extends pl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Mu(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class gl extends ll{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const a=jt(i);return new Qn(a,this.ngModule)}}function Kh(t){const i=[];for(let a in t)t.hasOwnProperty(a)&&i.push({propName:t[a],templateName:a});return i}class yg{constructor(i,a){this.injector=i,this.parentInjector=a}get(i,a,u){const d=this.injector.get(i,Un,u);return d!==Un||a===Un?d:this.parentInjector.get(i,a,u)}}class Qn extends xp{constructor(i,a){super(),this.componentDef=i,this.ngModule=a,this.componentType=i.type,this.selector=function e_(t){return t.map(Xm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Kh(this.componentDef.inputs)}get outputs(){return Kh(this.componentDef.outputs)}create(i,a,u,d){let p=(d=d||this.ngModule)instanceof yo?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const m=p?new yg(i,p):i,v=m.get(Sp,null);if(null===v)throw new ue(407,!1);const y=m.get(Zm,null),E=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",O=u?function v_(t,i,a){return t.selectRootElement(i,a===tt.ShadowDom)}(E,u,this.componentDef.encapsulation):Hi(E,A,function vg(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(A)),F=this.componentDef.onPush?288:272,Y=Uh(0,null,null,1,0,null,null,null,null,null),he=Ks(null,Y,null,F,null,null,v,E,y,m,null);let Ie,Ue;Sd(he);try{const Ke=function D_(t,i,a,u,d,p){const m=a[1];a[22]=t;const y=hl(m,22,2,"#host",null),E=y.mergedAttrs=i.hostAttrs;null!==E&&(Au(y,E,!0),null!==t&&(zo(d,t,E),null!==y.classes&&Cc(d,t,y.classes),null!==y.styles&&Bs(d,t,y.styles)));const A=u.createRenderer(t,i),O=Ks(a,ig(i),null,i.onPush?32:16,a[22],y,u,A,p||null,null,null);return m.firstCreatePass&&(uo($l(y,a),m,i.type),hg(m,y),Du(y,a.length,1)),xu(a,O),a[22]=O}(O,this.componentDef,he,v,E);if(O)if(u)zo(E,O,["ng-version",Ip.full]);else{const{attrs:pt,classes:Ee}=function Mh(t){const i=[],a=[];let u=1,d=2;for(;u<t.length;){let p=t[u];if("string"==typeof p)2===d?""!==p&&i.push(p,t[++u]):8===d&&a.push(p);else{if(!Vr(d))break;d=p}u++}return{attrs:i,classes:a}}(this.componentDef.selectors[0]);pt&&zo(E,O,pt),Ee&&Ee.length>0&&Cc(E,O,Ee.join(" "))}if(Ue=Pl(Y,22),void 0!==a){const pt=Ue.projection=[];for(let Ee=0;Ee<this.ngContentSelectors.length;Ee++){const Ct=a[Ee];pt.push(null!=Ct?Array.from(Ct):null)}}Ie=function x_(t,i,a,u){const d=a[1],p=function ag(t,i,a){const u=ii();t.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),pg(t,u,i,Do(t,i,1,null),a),jh(t,u));const d=Ha(i,t,u.directiveStart,u);an(d,i);const p=Bi(u,i);return p&&an(p,i),d}(d,a,i);if(t[8]=a[8]=p,null!==u)for(const v of u)v(p,i);if(i.contentQueries){const v=ii();i.contentQueries(1,p,v.directiveStart)}const m=ii();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ao(m.index),lg(a[1],m,0,m.directiveStart,m.directiveEnd,i),cg(i,p)),p}(Ke,this.componentDef,he,[Yh]),Cr(Y,he,null)}finally{Fl()}return new my(this.componentType,Ie,Co(Ue,he),he,Ue)}}class my extends class ay{}{constructor(i,a,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Wh(d),this.componentType=i}setInput(i,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[i])){const p=this._rootLView;fl(p[1],p,d,i,a),Zc(p,this._tNode.index)}}get injector(){return new Yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Yh(){const t=ii();ee(we()[1],t)}function Qh(t){let i=function Tu(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),a=!0;const u=[t];for(;i;){let d;if(Yi(t))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ue(903,!1);d=i.\u0275dir}if(d){if(a){u.push(d);const m=t;m.inputs=Xh(t.inputs),m.declaredInputs=Xh(t.declaredInputs),m.outputs=Xh(t.outputs);const v=d.hostBindings;v&&h(t,v);const y=d.viewQuery,E=d.contentQueries;if(y&&_y(t,y),E&&l(t,E),B(t.inputs,d.inputs),B(t.declaredInputs,d.declaredInputs),B(t.outputs,d.outputs),Yi(d)&&d.data.animation){const A=t.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let m=0;m<p.length;m++){const v=p[m];v&&v.ngInherit&&v(t),v===Qh&&(a=!1)}}i=Object.getPrototypeOf(i)}!function Jh(t){let i=0,a=null;for(let u=t.length-1;u>=0;u--){const d=t[u];d.hostVars=i+=d.hostVars,d.hostAttrs=Bl(d.hostAttrs,a=Bl(a,d.hostAttrs))}}(u)}function Xh(t){return t===Ti?{}:t===yt?[]:t}function _y(t,i){const a=t.viewQuery;t.viewQuery=a?(u,d)=>{i(u,d),a(u,d)}:i}function l(t,i){const a=t.contentQueries;t.contentQueries=a?(u,d,p)=>{i(u,d,p),a(u,d,p)}:i}function h(t,i){const a=t.hostBindings;t.hostBindings=a?(u,d)=>{i(u,d),a(u,d)}:i}let T=null;function R(){if(!T){const t=Wt.Symbol;if(t&&t.iterator)T=t.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<i.length;++a){const u=i[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(T=u)}}}return T}function G(t){return!!ve(t)&&(Array.isArray(t)||!(t instanceof Map)&&R()in t)}function ve(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ge(t,i,a){return t[i]=a}function Qe(t,i,a){return!Object.is(t[i],a)&&(t[i]=a,!0)}function Mt(t,i,a,u,d){const p=function Xe(t,i,a,u){const d=Qe(t,i,a);return Qe(t,i+1,u)||d}(t,i,a,u);return Qe(t,i+2,d)||p}function Si(t,i,a,u){const d=we();return Qe(d,Ts(),i)&&(Rt(),$r(cn(),d,t,i,a,u)),Si}function Jn(t,i,a,u){return Qe(t,Ts(),a)?i+me(a)+u:Et}function M_(t,i,a,u,d,p,m,v){const y=we(),E=Rt(),A=t+22,O=E.firstCreatePass?function MC(t,i,a,u,d,p,m,v,y){const E=i.consts,A=hl(i,t,4,m||null,ro(E,v));xo(i,a,A,ro(E,y)),ee(i,A);const O=A.tViews=Uh(2,A,u,d,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,E);return null!==i.queries&&(i.queries.template(i,A),O.queries=i.queries.embeddedTView(A)),A}(A,E,y,i,a,u,d,p,m):E.data[A];cr(O,!1);const F=y[11].createComment("");da(E,y,F,O),an(F,y),xu(y,y[A]=Ai(F,y,F,O)),Ss(O)&&Vh(E,y,O),null!=m&&Bh(y,O,v)}function SC(t){return Fa(function Dd(){return _t.lFrame.contextLView}(),22+t)}function A_(t,i,a){const u=we();return Qe(u,Ts(),i)&&qi(Rt(),cn(),u,t,i,u[11],a,!1),A_}function wg(t,i,a,u,d){const m=d?"class":"style";fl(t,a,i.inputs[m],m,u)}function ed(t,i,a,u){const d=we(),p=Rt(),m=22+t,v=d[11],y=d[m]=Hi(v,i,function j(){return _t.lFrame.currentNamespace}()),E=p.firstCreatePass?function pb(t,i,a,u,d,p,m){const v=i.consts,E=hl(i,t,2,d,ro(v,p));return xo(i,a,E,ro(v,m)),null!==E.attrs&&Au(E,E.attrs,!1),null!==E.mergedAttrs&&Au(E,E.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,E),E}(m,p,d,0,i,a,u):p.data[m];cr(E,!0);const A=E.mergedAttrs;null!==A&&zo(v,y,A);const O=E.classes;null!==O&&Cc(v,y,O);const F=E.styles;return null!==F&&Bs(v,y,F),64!=(64&E.flags)&&da(p,d,y,E),0===function so(){return _t.lFrame.elementDepthCount}()&&an(y,d),function wd(){_t.lFrame.elementDepthCount++}(),Ss(E)&&(Vh(p,d,E),Nh(p,E,d)),null!==u&&Bh(d,E),ed}function Eg(){let t=ii();Hu()?bd():(t=t.parent,cr(t,!1));const i=t;!function rm(){_t.lFrame.elementDepthCount--}();const a=Rt();return a.firstCreatePass&&(ee(a,t),Sr(t)&&a.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Zo(t){return 0!=(16&t.flags)}(i)&&wg(a,i,we(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Nl(t){return 0!=(32&t.flags)}(i)&&wg(a,i,we(),i.stylesWithoutHost,!1),Eg}function bg(t,i,a,u){return ed(t,i,a,u),Eg(),bg}function Dg(t,i,a){const u=we(),d=Rt(),p=t+22,m=d.firstCreatePass?function S_(t,i,a,u,d){const p=i.consts,m=ro(p,u),v=hl(i,t,8,"ng-container",m);return null!==m&&Au(v,m,!0),xo(i,a,v,ro(p,d)),null!==i.queries&&i.queries.elementStart(i,v),v}(p,d,u,i,a):d.data[p];cr(m,!0);const v=u[p]=u[11].createComment("");return da(d,u,v,m),an(v,u),Ss(m)&&(Vh(d,u,m),Nh(d,m,u)),null!=a&&Bh(u,m),Dg}function T_(){let t=ii();const i=Rt();return Hu()?bd():(t=t.parent,cr(t,!1)),i.firstCreatePass&&(ee(i,t),Sr(t)&&i.queries.elementEnd(t)),T_}function I_(t,i,a){return Dg(t,i,a),T_(),I_}function td(){return we()}function lf(t){return!!t&&"function"==typeof t.then}function O_(t){return!!t&&"function"==typeof t.subscribe}const P_=O_;function uf(t,i,a,u){const d=we(),p=Rt(),m=ii();return function R_(t,i,a,u,d,p,m,v){const y=Ss(u),A=t.firstCreatePass&&Zh(t),O=i[8],F=qh(i);let Y=!0;if(3&u.type||v){const Ue=Bi(u,i),Ke=v?v(Ue):Ue,pt=F.length,Ee=v?nn=>v(Nn(nn[u.index])):u.index;let Ct=null;if(!v&&y&&(Ct=function TC(t,i,a,u){const d=t.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const m=d[p];if(m===a&&d[p+1]===u){const v=i[7],y=d[p+2];return v.length>y?v[y]:null}"string"==typeof m&&(p+=2)}return null}(t,i,d,u.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=p,Ct.__ngLastListenerFn__=p,Y=!1;else{p=OC(u,i,O,p,!1);const nn=a.listen(Ke,d,p);F.push(p,nn),A&&A.push(d,Ee,pt,pt+1)}}else p=OC(u,i,O,p,!1);const he=u.outputs;let Ie;if(Y&&null!==he&&(Ie=he[d])){const Ue=Ie.length;if(Ue)for(let Ke=0;Ke<Ue;Ke+=2){const Gn=i[Ie[Ke]][Ie[Ke+1]].subscribe(p),Sf=F.length;F.push(p,Gn),A&&A.push(d,u.index,Sf,-(Sf+1))}}}(p,d,d[11],m,t,i,0,u),uf}function IC(t,i,a,u){try{return!1!==a(u)}catch(d){return Qc(t,d),!1}}function OC(t,i,a,u,d){return function p(m){if(m===Function)return u;So(2&t.flags?Gt(t.index,i):i);let y=IC(i,0,u,m),E=p.__ngNextListenerFn__;for(;E;)y=IC(i,0,E,m)&&y,E=E.__ngNextListenerFn__;return d&&!1===y&&(m.preventDefault(),m.returnValue=!1),y}}function PC(t=1){return function Xr(t){return(_t.lFrame.contextLView=function Or(t,i){for(;t>0;)i=i[15],t--;return i}(t,_t.lFrame.contextLView))[8]}(t)}function gb(t,i){let a=null;const u=function Up(t){const i=t.attrs;if(null!=i){const a=i.indexOf(5);if(0==(1&a))return i[a+1]}return null}(t);for(let d=0;d<i.length;d++){const p=i[d];if("*"!==p){if(null===u?Bp(t,p,!0):vu(u,p))return d}else a=d}return a}function Ey(t){const i=we()[16][6];if(!i.projection){const u=i.projection=Kl(t?t.length:1,null),d=u.slice();let p=i.child;for(;null!==p;){const m=t?gb(p,t):0;null!==m&&(d[m]?d[m].projectionNext=p:u[m]=p,d[m]=p),p=p.next}}}function k_(t,i=0,a){const u=we(),d=Rt(),p=hl(d,22+t,16,null,a||null);null===p.projection&&(p.projection=i),bd(),64!=(64&p.flags)&&function us(t,i,a){lt(i[11],0,i,a,gc(t,a,i),Nr(a.parent||i[6],a,i))}(d,u,p)}function F_(t,i,a){return df(t,"",i,"",a),F_}function df(t,i,a,u,d){const p=we(),m=Jn(p,i,a,u);return m!==Et&&qi(Rt(),cn(),p,t,m,p[11],d,!1),df}function xg(t,i,a,u,d){const p=t[a+1],m=null===i;let v=u?Br(p):fs(p),y=!1;for(;0!==v&&(!1===y||m);){const A=t[v+1];LC(t[v],i)&&(y=!0,t[v+1]=u?Dt(A):Ur(A)),v=u?Br(A):fs(A)}y&&(t[a+1]=u?Ur(p):Dt(p))}function LC(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&hr(t,i)>=0}const ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sy(t){return t.substring(ui.key,ui.keyEnd)}function Mg(t,i){const a=ui.textEnd;return a===i?-1:(i=ui.keyEnd=function Ty(t,i,a){for(;i<a&&t.charCodeAt(i)>32;)i++;return i}(t,ui.key=i,a),nd(t,i,a))}function nd(t,i,a){for(;i<a&&t.charCodeAt(i)<=32;)i++;return i}function $_(t,i,a){return ps(t,i,a,!1),$_}function Tg(t,i){return ps(t,i,null,!0),Tg}function Ig(t){gs(Yn,Gr,t,!0)}function Gr(t,i){for(let a=function NC(t){return function U_(t){ui.key=0,ui.keyEnd=0,ui.value=0,ui.valueEnd=0,ui.textEnd=t.length}(t),Mg(t,nd(t,0,ui.textEnd))}(i);a>=0;a=Mg(i,a))Yn(t,Sy(i),!0)}function ps(t,i,a,u){const d=we(),p=Rt(),m=Is(2);p.firstUpdatePass&&Iy(p,t,m,u),i!==Et&&Qe(d,m,i)&&Ly(p,p.data[Wn()],d,d[11],t,d[m+1]=function Ny(t,i){return null==t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Z(_r(t)))),t}(i,a),u,m)}function gs(t,i,a,u){const d=Rt(),p=Is(2);d.firstUpdatePass&&Iy(d,null,p,u);const m=we();if(a!==Et&&Qe(m,p,a)){const v=d.data[Wn()];if(Vy(v,u)&&!ml(d,p)){let y=u?v.classesWithoutHost:v.stylesWithoutHost;null!==y&&(a=U(y,a||"")),wg(d,v,m,a,u)}else!function Fy(t,i,a,u,d,p,m,v){d===Et&&(d=yt);let y=0,E=0,A=0<d.length?d[0]:null,O=0<p.length?p[0]:null;for(;null!==A||null!==O;){const F=y<d.length?d[y+1]:void 0,Y=E<p.length?p[E+1]:void 0;let Ie,he=null;A===O?(y+=2,E+=2,F!==Y&&(he=O,Ie=Y)):null===O||null!==A&&A<O?(y+=2,he=A):(E+=2,he=O,Ie=Y),null!==he&&Ly(t,i,a,u,he,Ie,m,v),A=y<d.length?d[y]:null,O=E<p.length?p[E]:null}}(d,v,m,m[11],m[p+1],m[p+1]=function Ry(t,i,a){if(null==a||""===a)return yt;const u=[],d=_r(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)t(u,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&t(u,p,d[p]);else"string"==typeof d&&i(u,d);return u}(t,i,a),u,p)}}function ml(t,i){return i>=t.expandoStartIndex}function Iy(t,i,a,u){const d=t.data;if(null===d[a+1]){const p=d[Wn()],m=ml(t,a);Vy(p,u)&&null===i&&!m&&(i=!1),i=function Oy(t,i,a,u){const d=function xd(t){const i=_t.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let p=u?i.residualClasses:i.residualStyles;if(null===d)0===(u?i.classBindings:i.styleBindings)&&(a=Iu(a=G_(null,t,i,a,u),i.attrs,u),p=null);else{const m=i.directiveStylingLast;if(-1===m||t[m]!==d)if(a=G_(d,t,i,a,u),null===p){let y=function HC(t,i,a){const u=a?i.classBindings:i.styleBindings;if(0!==fs(u))return t[Br(u)]}(t,i,u);void 0!==y&&Array.isArray(y)&&(y=G_(null,t,i,y[1],u),y=Iu(y,i.attrs,u),function Py(t,i,a,u){t[Br(a?i.classBindings:i.styleBindings)]=u}(t,i,u,y))}else p=function jC(t,i,a){let u;const d=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<d;p++)u=Iu(u,t[p].hostAttrs,a);return Iu(u,i.attrs,a)}(t,i,u)}return void 0!==p&&(u?i.residualClasses=p:i.residualStyles=p),a}(d,p,i,u),function FC(t,i,a,u,d,p){let m=p?i.classBindings:i.styleBindings,v=Br(m),y=fs(m);t[u]=a;let A,E=!1;if(Array.isArray(a)){const O=a;A=O[1],(null===A||hr(O,A)>0)&&(E=!0)}else A=a;if(d)if(0!==y){const F=Br(t[v+1]);t[u+1]=Zs(F,v),0!==F&&(t[F+1]=Bc(t[F+1],u)),t[v+1]=function pn(t,i){return 131071&t|i<<17}(t[v+1],u)}else t[u+1]=Zs(v,0),0!==v&&(t[v+1]=Bc(t[v+1],u)),v=u;else t[u+1]=Zs(y,0),0===v?v=u:t[y+1]=Bc(t[y+1],u),y=u;E&&(t[u+1]=Ur(t[u+1])),xg(t,A,u,!0),xg(t,A,u,!1),function Ay(t,i,a,u,d){const p=d?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof i&&hr(p,i)>=0&&(a[u+1]=Dt(a[u+1]))}(i,A,t,u,p),m=Zs(v,y),p?i.classBindings=m:i.styleBindings=m}(d,p,i,a,m,u)}}function G_(t,i,a,u,d){let p=null;const m=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<m&&(p=i[v],u=Iu(u,p.hostAttrs,d),p!==t);)v++;return null!==t&&(a.directiveStylingLast=v),u}function Iu(t,i,a){const u=a?1:2;let d=-1;if(null!==i)for(let p=0;p<i.length;p++){const m=i[p];"number"==typeof m?d=m:d===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yn(t,m,!!a||i[++p]))}return void 0===t?null:t}function Ly(t,i,a,u,d,p,m,v){if(!(3&i.type))return;const y=t.data,E=y[v+1];Og(function yr(t){return 1==(1&t)}(E)?q_(y,i,a,d,fs(E),m):void 0)||(Og(p)||function ut(t){return 2==(2&t)}(E)&&(p=q_(y,null,a,d,v,m)),function au(t,i,a,u,d){if(i)d?t.addClass(a,u):t.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:Xi.DashCase;null==d?t.removeStyle(a,u,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Xi.Important),t.setStyle(a,u,d,p))}}(u,m,ka(Wn(),a),d,p))}function q_(t,i,a,u,d,p){const m=null===i;let v;for(;d>0;){const y=t[d],E=Array.isArray(y),A=E?y[1]:y,O=null===A;let F=a[d+1];F===Et&&(F=O?yt:void 0);let Y=O?Yl(F,u):A===u?F:void 0;if(E&&!Og(Y)&&(Y=Yl(y,u)),Og(Y)&&(v=Y,m))return v;const he=t[d+1];d=m?Br(he):fs(he)}if(null!==i){let y=p?i.residualClasses:i.residualStyles;null!=y&&(v=Yl(y,u))}return v}function Og(t){return void 0!==t}function Vy(t,i){return 0!=(t.flags&(i?16:32))}function Z_(t,i=""){const a=we(),u=Rt(),d=t+22,p=u.firstCreatePass?hl(u,d,1,i,null):u.data[d],m=a[d]=function hc(t,i){return t.createText(i)}(a[11],i);da(u,a,m,p),cr(p,!1)}function By(t){return z_("",t,""),By}function z_(t,i,a){const u=we(),d=Jn(u,t,i,a);return d!==Et&&function sr(t,i,a){const u=ka(i,t);!function as(t,i,a){t.setValue(i,a)}(t[11],u,a)}(u,Wn(),d),z_}function zC(t,i,a){gs(Yn,Gr,Jn(we(),t,i,a),!0)}const Ou=void 0;var uw=["en",[["a","p"],["AM","PM"],Ou],[["AM","PM"],Ou,Ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ou,"{1} 'at' {0}",Ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lw(t){const a=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let id={};function Q_(t){const i=function dw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let a=Qy(i);if(a)return a;const u=i.split("-")[0];if(a=Qy(u),a)return a;if("en"===u)return uw;throw new ue(701,!1)}function Yy(t){return Q_(t)[ht.PluralCase]}function Qy(t){return t in id||(id[t]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[t]),id[t]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const Ma="en-US";let e0=Ma;function av(t,i,a,u,d){if(t=H(t),Array.isArray(t))for(let p=0;p<t.length;p++)av(t[p],i,a,u,d);else{const p=Rt(),m=we();let v=ya(t)?t:H(t.provide),y=_h(t);const E=ii(),A=1048575&E.providerIndexes,O=E.directiveStart,F=E.providerIndexes>>20;if(ya(t)||!t.multi){const Y=new Va(y,d,bo),he=Xn(v,i,d?A:A+F,O);-1===he?(uo($l(E,m),p,v),lv(p,t,i.length),i.push(v),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),a.push(Y),m.push(Y)):(a[he]=Y,m[he]=Y)}else{const Y=Xn(v,i,A+F,O),he=Xn(v,i,A,A+F),Ie=Y>=0&&a[Y],Ue=he>=0&&a[he];if(d&&!Ue||!d&&!Ie){uo($l(E,m),p,v);const Ke=function ye(t,i,a,u,d){const p=new Va(t,a,bo);return p.multi=[],p.index=i,p.componentProviders=0,w0(p,d,u&&!a),p}(d?Ze:Fg,a.length,d,u,y);!d&&Ue&&(a[he].providerFactory=Ke),lv(p,t,i.length,0),i.push(v),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),a.push(Ke),m.push(Ke)}else lv(p,t,Y>-1?Y:he,w0(a[d?he:Y],y,!d&&u));!d&&u&&Ue&&a[he].componentProviders++}}}function lv(t,i,a,u){const d=ya(i),p=function Um(t){return!!t.useClass}(i);if(d||p){const y=(p?H(i.useClass):i).prototype.ngOnDestroy;if(y){const E=t.destroyHooks||(t.destroyHooks=[]);if(!d&&i.multi){const A=E.indexOf(a);-1===A?E.push(a,[u,y]):E[A+1].push(u,y)}else E.push(a,y)}}}function w0(t,i,a){return a&&t.componentProviders++,t.multi.push(i)-1}function Xn(t,i,a,u){for(let d=a;d<u;d++)if(i[d]===t)return d;return-1}function Fg(t,i,a,u){return uv(this.multi,[])}function Ze(t,i,a,u){const d=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Ha(a,a[1],this.providerFactory.index,u);p=v.slice(0,m),uv(d,p);for(let y=m;y<v.length;y++)p.push(v[y])}else p=[],uv(d,p);return p}function uv(t,i){for(let a=0;a<t.length;a++)i.push((0,t[a])());return i}function Sa(t,i=[]){return a=>{a.providersResolver=(u,d)=>function jw(t,i,a){const u=Rt();if(u.firstCreatePass){const d=Yi(t);av(a,u.data,u.blueprint,d,!0),av(i,u.data,u.blueprint,d,!1)}}(u,d?d(t):t,i)}}class gn{}class cv{}function E0(t,i){return new Lg(t,i??null)}class Lg extends gn{constructor(i,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gl(this);const u=Ii(i);this._bootstrapComponents=vr(u.bootstrap),this._r3Injector=ir(i,a,[{provide:gn,useValue:this},{provide:ll,useValue:this.componentFactoryResolver}],Z(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class yl extends cv{constructor(i){super(),this.moduleType=i}create(i){return new Lg(this.moduleType,i)}}class $w extends gn{constructor(i,a,u){super(),this.componentFactoryResolver=new gl(this),this.instance=null;const d=new ph([...i,{provide:gn,useValue:this},{provide:ll,useValue:this.componentFactoryResolver}],a||fu(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Ng(t,i,a=null){return new $w(t,i,a).injector}let Vg=(()=>{class t{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=vp(0,a.type),d=u.length>0?Ng([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Ot({token:t,providedIn:"environment",factory:()=>new t(on(yo))}),t})();function dv(t){t.getStandaloneInjector=i=>i.get(Vg).getOrCreateStandaloneInjector(t)}function S0(t,i,a){const u=Vn()+t,d=we();return d[u]===Et?Ge(d,u,a?i.call(a):i()):function Ye(t,i){return t[i]}(d,u)}function T0(t,i,a,u){return O0(we(),Vn(),t,i,a,u)}function I0(t,i,a,u,d,p){return function R0(t,i,a,u,d,p,m,v){const y=i+a;return Mt(t,y,d,p,m)?Ge(t,y+3,v?u.call(v,d,p,m):u(d,p,m)):wf(t,y+3)}(we(),Vn(),t,i,a,u,d,p)}function wf(t,i){const a=t[i];return a===Et?void 0:a}function O0(t,i,a,u,d,p){const m=i+a;return Qe(t,m,d)?Ge(t,m+1,p?u.call(p,d):u(d)):wf(t,m+1)}function L0(t,i){const a=Rt();let u;const d=t+22;a.firstCreatePass?(u=function sE(t,i){if(i)for(let a=i.length-1;a>=0;a--){const u=i[a];if(t===u.name)return u}}(i,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const p=u.factory||(u.factory=io(u.type)),m=zt(bo);try{const v=jl(!1),y=p();return jl(v),function AC(t,i,a,u){a>=t.data.length&&(t.data[a]=null,t.blueprint[a]=null),i[a]=u}(a,we(),d,y),y}finally{zt(m)}}function N0(t,i,a){const u=t+22,d=we(),p=Fa(d,u);return function Ef(t,i){return t[1].data[i].pure}(d,u)?O0(d,Vn(),i,p.transform,a,p):p.transform(a)}function fv(t){return i=>{setTimeout(t,void 0,i)}}const Po=class cE extends o.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,a,u){let d=i,p=a||(()=>null),m=u;if(i&&"object"==typeof i){const y=i;d=y.next?.bind(y),p=y.error?.bind(y),m=y.complete?.bind(y)}this.__isAsync&&(p=fv(p),d&&(d=fv(d)),m&&(m=fv(m)));const v=super.subscribe({next:d,error:p,complete:m});return i instanceof x.w0&&i.add(v),v}};function dE(){return this._results[R()]()}class pv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=R(),u=pv.prototype;u[a]||(u[a]=dE)}get changes(){return this._changes||(this._changes=new Po)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,a){return this._results.reduce(i,a)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,a){const u=this;u.dirty=!1;const d=Ci(i);(this._changesDetected=!function Os(t,i,a){if(t.length!==i.length)return!1;for(let u=0;u<t.length;u++){let d=t[u],p=i[u];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ru,t})();const Ta=ei,Ug=class extends Ta{constructor(i,a,u){super(),this._declarationLView=i,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(i,a){const u=this._declarationTContainer.tViews,d=Ks(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(u)),Cr(u,d,i),new pl(d)}};function Ru(){return Cl(ii(),we())}function Cl(t,i){return 4&t.type?new Ug(i,t,Co(t,i)):null}let Hg=(()=>{class t{}return t.__NG_ELEMENT_ID__=hE,t})();function hE(){return $g(ii(),we())}const fE=Hg,V0=class extends fE{constructor(i,a,u){super(),this._lContainer=i,this._hostTNode=a,this._hostLView=u}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new Yo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ko(this._hostTNode,this._hostLView);if(Ul(i)){const a=Wo(i,this._hostLView),u=Ji(i);return new Yo(a[1].data[u+8],a)}return new Yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const a=gv(this._lContainer);return null!==a&&a[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,a,u){let d,p;"number"==typeof u?d=u:null!=u&&(d=u.index,p=u.injector);const m=i.createEmbeddedView(a||{},p);return this.insert(m,d),m}createComponent(i,a,u,d,p){const m=i&&!function je(t){return"function"==typeof t}(i);let v;if(m)v=a;else{const O=a||{};v=O.index,u=O.injector,d=O.projectableNodes,p=O.environmentInjector||O.ngModuleRef}const y=m?i:new Qn(jt(i)),E=u||this.parentInjector;if(!p&&null==y.ngModule){const F=(m?E:this.parentInjector).get(yo,null);F&&(p=F)}const A=y.create(E,d,void 0,p);return this.insert(A.hostView,v),A}insert(i,a){const u=i._lView,d=u[1];if(function Ir(t){return Ln(t[3])}(u)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const O=u[3],F=new V0(O,O[6],O[3]);F.detach(F.indexOf(i))}}const p=this._adjustIndex(a),m=this._lContainer;!function Qa(t,i,a,u){const d=10+u,p=a.length;u>0&&(a[d-1][4]=i),u<p-10?(i[4]=a[d],Zf(a,10+u,i)):(a.push(i),i[4]=null),i[3]=a;const m=i[17];null!==m&&a!==m&&function su(t,i){const a=t[9];i[16]!==i[3][3][16]&&(t[2]=!0),null===a?t[9]=[i]:a.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(t),i[2]|=64}(d,u,m,p);const v=el(p,m),y=u[11],E=Ns(y,m[7]);return null!==E&&function Wd(t,i,a,u,d,p){u[0]=d,u[6]=i,mo(t,u,a,1,d,p)}(d,m[6],y,u,E,v),i.attachToViewContainerRef(),Zf(jg(m),p,i),i}move(i,a){return this.insert(i,a)}indexOf(i){const a=gv(this._lContainer);return null!==a?a.indexOf(i):-1}remove(i){const a=this._adjustIndex(i,-1),u=fc(this._lContainer,a);u&&(Xu(jg(this._lContainer),a),Kd(u[1],u))}detach(i){const a=this._adjustIndex(i,-1),u=fc(this._lContainer,a);return u&&null!=Xu(jg(this._lContainer),a)?new pl(u):null}_adjustIndex(i,a=0){return i??this.length+a}};function gv(t){return t[8]}function jg(t){return t[8]||(t[8]=[])}function $g(t,i){let a;const u=i[t.index];if(Ln(u))a=u;else{let d;if(8&t.type)d=Nn(u);else{const p=i[11];d=p.createComment("");const m=Bi(t,i);ua(p,Ns(p,m),d,function Yd(t,i){return t.nextSibling(i)}(p,m),!1)}i[t.index]=a=Ai(u,i,d,t),xu(i,a)}return new V0(a,t,i)}class mv{constructor(i){this.queryList=i,this.matches=null}clone(){return new mv(this.queryList)}setDirty(){this.queryList.setDirty()}}class _v{constructor(i=[]){this.queries=i}createEmbeddedView(i){const a=i.queries;if(null!==a){const u=null!==i.contentQueries?i.contentQueries[0]:a.length,d=[];for(let p=0;p<u;p++){const m=a.getByIndex(p);d.push(this.queries[m.indexInDeclarationView].clone())}return new _v(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let a=0;a<this.queries.length;a++)null!==W0(i,a).matches&&this.queries[a].setDirty()}}class U0{constructor(i,a,u=null){this.predicate=i,this.flags=a,this.read=u}}class vv{constructor(i=[]){this.queries=i}elementStart(i,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,a)}elementEnd(i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(i)}embeddedTView(i){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(i,d);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new vv(a):null}template(i,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,a)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class yv{constructor(i,a=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(i,a){this.isApplyingToNode(a)&&this.matchTNode(i,a)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,a){this.elementStart(i,a)}embeddedTView(i,a){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,a),new yv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(i,a,gE(a,p)),this.matchTNodeWithReadOption(i,a,Kn(a,i,p,!1,!1))}else u===ei?4&a.type&&this.matchTNodeWithReadOption(i,a,-1):this.matchTNodeWithReadOption(i,a,Kn(a,i,u,!1,!1))}matchTNodeWithReadOption(i,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===pu||d===Hg||d===ei&&4&a.type)this.addMatch(a.index,-2);else{const p=Kn(a,i,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(i,a){null===this.matches?this.matches=[i,a]:this.matches.push(i,a)}}function gE(t,i){const a=t.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===i)return a[u+1];return null}function _E(t,i,a,u){return-1===a?function mE(t,i){return 11&t.type?Co(t,i):4&t.type?Cl(t,i):null}(i,t):-2===a?function vE(t,i,a){return a===pu?Co(i,t):a===ei?Cl(i,t):a===Hg?$g(i,t):void 0}(t,i,u):Ha(t,t[1],a,i)}function H0(t,i,a,u){const d=i[19].queries[u];if(null===d.matches){const p=t.data,m=a.matches,v=[];for(let y=0;y<m.length;y+=2){const E=m[y];v.push(E<0?null:_E(i,p[E],m[y+1],a.metadata.read))}d.matches=v}return d.matches}function Cv(t,i,a,u){const d=t.queries.getByIndex(a),p=d.matches;if(null!==p){const m=H0(t,i,d,a);for(let v=0;v<p.length;v+=2){const y=p[v];if(y>0)u.push(m[v/2]);else{const E=p[v+1],A=i[-y];for(let O=10;O<A.length;O++){const F=A[O];F[17]===F[3]&&Cv(F[1],F,E,u)}if(null!==A[9]){const O=A[9];for(let F=0;F<O.length;F++){const Y=O[F];Cv(Y[1],Y,E,u)}}}}}return u}function j0(t){const i=we(),a=Rt(),u=Na();Md(u+1);const d=W0(a,u);if(t.dirty&&function ur(t){return 4==(4&t[2])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const p=d.crossesNgTemplate?Cv(a,i,u,[]):H0(a,i,d,u);t.reset(p,$m),t.notifyOnChanges()}return!0}return!1}function $0(t,i,a){const u=Rt();u.firstCreatePass&&(z0(u,new U0(t,i,a),-1),2==(2&i)&&(u.staticViewQueries=!0)),Z0(u,we(),i)}function G0(t,i,a,u){const d=Rt();if(d.firstCreatePass){const p=ii();z0(d,new U0(i,a,u),p.index),function CE(t,i){const a=t.contentQueries||(t.contentQueries=[]);i!==(a.length?a[a.length-1]:-1)&&a.push(t.queries.length-1,i)}(d,t),2==(2&a)&&(d.staticContentQueries=!0)}Z0(d,we(),a)}function q0(){return function yE(t,i){return t[19].queries[i].queryList}(we(),Na())}function Z0(t,i,a){const u=new pv(4==(4&a));rg(t,i,u,u.destroy),null===i[19]&&(i[19]=new _v),i[19].queries.push(new mv(u))}function z0(t,i,a){null===t.queries&&(t.queries=new vv),t.queries.track(new yv(i,a))}function W0(t,i){return t.queries.getByIndex(i)}function wv(t,i){return Cl(t,i)}function Df(...t){}const Ro=new en("Application Initializer");let qg=(()=>{class t{constructor(a){this.appInits=a,this.resolve=Df,this.reject=Df,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(lf(p))a.push(p);else if(P_(p)){const m=new Promise((v,y)=>{p.subscribe({complete:v,error:y})});a.push(m)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return t.\u0275fac=function(a){return new(a||t)(on(Ro,8))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Zg=new en("AppId",{providedIn:"root",factory:function xf(){return`${Rv()}${Rv()}${Rv()}`}});function Rv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kv=new en("Platform Initializer"),kE=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oC=new en("appBootstrapListener");let LE=(()=>{class t{log(a){console.log(a)}warn(a){console.warn(a)}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Mf=new en("LocaleId",{providedIn:"root",factory:()=>Rn(Mf,ze.Optional|ze.SkipSelf)||function NE(){return typeof $localize<"u"&&$localize.locale||Ma}()}),VE=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Lv{constructor(i,a){this.ngModuleFactory=i,this.componentFactories=a}}let aC=(()=>{class t{compileModuleSync(a){return new yl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=vr(Ii(a).declarations).reduce((m,v)=>{const y=jt(v);return y&&m.push(new Qn(y)),m},[]);return new Lv(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jE=(()=>Promise.resolve(0))();function Vv(t){typeof Zone>"u"?jE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class _s{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Po(!1),this.onMicrotaskEmpty=new Po(!1),this.onStable=new Po(!1),this.onError=new Po(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function $E(){let t=Wt.requestAnimationFrame,i=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&i){const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function ZE(t){const i=()=>{!function qE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Af(t),t.isCheckStableRunning=!0,Bv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Af(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,p,m,v)=>{try{return zg(t),a.invokeTask(d,p,m,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&i(),cC(t)}},onInvoke:(a,u,d,p,m,v,y)=>{try{return zg(t),a.invoke(d,p,m,v,y)}finally{t.shouldCoalesceRunChangeDetection&&i(),cC(t)}},onHasTask:(a,u,d,p)=>{a.hasTask(d,p),u===d&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,Af(t),Bv(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,d,p)=>(a.handleError(d,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new ue(909,!1)}run(i,a,u){return this._inner.run(i,a,u)}runTask(i,a,u,d){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+d,i,GE,Df,Df);try{return p.runTask(m,a,u)}finally{p.cancelTask(m)}}runGuarded(i,a,u){return this._inner.runGuarded(i,a,u)}runOutsideAngular(i){return this._outer.run(i)}}const GE={};function Bv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Af(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cC(t){t._nesting--,Bv(t)}class zE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Po,this.onMicrotaskEmpty=new Po,this.onStable=new Po,this.onError=new Po}run(i,a,u){return i.apply(a,u)}runGuarded(i,a,u){return i.apply(a,u)}runOutsideAngular(i){return i()}runTask(i,a,u,d){return i.apply(a,u)}}const Wg=new en(""),Uv=new en("");let Hv,WE=(()=>{class t{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hv||(function hC(t){Hv=t}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),Vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return t.\u0275fac=function(a){return new(a||t)(on(_s),on(dC),on(Uv))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac}),t})(),dC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Hv?.findTestabilityInTree(this,a,u)??null}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),xl=null;const KE=new en("AllowMultipleToken"),fC=new en("PlatformDestroyListeners");class QE{constructor(i,a){this.name=i,this.token=a}}function mC(t,i,a=[]){const u=`Platform: ${i}`,d=new en(u);return(p=[])=>{let m=e();if(!m||m.injector.get(KE,!1)){const v=[...a,...p,{provide:d,useValue:!0}];t?t(v):function zb(t){if(xl&&!xl.get(KE,!1))throw new ue(400,!1);xl=t;const i=t.get(s);(function gC(t){const i=t.get(kv,null);i&&i.forEach(a=>a())})(t)}(function n(t=[],i){return wa.create({name:i,providers:[{provide:Ic,useValue:"platform"},{provide:fC,useValue:new Set([()=>xl=null])},...t]})}(v,u))}return function JE(t){const i=e();if(!i)throw new ue(401,!1);return i}()}}function e(){return xl?.get(s)??null}let s=(()=>{class t{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function f(t,i){let a;return a="noop"===t?new zE:("zone.js"===t?void 0:t)||new _s(i),a}(u?.ngZone,function c(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:_s,useValue:d}];return d.run(()=>{const m=wa.create({providers:p,parent:this.injector,name:a.moduleType.name}),v=a.create(m),y=v.injector.get(Eo,null);if(!y)throw new ue(402,!1);return d.runOutsideAngular(()=>{const E=d.onError.subscribe({next:A=>{y.handleError(A)}});v.onDestroy(()=>{I(this._modules,v),E.unsubscribe()})}),function _(t,i,a){try{const u=a();return lf(u)?u.catch(d=>{throw i.runOutsideAngular(()=>t.handleError(d)),d}):u}catch(u){throw i.runOutsideAngular(()=>t.handleError(u)),u}}(y,d,()=>{const E=v.injector.get(qg);return E.runInitializers(),E.donePromise.then(()=>(function fw(t){$t(t,"Expected localeId to be defined"),"string"==typeof t&&(e0=t.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Mf,Ma)||Ma),this._moduleDoBootstrap(v),v))})})}bootstrapModule(a,u=[]){const d=C({},u);return function pC(t,i,a){const u=new yl(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const u=a.injector.get(b);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ue(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(fC,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(a){return new(a||t)(on(wa))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function C(t,i){return Array.isArray(i)?i.reduce(C,t):{...t,...i}}let b=(()=>{class t{constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new J.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new J.y(v=>{let y;this._zone.runOutsideAngular(()=>{y=this._zone.onStable.subscribe(()=>{_s.assertNotInAngularZone(),Vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{_s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{y.unsubscribe(),E.unsubscribe()}});this.isStable=(0,X.T)(p,m.pipe((0,V.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const d=a instanceof xp;if(!this._injector.get(qg).done)throw!d&&Mr(a),new ue(405,false);let m;m=d?a:this._injector.get(ll).resolveComponentFactory(a),this.componentTypes.push(m.componentType);const v=function YE(t){return t.isBoundToModule}(m)?void 0:this._injector.get(gn),E=m.create(wa.NULL,[],u||m.selector,v),A=E.location.nativeElement,O=E.injector.get(Wg,null);return O?.registerApplication(A),E.onDestroy(()=>{this.detachView(E.hostView),I(this.components,E),O?.unregisterApplication(A)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;I(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(oC,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>I(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ue(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(a){return new(a||t)(on(_s),on(yo),on(Eo))},t.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function I(t,i){const a=t.indexOf(i);a>-1&&t.splice(a,1)}let oe=!0,de=!1;function ge(){return de=!0,oe}function nt(){if(de)throw new Error("Cannot enable prod mode after platform setup.");oe=!1}let Pe=(()=>{class t{}return t.__NG_ELEMENT_ID__=Je,t})();function Je(t){return function vt(t,i,a){if(no(t)&&!a){const u=Gt(t.index,i);return new pl(u,u)}return 47&t.type?new pl(i[16],i):null}(ii(),we(),16==(16&t))}class Yb{constructor(){}supports(i){return G(i)}create(i){return new uD(i)}}const lD=(t,i)=>i;class uD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||lD}forEachItem(i){let a;for(a=this._itHead;null!==a;a=a._next)i(a)}forEachOperation(i){let a=this._itHead,u=this._removalsHead,d=0,p=null;for(;a||u;){const m=!u||a&&a.currentIndex<Jb(u,d,p)?a:u,v=Jb(m,d,p),y=m.currentIndex;if(m===u)d--,u=u._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{p||(p=[]);const E=v-d,A=y-d;if(E!=A){for(let F=0;F<E;F++){const Y=F<p.length?p[F]:p[F]=0,he=Y+F;A<=he&&he<E&&(p[F]=Y+1)}p[m.previousIndex]=A-E}}v!==y&&i(m,v,y)}}forEachPreviousItem(i){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachMovedItem(i){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}forEachIdentityChange(i){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)i(a)}diff(i){if(null==i&&(i=[]),!G(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,p,m,a=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)p=i[v],m=this._trackByFn(v,p),null!==a&&Object.is(a.trackById,m)?(u&&(a=this._verifyReinsertion(a,p,m,v)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,m,v),u=!0),a=a._next}else d=0,function pe(t,i){if(Array.isArray(t))for(let a=0;a<t.length;a++)i(t[a]);else{const a=t[R()]();let u;for(;!(u=a.next()).done;)i(u.value)}}(i,v=>{m=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,m)?(u&&(a=this._verifyReinsertion(a,v,m,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,m,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,a,u,d){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._reinsertAfter(i,p,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._moveAfter(i,p,d)):i=this._addAfter(new cD(a,u),p,d),i}_verifyReinsertion(i,a,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?i=this._reinsertAfter(p,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const a=i._next;this._addToRemovals(this._unlink(i)),i=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,p=i._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(i,a,u),this._addToMoves(i,u),i}_moveAfter(i,a,u){return this._unlink(i),this._insertAfter(i,a,u),this._addToMoves(i,u),i}_addAfter(i,a,u){return this._insertAfter(i,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,a,u){const d=null===a?this._itHead:a._next;return i._next=d,i._prev=a,null===d?this._itTail=i:d._prev=i,null===a?this._itHead=i:a._next=i,null===this._linkedRecords&&(this._linkedRecords=new Qb),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const a=i._prev,u=i._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,i}_addToMoves(i,a){return i.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,a){return i.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class cD{constructor(i,a){this.item=i,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const a=i._prevDup,u=i._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Qb{constructor(){this.map=new Map}put(i){const a=i.trackById;let u=this.map.get(a);u||(u=new dD,this.map.set(a,u)),u.add(i)}get(i,a){const d=this.map.get(i);return d?d.get(i,a):null}remove(i){const a=i.trackById;return this.map.get(a).remove(i)&&this.map.delete(a),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jb(t,i,a){const u=t.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+i+d}class Xb{constructor(){}supports(i){return i instanceof Map||ve(i)}create(){return new hD}}class hD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let a;for(a=this._mapHead;null!==a;a=a._next)i(a)}forEachPreviousItem(i){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)i(a)}forEachChangedItem(i){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}diff(i){if(i){if(!(i instanceof Map||ve(i)))throw new ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,a){if(i){const u=i._prev;return a._next=i,a._prev=u,i._prev=a,u&&(u._next=a),i===this._mapHead&&(this._mapHead=a),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(i,a){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,a);const p=d._prev,m=d._next;return p&&(p._next=m),m&&(m._prev=p),d._next=null,d._prev=null,d}const u=new fD(i);return this._records.set(i,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,a){Object.is(a,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=a,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,a){i instanceof Map?i.forEach(a):Object.keys(i).forEach(u=>a(i[u],u))}}class fD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eD(){return new ib([new Yb])}let ib=(()=>{class t{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new t(a)}static extend(a){return{provide:t,useFactory:u=>t.create(a,u||eD()),deps:[[t,new Xo,new ot]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new ue(901,!1)}}return t.\u0275prov=Ot({token:t,providedIn:"root",factory:eD}),t})();function tD(){return new rb([new Xb])}let rb=(()=>{class t{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new t(a)}static extend(a){return{provide:t,useFactory:u=>t.create(a,u||tD()),deps:[[t,new Xo,new ot]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new ue(901,!1)}}return t.\u0275prov=Ot({token:t,providedIn:"root",factory:tD}),t})();const mD=mC(null,"core",[]);let _D=(()=>{class t{constructor(a){}}return t.\u0275fac=function(a){return new(a||t)(on(b))},t.\u0275mod=Es({type:t}),t.\u0275inj=Fn({}),t})();function vD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(k,M){if(this.action=k,this.timestamp=M,this.type=PERFORM_ACTION,typeof k.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(k){this.timestamp=k,this.type=RESET}}class Rollback{constructor(k){this.timestamp=k,this.type=ROLLBACK}}class Commit{constructor(k){this.timestamp=k,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(k){this.id=k,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(k,M,o=!0){this.start=k,this.end=M,this.active=o,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(k){this.index=k,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(k){this.actionId=k,this.type=JUMP_TO_ACTION}}class ImportState{constructor(k){this.nextLiftedState=k,this.type=IMPORT_STATE}}class LockChanges{constructor(k){this.status=k,this.type=LOCK_CHANGES}}class PauseRecording{constructor(k){this.status=k,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig($){const k={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},M="function"==typeof $?$():$,J=Object.assign({},k,{features:M.features||!!M.logOnly&&{pause:!0,export:!0,test:!0}||k.features},M);if(J.maxAge&&J.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${J.maxAge}`);return J}function difference($,k){return $.filter(M=>k.indexOf(M)<0)}function unliftState($){const{computedStates:k,currentStateIndex:M}=$;if(M>=k.length){const{state:x}=k[k.length-1];return x}const{state:o}=k[M];return o}function unliftAction($){return $.actionsById[$.nextActionId-1]}function liftAction($){return new PerformAction($,+Date.now())}function sanitizeActions($,k){return Object.keys(k).reduce((M,o)=>{const x=Number(o);return M[x]=sanitizeAction($,k[x],x),M},{})}function sanitizeAction($,k,M){return{...k,action:$(k.action,M)}}function sanitizeStates($,k){return k.map((M,o)=>({state:sanitizeState($,M.state,o),error:M.error}))}function sanitizeState($,k,M){return $(k,M)}function shouldFilterActions($){return $.predicate||$.actionsSafelist||$.actionsBlocklist}function filterLiftedState($,k,M,o){const x=[],J={},X=[];return $.stagedActionIds.forEach((V,W)=>{const B=$.actionsById[V];!B||W&&isActionFiltered($.computedStates[W],B,k,M,o)||(J[V]=B,x.push(V),X.push($.computedStates[W]))}),{...$,stagedActionIds:x,actionsById:J,computedStates:X}}function isActionFiltered($,k,M,o,x){const J=M&&!M($,k.action),X=o&&!k.action.type.match(o.map(W=>escapeRegExp(W)).join("|")),V=x&&k.action.type.match(x.map(W=>escapeRegExp(W)).join("|"));return J||X||V}function escapeRegExp($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class $ extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return $.\u0275fac=function(){let k;return function(o){return(k||(k=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z($)))(o||$)}}(),$.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:$,factory:$.\u0275fac}),$})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor($,k,M){this.config=k,this.dispatcher=M,this.devtoolsExtension=$,this.createActionStreams()}notify($,k){if(this.devtoolsExtension)if($.type===PERFORM_ACTION){if(k.isLocked||k.isPaused)return;const M=unliftState(k);if(shouldFilterActions(this.config)&&isActionFiltered(M,$,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const o=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,M,k.currentStateIndex):M,x=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,$,k.nextActionId):$;this.sendToReduxDevtools(()=>this.extensionConnection.send(x,o))}else{const M={...k,stagedActionIds:k.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,k.actionsById):k.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,k.computedStates):k.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,M,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y($=>{const k=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=k,k.init(),k.subscribe(M=>$.next(M)),k.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const $=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),k=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===ExtensionActionTypes.START)),M=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===ExtensionActionTypes.STOP)),o=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(V=>this.unwrapAction(V.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(V=>V.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>V),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(V)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(V))),J=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(V=>this.unwrapAction(V.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),X=o.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M));this.start$=k.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>J)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>X))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig($){const k={name:$.name,features:$.features,serialize:$.serialize,autoPause:$.autoPause??!1};return!1!==$.maxAge&&(k.maxAge=$.maxAge),k}sendToReduxDevtools($){try{$()}catch(k){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",k)}}}return DevtoolsExtension.\u0275fac=function $(k){return new(k||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry($,k,M,o,x){if(o)return{state:M,error:"Interrupted by an error up the chain"};let X,J=M;try{J=$(M,k)}catch(V){X=V.toString(),x.handleError(V)}return{state:J,error:X}}function recomputeStates($,k,M,o,x,J,X,V,W){if(k>=$.length&&$.length===J.length)return $;const B=$.slice(0,k),Z=J.length-(W?1:0);for(let U=k;U<Z;U++){const Q=J[U],z=x[Q].action,H=B[U-1],Ce=H?H.state:o,be=H?H.error:void 0,He=X.indexOf(Q)>-1?H:computeNextEntry(M,z,Ce,be,V);B.push(He)}return W&&B.push($[$.length-1]),B}function liftInitialState($,k){return{monitorState:k(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:$,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith($,k,M,o,x={}){return J=>(X,V)=>{let{monitorState:W,actionsById:B,nextActionId:Z,stagedActionIds:U,skippedActionIds:Q,committedState:z,currentStateIndex:H,computedStates:Ce,isLocked:be,isPaused:ue}=X||k;function He(We){let it=We,Se=U.slice(1,it+1);for(let _e=0;_e<Se.length;_e++){if(Ce[_e+1].error){it=_e,Se=U.slice(1,it+1);break}delete B[Se[_e]]}Q=Q.filter(_e=>-1===Se.indexOf(_e)),U=[0,...U.slice(it+1)],z=Ce[it].state,Ce=Ce.slice(it),H=H>it?H-it:0}function me(){B={0:liftAction(INIT_ACTION)},Z=1,U=[0],Q=[],z=Ce[H].state,H=0,Ce=[]}X||(B=Object.create(B));let De=0;switch(V.type){case LOCK_CHANGES:be=V.status,De=1/0;break;case PAUSE_RECORDING:ue=V.status,ue?(U=[...U,Z],B[Z]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),Z++,De=U.length-1,Ce=Ce.concat(Ce[Ce.length-1]),H===U.length-2&&H++,De=1/0):me();break;case RESET:B={0:liftAction(INIT_ACTION)},Z=1,U=[0],Q=[],z=$,H=0,Ce=[];break;case COMMIT:me();break;case ROLLBACK:B={0:liftAction(INIT_ACTION)},Z=1,U=[0],Q=[],H=0,Ce=[];break;case TOGGLE_ACTION:{const{id:We}=V;Q=-1===Q.indexOf(We)?[We,...Q]:Q.filter(Se=>Se!==We),De=U.indexOf(We);break}case SET_ACTIONS_ACTIVE:{const{start:We,end:it,active:Se}=V,_e=[];for(let Re=We;Re<it;Re++)_e.push(Re);Q=Se?difference(Q,_e):[...Q,..._e],De=U.indexOf(We);break}case JUMP_TO_STATE:H=V.index,De=1/0;break;case JUMP_TO_ACTION:{const We=U.indexOf(V.actionId);-1!==We&&(H=We),De=1/0;break}case SWEEP:U=difference(U,Q),Q=[],H=Math.min(H,U.length-1);break;case PERFORM_ACTION:{if(be)return X||k;if(ue||X&&isActionFiltered(X.computedStates[H],V,x.predicate,x.actionsSafelist,x.actionsBlocklist)){const it=Ce[Ce.length-1];Ce=[...Ce.slice(0,-1),computeNextEntry(J,V.action,it.state,it.error,M)],De=1/0;break}x.maxAge&&U.length===x.maxAge&&He(1),H===U.length-1&&H++;const We=Z++;B[We]=V,U=[...U,We],De=U.length-1;break}case IMPORT_STATE:({monitorState:W,actionsById:B,nextActionId:Z,stagedActionIds:U,skippedActionIds:Q,committedState:z,currentStateIndex:H,computedStates:Ce,isLocked:be,isPaused:ue}=V.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:De=0,x.maxAge&&U.length>x.maxAge&&(Ce=recomputeStates(Ce,De,J,z,B,U,Q,M,ue),He(U.length-x.maxAge),De=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ce.filter(it=>it.error).length>0)De=0,x.maxAge&&U.length>x.maxAge&&(Ce=recomputeStates(Ce,De,J,z,B,U,Q,M,ue),He(U.length-x.maxAge),De=1/0);else{if(!ue&&!be){H===U.length-1&&H++;const it=Z++;B[it]=new PerformAction(V,+Date.now()),U=[...U,it],De=U.length-1,Ce=recomputeStates(Ce,De,J,z,B,U,Q,M,ue)}Ce=Ce.map(it=>({...it,state:J(it.state,RECOMPUTE_ACTION)})),H=U.length-1,x.maxAge&&U.length>x.maxAge&&He(U.length-x.maxAge),De=1/0}break;default:De=1/0}return Ce=recomputeStates(Ce,De,J,z,B,U,Q,M,ue),W=o(W,V),{monitorState:W,actionsById:B,nextActionId:Z,stagedActionIds:U,skippedActionIds:Q,committedState:z,currentStateIndex:H,computedStates:Ce,isLocked:be,isPaused:ue}}}let StoreDevtools=(()=>{class ${constructor(M,o,x,J,X,V,W,B){const Z=liftInitialState(W,B.monitor),U=liftReducerWith(W,Z,V,B.monitor,B),Q=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(o.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),J.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),M,J.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),z=x.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(U)),H=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ce=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:me},[De,We])=>{let it=We(me,De);return De.type!==PERFORM_ACTION&&shouldFilterActions(B)&&(it=filterLiftedState(it,B.predicate,B.actionsSafelist,B.actionsBlocklist)),J.notify(De,it),{state:it,action:De}},{state:Z,action:null})).subscribe(({state:me,action:De})=>{H.next(me),De.type===PERFORM_ACTION&&X.next(De.action)}),be=J.start$.subscribe(()=>{this.refresh()}),ue=H.asObservable(),He=ue.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=be,this.stateSubscription=Ce,this.dispatcher=M,this.liftedState=ue,this.state=He}dispatch(M){this.dispatcher.next(M)}next(M){this.dispatcher.next(M)}error(M){}complete(){}performAction(M){this.dispatch(new PerformAction(M,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(M){this.dispatch(new ToggleAction(M))}jumpToAction(M){this.dispatch(new JumpToAction(M))}jumpToState(M){this.dispatch(new JumpToState(M))}importState(M){this.dispatch(new ImportState(M))}lockChanges(M){this.dispatch(new LockChanges(M))}pauseRecording(M){this.dispatch(new PauseRecording(M))}}return $.\u0275fac=function(M){return new(M||$)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},$.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:$,factory:$.\u0275fac}),$})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent($,k){return Boolean($)||k.monitor!==noMonitor}function createReduxDevtoolsExtension(){const $="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[$]<"u"?window[$]:null}function provideStoreDevtools($={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:$},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable($){return $.state}let StoreDevtoolsModule=(()=>{class ${static instrument(M={}){return{ngModule:$,providers:[...provideStoreDevtools(M).\u0275providers]}}}return $.\u0275fac=function(M){return new(M||$)},$.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:$}),$.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),$})()},9653:($,k,M)=>{"use strict";M.d(k,{UO:()=>Fe,qg:()=>Re,Y6:()=>ie,mK:()=>ys,n$:()=>ze,Y$:()=>Cs,FR:()=>qn,yh:()=>Wt,CK:()=>Sr,Aw:()=>no,cr:()=>Ln,wb:()=>Qs,qC:()=>br,PH:()=>be,ZF:()=>vi,Lq:()=>Yi,P1:()=>Zn,on:()=>Ss,Ky:()=>ue});var o=M(4650),x=M(1135),J=M(9751),X=M(7579),V=M(233),W=M(5363),B=M(1365),Z=M(5026),U=M(4004),z=M(1884);const H={};function be(P,ne){if(H[P]=(H[P]||0)+1,"function"==typeof ne)return me(P,(...re)=>({...ne(...re),type:P}));switch(ne?ne._as:"empty"){case"empty":return me(P,()=>({type:P}));case"props":return me(P,re=>({...re,type:P}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function me(P,ne){return Object.defineProperty(ne,"type",{value:P,writable:!1})}const Re="@ngrx/store/init";let Fe=(()=>{class P extends x.X{constructor(){super({type:Re})}next(K){if("function"==typeof K)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof K>"u")throw new TypeError("Actions must be objects");if(typeof K.type>"u")throw new TypeError("Actions must have a type property");super.next(K)}complete(){}ngOnDestroy(){super.complete()}}return P.\u0275fac=function(K){return new(K||P)},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac}),P})();const et=[Fe],rt=new o.OlP("@ngrx/store Internal Root Guard"),ct=new o.OlP("@ngrx/store Internal Initial State"),ie=new o.OlP("@ngrx/store Initial State"),te=new o.OlP("@ngrx/store Reducer Factory"),ce=new o.OlP("@ngrx/store Internal Reducer Factory Provider"),se=new o.OlP("@ngrx/store Initial Reducers"),$e=new o.OlP("@ngrx/store Internal Initial Reducers"),Oe=new o.OlP("@ngrx/store Store Features"),ft=new o.OlP("@ngrx/store Internal Store Reducers"),Yt=new o.OlP("@ngrx/store Internal Feature Reducers"),$t=new o.OlP("@ngrx/store Internal Feature Configs"),ke=new o.OlP("@ngrx/store Internal Store Features"),_i=new o.OlP("@ngrx/store Internal Feature Reducers Token"),zr=new o.OlP("@ngrx/store Feature Reducers"),mn=new o.OlP("@ngrx/store User Provided Meta Reducers"),Ot=new o.OlP("@ngrx/store Meta Reducers"),Wi=new o.OlP("@ngrx/store Internal Resolved Meta Reducers"),Fn=new o.OlP("@ngrx/store User Runtime Checks Config"),Ki=new o.OlP("@ngrx/store Internal User Runtime Checks Config"),Wr=new o.OlP("@ngrx/store Internal Runtime Checks"),ko=new o.OlP("@ngrx/store Check if Action types are unique");function No(P,ne={}){const K=Object.keys(P),re={};for(let Me=0;Me<K.length;Me++){const Nt=K[Me];"function"==typeof P[Nt]&&(re[Nt]=P[Nt])}const Le=Object.keys(re);return function(Nt,On){Nt=void 0===Nt?ne:Nt;let Cn=!1;const Vi={};for(let Pt=0;Pt<Le.length;Pt++){const Qi=Le[Pt],hd=Nt[Qi],fd=(0,re[Qi])(hd,On);Vi[Qi]=fd,Cn=Cn||fd!==hd}return Cn?Vi:Nt}}function br(...P){return function(ne){if(0===P.length)return ne;const K=P[P.length-1];return P.slice(0,-1).reduceRight((Le,Me)=>Me(Le),K(ne))}}function Sl(P,ne){return Array.isArray(ne)&&ne.length>0&&(P=br.apply(null,[...ne,P])),(K,re)=>{const Le=P(K);return(Me,Nt)=>Le(Me=void 0===Me?re:Me,Nt)}}new o.OlP("@ngrx/store Root Store Provider"),new o.OlP("@ngrx/store Feature State Provider");class ze extends J.y{}class ys extends Fe{}const Qs="@ngrx/store/update-reducers";let zt=(()=>{class P extends x.X{constructor(K,re,Le,Me){super(Me(Le,re)),this.dispatcher=K,this.initialState=re,this.reducers=Le,this.reducerFactory=Me}get currentReducers(){return this.reducers}addFeature(K){this.addFeatures([K])}addFeatures(K){const re=K.reduce((Le,{reducers:Me,reducerFactory:Nt,metaReducers:On,initialState:Cn,key:Vi})=>{const Pt="function"==typeof Me?function Kr(P){const ne=Array.isArray(P)&&P.length>0?br(...P):K=>K;return(K,re)=>(K=ne(K),(Le,Me)=>K(Le=void 0===Le?re:Le,Me))}(On)(Me,Cn):Sl(Nt,On)(Me,Cn);return Le[Vi]=Pt,Le},{});this.addReducers(re)}removeFeature(K){this.removeFeatures([K])}removeFeatures(K){this.removeReducers(K.map(re=>re.key))}addReducer(K,re){this.addReducers({[K]:re})}addReducers(K){this.reducers={...this.reducers,...K},this.updateReducers(Object.keys(K))}removeReducer(K){this.removeReducers([K])}removeReducers(K){K.forEach(re=>{this.reducers=function di(P,ne){return Object.keys(P).filter(K=>K!==ne).reduce((K,re)=>Object.assign(K,{[re]:P[re]}),{})}(this.reducers,re)}),this.updateReducers(K)}updateReducers(K){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Qs,features:K})}ngOnDestroy(){this.complete()}}return P.\u0275fac=function(K){return new(K||P)(o.LFG(ys),o.LFG(ie),o.LFG(se),o.LFG(te))},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac}),P})();const Js=[zt,{provide:ze,useExisting:zt},{provide:ys,useExisting:Fe}];let Cs=(()=>{class P extends X.x{ngOnDestroy(){this.complete()}}return P.\u0275fac=function(){let ne;return function(re){return(ne||(ne=o.n5z(P)))(re||P)}}(),P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac}),P})();const Ni=[Cs];class qn extends J.y{}let Sn=(()=>{class P extends x.X{constructor(K,re,Le,Me){super(Me);const Vi=K.pipe((0,W.Q)(V.N)).pipe((0,B.M)(re)).pipe((0,Z.R)(st,{state:Me}));this.stateSubscription=Vi.subscribe(({state:Pt,action:Qi})=>{this.next(Pt),Le.next(Qi)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return P.INIT=Re,P.\u0275fac=function(K){return new(K||P)(o.LFG(Fe),o.LFG(ze),o.LFG(Cs),o.LFG(ie))},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac}),P})();function st(P={state:void 0},[ne,K]){const{state:re}=P;return{state:K(re,ne),action:ne}}const tt=[Sn,{provide:qn,useExisting:Sn}];let Wt=(()=>{class P extends J.y{constructor(K,re,Le){super(),this.actionsObserver=re,this.reducerManager=Le,this.source=K}select(K,...re){return or.call(null,K,...re)(this)}lift(K){const re=new P(this,this.actionsObserver,this.reducerManager);return re.operator=K,re}dispatch(K){this.actionsObserver.next(K)}next(K){this.actionsObserver.next(K)}error(K){this.actionsObserver.error(K)}complete(){this.actionsObserver.complete()}addReducer(K,re){this.reducerManager.addReducer(K,re)}removeReducer(K){this.reducerManager.removeReducer(K)}}return P.\u0275fac=function(K){return new(K||P)(o.LFG(qn),o.LFG(Fe),o.LFG(zt))},P.\u0275prov=o.Yz7({token:P,factory:P.\u0275fac}),P})();const Vo=[Wt];function or(P,ne,...K){return function(Le){let Me;if("string"==typeof P){const Nt=[ne,...K].filter(Boolean);Me=Le.pipe(function Q(...P){const ne=P.length;if(0===ne)throw new Error("list of properties cannot be empty.");return(0,U.U)(K=>{let re=K;for(let Le=0;Le<ne;Le++){const Me=re?.[P[Le]];if(!(typeof Me<"u"))return;re=Me}return re})}(P,...Nt))}else{if("function"!=typeof P)throw new TypeError(`Unexpected type '${typeof P}' in select operator, expected 'string' or 'function'`);Me=Le.pipe((0,U.U)(Nt=>P(Nt,ne)))}return Me.pipe((0,z.x)())}}const Ti="https://ngrx.io/guide/store/configuration/runtime-checks";function yt(P){return void 0===P}function ws(P){return null===P}function Qt(P){return Array.isArray(P)}function xr(P){return"object"==typeof P&&null!==P}function Uo(P){return"function"==typeof P}function Ho(P,ne){return P===ne}function Lu(P,ne,K){for(let re=0;re<P.length;re++)if(!K(P[re],ne[re]))return!0;return!1}function Tn(P,ne=Ho,K=Ho){let Me,re=null,Le=null;return{memoized:function Vi(){if(void 0!==Me)return Me.result;if(!re)return Le=P.apply(null,arguments),re=arguments,Le;if(!Lu(arguments,re,ne))return Le;const Pt=P.apply(null,arguments);return re=arguments,K(Le,Pt)?Le:(Le=Pt,Pt)},reset:function Nt(){re=null,Le=null},setResult:function On(Pt){Me={result:Pt}},clearResult:function Cn(){Me=void 0}}}function Zn(...P){return function Ii(P,ne={stateFn:Mr}){return function(...K){let re=K;if(Array.isArray(re[0])){const[Pt,...Qi]=re;re=[...Pt,...Qi]}const Le=re.slice(0,re.length-1),Me=re[re.length-1],Nt=Le.filter(Pt=>Pt.release&&"function"==typeof Pt.release),On=P(function(...Pt){return Me.apply(null,Pt)}),Cn=Tn(function(Pt,Qi){return ne.stateFn.apply(null,[Pt,Le,Qi,On])});return Object.assign(Cn.memoized,{release:function Vi(){Cn.reset(),On.reset(),Nt.forEach(Pt=>Pt.release())},projector:On.memoized,setResult:Cn.setResult,clearResult:Cn.clearResult})}}(Tn)(...P)}function Mr(P,ne,K,re){if(void 0===K){const Me=ne.map(Nt=>Nt(P));return re.memoized.apply(null,Me)}const Le=ne.map(Me=>Me(P,K));return re.memoized.apply(null,[...Le,K])}function vi(P){return Zn(ne=>{const K=ne[P];return(0,o.X6Q)()&&!(P in ne)&&console.warn(`@ngrx/store: The feature name "${P}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${P}', ...) or StoreModule.forFeature('${P}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),K},ne=>ne)}function Oi(P,ne){return ne instanceof o.OlP?P.get(ne):ne}function Ar(P,ne,K){return K.map((re,Le)=>{if(ne[Le]instanceof o.OlP){const Me=P.get(ne[Le]);return{key:re.key,reducerFactory:Me.reducerFactory?Me.reducerFactory:No,metaReducers:Me.metaReducers?Me.metaReducers:[],initialState:Me.initialState}}return re})}function In(P,ne){return ne.map(re=>re instanceof o.OlP?P.get(re):re)}function ar(P){return"function"==typeof P?P():P}function sn(P,ne){return P.concat(ne)}function jo(P){if(P)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function wt(P){Object.freeze(P);const ne=Uo(P);return Object.getOwnPropertyNames(P).forEach(K=>{if(!K.startsWith("\u0275")&&function Ia(P,ne){return Object.prototype.hasOwnProperty.call(P,ne)}(P,K)&&(!ne||"caller"!==K&&"callee"!==K&&"arguments"!==K)){const re=P[K];(xr(re)||Uo(re))&&!Object.isFrozen(re)&&wt(re)}}),P}function Qr(P,ne=[]){return(yt(P)||ws(P))&&0===ne.length?{path:["root"],value:P}:Object.keys(P).reduce((re,Le)=>{if(re)return re;const Me=P[Le];return function Tl(P){return Uo(P)&&P.hasOwnProperty("\u0275cmp")}(Me)?re:!(yt(Me)||ws(Me)||function Dr(P){return"number"==typeof P}(Me)||function Vt(P){return"boolean"==typeof P}(Me)||function Bo(P){return"string"==typeof P}(Me)||Qt(Me))&&(function Yr(P){if(!function ld(P){return xr(P)&&!Qt(P)}(P))return!1;const ne=Object.getPrototypeOf(P);return ne===Object.prototype||null===ne}(Me)?Qr(Me,[...ne,Le]):{path:[...ne,Le],value:Me})},!1)}function bs(P,ne){if(!1===P)return;const K=P.path.join("."),re=new Error(`Detected unserializable ${ne} at "${K}". ${Ti}#strict${ne}serializability`);throw re.value=P.value,re.unserializablePath=K,re}function _n(P){return(0,o.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...P}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function xs({strictActionSerializability:P,strictStateSerializability:ne}){return K=>P||ne?function Xs(P,ne){return function(K,re){ne.action(re)&&bs(Qr(re),"action");const Le=P(K,re);return ne.state()&&bs(Qr(Le),"state"),Le}}(K,{action:re=>P&&!Pi(re),state:()=>ne}):K}function Ms({strictActionImmutability:P,strictStateImmutability:ne}){return K=>P||ne?function $o(P,ne){return function(K,re){const Le=ne.action(re)?wt(re):re,Me=P(K,Le);return ne.state()?wt(Me):Me}}(K,{action:re=>P&&!Pi(re),state:()=>ne}):K}function Pi(P){return P.type.startsWith("@ngrx")}function eo({strictActionWithinNgZone:P}){return ne=>P?function Ds(P,ne){return function(K,re){if(ne.action(re)&&!o.R0b.isInAngularZone())throw new Error(`Action '${re.type}' running outside NgZone. ${Ti}#strictactionwithinngzone`);return P(K,re)}}(ne,{action:K=>P&&!Pi(K)}):ne}function Oa(P){return[{provide:Ki,useValue:P},{provide:Fn,useFactory:ud,deps:[Ki]},{provide:Wr,deps:[Fn],useFactory:_n},{provide:Ot,multi:!0,deps:[Wr],useFactory:Ms},{provide:Ot,multi:!0,deps:[Wr],useFactory:xs},{provide:Ot,multi:!0,deps:[Wr],useFactory:eo}]}function Bt(){return[{provide:ko,multi:!0,deps:[Wr],useFactory:Nu}]}function ud(P){return P}function Nu(P){if(!P.strictActionTypeUniqueness)return;const ne=Object.entries(H).filter(([,K])=>K>1).map(([K])=>K);if(ne.length)throw new Error(`Action types are registered more than once, ${ne.map(K=>`"${K}"`).join(", ")}. ${Ti}#strictactiontypeuniqueness`)}function Ra(P,ne){return[{provide:rt,useFactory:jo,deps:[[Wt,new o.FiY,new o.tp0]]},{provide:ct,useValue:ne.initialState},{provide:ie,useFactory:ar,deps:[ct]},{provide:$e,useValue:P},{provide:ft,useExisting:P instanceof o.OlP?P:$e},{provide:se,deps:[o.zs3,$e,[new o.tBr(ft)]],useFactory:Oi},{provide:mn,useValue:ne.metaReducers?ne.metaReducers:[]},{provide:Wi,deps:[Ot,mn],useFactory:sn},{provide:ce,useValue:ne.reducerFactory?ne.reducerFactory:No},{provide:te,deps:[ce,Wi],useFactory:Sl},et,Js,Ni,tt,Vo,Oa(ne.runtimeChecks),Bt()]}function zn(P,ne,K={}){return[{provide:$t,multi:!0,useValue:P instanceof Object?{}:K},{provide:Oe,multi:!0,useValue:{key:P instanceof Object?P.name:P,reducerFactory:K instanceof o.OlP||!K.reducerFactory?No:K.reducerFactory,metaReducers:K instanceof o.OlP||!K.metaReducers?[]:K.metaReducers,initialState:K instanceof o.OlP||!K.initialState?void 0:K.initialState}},{provide:ke,deps:[o.zs3,$t,Oe],useFactory:Ar},{provide:Yt,multi:!0,useValue:P instanceof Object?P.reducer:ne},{provide:_i,multi:!0,useExisting:ne instanceof o.OlP?ne:Yt},{provide:zr,multi:!0,deps:[o.zs3,Yt,[new o.tBr(_i)]],useFactory:In},Bt()]}let Ln=(()=>{class P{constructor(K,re,Le,Me,Nt,On){}}return P.\u0275fac=function(K){return new(K||P)(o.LFG(Fe),o.LFG(ze),o.LFG(Cs),o.LFG(Wt),o.LFG(rt,8),o.LFG(ko,8))},P.\u0275mod=o.oAB({type:P}),P.\u0275inj=o.cJS({}),P})(),Sr=(()=>{class P{constructor(K,re,Le,Me,Nt){this.features=K,this.featureReducers=re,this.reducerManager=Le;const On=K.map((Cn,Vi)=>{const Qi=re.shift()[Vi];return{...Cn,reducers:Qi,initialState:ar(Cn.initialState)}});Le.addFeatures(On)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return P.\u0275fac=function(K){return new(K||P)(o.LFG(ke),o.LFG(zr),o.LFG(zt),o.LFG(Ln),o.LFG(ko,8))},P.\u0275mod=o.oAB({type:P}),P.\u0275inj=o.cJS({}),P})(),no=(()=>{class P{static forRoot(K,re={}){return{ngModule:Ln,providers:[...Ra(K,re)]}}static forFeature(K,re,Le={}){return{ngModule:Sr,providers:[...zn(K,re,Le)]}}}return P.\u0275fac=function(K){return new(K||P)},P.\u0275mod=o.oAB({type:P}),P.\u0275inj=o.cJS({}),P})();function Ss(...P){return{reducer:P.pop(),types:P.map(re=>re.type)}}function Yi(P,...ne){const K=new Map;for(const re of ne)for(const Le of re.types){const Me=K.get(Le);K.set(Le,Me?(On,Cn)=>re.reducer(Me(On,Cn),Cn):re.reducer)}return function(re=P,Le){const Me=K.get(Le.type);return Me?Me(re,Le):re}}}},$=>{$($.s=5418)}]);
</script>

</body></html>{% endverbatim %}