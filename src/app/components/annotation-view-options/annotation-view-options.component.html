<div id="tool_section_header">
    View Options
</div>
<div class="tool_item">
    <div class="tool_label">
        Zoom
    </div>
    <div class="tool_control custom-slider">
        <ngx-slider [options]="{ floor: .5, ceil: 5, step:.1 }" [value]=".5" (valueChange)="onZoomSliderChange($event)">
        </ngx-slider>
    </div>
</div>
<div class="tool_item">
    <fieldset #maskVisibilityCheckboxes>
        <legend>Masks <div class="icon_container" (click)="addMaskButtonClicked()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                    <path
                        d="M22.65 34h3v-8.3H34v-3h-8.35V14h-3v8.7H14v3h8.65ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 23.95q0-4.1 1.575-7.75 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24.05 4q4.1 0 7.75 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm.05-3q7.05 0 12-4.975T41 23.95q0-7.05-4.95-12T24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24.05 41ZM24 24Z" />
                </svg>
            </div>
            <!-- <img id="add_mask_icon" [src]="add_mask_icon" (click)="addMaskButtonClicked()"> -->
        </legend>
        <div *ngFor="let mask of maskViewData$ | async; let idx = index" class="mask_picker_container"
            [class.selected]="mask.selected">
            <div class="mask_info">
                <div>
                    <div class="mask_info_name">
                        <ng-container *ngIf="mask.name">
                            <ng-container *ngIf="mask.selected">
                                <input value="{{mask.name}}" (blur)="onMaskNameChange($event, mask)">
                            </ng-container>
                            <div class="mask_name_text" *ngIf="!mask.selected">
                                {{mask.name}}
                            </div>
                            <span class="tooltiptext">{{mask.name}}</span>
                        </ng-container>
                        <ng-container *ngIf="!mask.name">
                            <ng-container *ngIf="mask.selected">
                                <input value="Mask {{mask.id}}" (blur)="onMaskNameChange($event, mask)">
                            </ng-container>
                            <div class="mask_name_text" *ngIf="!mask.selected">
                                Mask {{mask.id}}
                            </div>
                            <span class="tooltiptext">Mask {{mask.id}}</span>
                        </ng-container>
                    </div>
                </div>
                <div>

                    <div class="icon_container" (click)="onShowMaskSelect(mask.id)"
                        *ngIf="mask.selected; else showVisibility">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                            <path
                                d="M24 44q-4.25 0-7.9-1.525-3.65-1.525-6.35-4.225-2.7-2.7-4.225-6.35Q4 28.25 4 24q0-4.2 1.525-7.85Q7.05 12.5 9.75 9.8q2.7-2.7 6.35-4.25Q19.75 4 24 4q4.2 0 7.85 1.55Q35.5 7.1 38.2 9.8q2.7 2.7 4.25 6.35Q44 19.8 44 24q0 .4-.025.8t-.075.8q-.65-.4-1.425-.85Q41.7 24.3 41 24q0-7.25-4.875-12.125T24 7q-3.3 0-6.15 1.075Q15 9.15 12.9 11l13.65 13.65q-.65.3-1.25.65-.6.35-1.2.75L10.95 12.9q-1.85 2.15-2.9 5Q7 20.75 7 24q0 6.25 3.725 10.825Q14.45 39.4 20.3 40.6q.75.85 1.75 1.8 1 .95 1.95 1.6Zm10-3q3.2 0 6.05-1.625Q42.9 37.75 44.7 35q-1.8-2.75-4.65-4.375Q37.2 29 34 29q-3.2 0-6.05 1.625Q25.1 32.25 23.3 35q1.8 2.75 4.65 4.375Q30.8 41 34 41Zm0 3q-4.8 0-8.575-2.525Q21.65 38.95 20 35q1.65-3.95 5.425-6.475Q29.2 26 34 26q4.8 0 8.575 2.525Q46.35 31.05 48 35q-1.65 3.95-5.425 6.475Q38.8 44 34 44Zm0-6q-1.25 0-2.125-.875T31 35q0-1.25.875-2.125T34 32q1.25 0 2.125.875T37 35q0 1.25-.875 2.125T34 38Z" />
                        </svg>
                    </div>
                    <ng-template #showVisibility>
                        <div class="icon_container" (click)="onShowMaskSelect(mask.id)" *ngIf="mask.checked">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                                <path
                                    d="M24 31.5q3.55 0 6.025-2.475Q32.5 26.55 32.5 23q0-3.55-2.475-6.025Q27.55 14.5 24 14.5q-3.55 0-6.025 2.475Q15.5 19.45 15.5 23q0 3.55 2.475 6.025Q20.45 31.5 24 31.5Zm0-2.9q-2.35 0-3.975-1.625T18.4 23q0-2.35 1.625-3.975T24 17.4q2.35 0 3.975 1.625T29.6 23q0 2.35-1.625 3.975T24 28.6Zm0 9.4q-7.3 0-13.2-4.15Q4.9 29.7 2 23q2.9-6.7 8.8-10.85Q16.7 8 24 8q7.3 0 13.2 4.15Q43.1 16.3 46 23q-2.9 6.7-8.8 10.85Q31.3 38 24 38Zm0-15Zm0 12q6.05 0 11.125-3.275T42.85 23q-2.65-5.45-7.725-8.725Q30.05 11 24 11t-11.125 3.275Q7.8 17.55 5.1 23q2.7 5.45 7.775 8.725Q17.95 35 24 35Z" />
                            </svg>
                        </div>
                        <div class="icon_container" (click)="onShowMaskSelect(mask.id)" *ngIf="!mask.checked">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                                <path
                                    d="m31.45 27.05-2.2-2.2q1.3-3.55-1.35-5.9-2.65-2.35-5.75-1.2l-2.2-2.2q.85-.55 1.9-.8 1.05-.25 2.15-.25 3.55 0 6.025 2.475Q32.5 19.45 32.5 23q0 1.1-.275 2.175-.275 1.075-.775 1.875Zm6.45 6.45-2-2q2.45-1.8 4.275-4.025Q42 25.25 42.85 23q-2.5-5.55-7.5-8.775Q30.35 11 24.5 11q-2.1 0-4.3.4-2.2.4-3.45.95L14.45 10q1.75-.8 4.475-1.4Q21.65 8 24.25 8q7.15 0 13.075 4.075Q43.25 16.15 46 23q-1.3 3.2-3.35 5.85-2.05 2.65-4.75 4.65Zm2.9 11.3-8.4-8.25q-1.75.7-3.95 1.075T24 38q-7.3 0-13.25-4.075T2 23q1-2.6 2.775-5.075T9.1 13.2L2.8 6.9l2.1-2.15L42.75 42.6ZM11.15 15.3q-1.85 1.35-3.575 3.55Q5.85 21.05 5.1 23q2.55 5.55 7.675 8.775Q17.9 35 24.4 35q1.65 0 3.25-.2t2.4-.6l-3.2-3.2q-.55.25-1.35.375T24 31.5q-3.5 0-6-2.45T15.5 23q0-.75.125-1.5T16 20.15Zm15.25 7.1Zm-5.8 2.9Z" />
                            </svg>
                        </div>
                    </ng-template>

                    <!-- <img class="visibility_icon" (click)="onShowMaskSelect(mask.id)"
                        [src]="mask.selected ? visibilityIcons.visibility_disabled : mask.checked ? visibilityIcons.visible : visibilityIcons.visibility_off"> -->
                    <input class="mask_color_patch" [colorPicker]="mask!.color || ''" [cpOKButton]="true"
                        [cpCancelButton]="true" (colorPickerSelect)="maskColorSet(mask, $event)"
                        [style.background-color]="mask!.color">
                    <div class="icon_container" (click)="maskSelected(mask.id)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                            <path
                                d="M9 39h2.2l22.15-22.15-2.2-2.2L9 36.8Zm30.7-24.3-6.4-6.4 2.1-2.1q.85-.85 2.1-.85t2.1.85l2.2 2.2q.85.85.85 2.1t-.85 2.1Zm-2.1 2.1L12.4 42H6v-6.4l25.2-25.2Zm-5.35-1.05-1.1-1.1 2.2 2.2Z" />
                        </svg>
                    </div>
                    <div class="icon_container" (click)="removeMaskButtonClicked(mask)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                            <path
                                d="M13.05 42q-1.25 0-2.125-.875T10.05 39V10.5H8v-3h9.4V6h13.2v1.5H40v3h-2.05V39q0 1.2-.9 2.1-.9.9-2.1.9Zm21.9-31.5h-21.9V39h21.9Zm-16.6 24.2h3V14.75h-3Zm8.3 0h3V14.75h-3Zm-13.6-24.2V39Z" />
                        </svg>
                    </div>
                    <!-- <img class="edit_icon" [src]="edit_icon" (click)="maskSelected(mask.id)"> -->
                    <!-- <img class="trash_icon" [src]="trash_icon" (click)="removeMaskButtonClicked(mask)"> -->
                </div>

            </div>

        </div>

    </fieldset>
</div>